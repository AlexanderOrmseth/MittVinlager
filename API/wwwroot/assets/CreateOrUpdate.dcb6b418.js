import{j as v,F as U,a,r as h,I as nt,b as ot,H as he,w as re,A as Re,O as ge,$ as $n,Q as Z,ae as Un,Z as Xt,ai as zn,_ as xe,y as Ee,V as Ie,aj as en,af as tn,W as vt,Y as Bn,aq as Hn,v as bt,ak as Dr,an as fe,a0 as ee,a1 as Kn,ao as Zn,ap as Qt,B as Be,G as ke,D as rn,aG as qn,aH as Gn,aI as qe,aJ as Ge,ab as Er,a3 as Fr,X as Yn,m as zt,T as Jn,L as Xn,aK as Qn}from"./index.57bc95c5.js";import{i as lr,r as Xe,u as nn,H as eo,P as to}from"./switch.32fa0799.js";import{e as ro}from"./radio-group.f6f390ad.js";import{h as on,s as an,c as no,M as oo,p as io,v as ao,A as so,L as Ar}from"./vinmonopolet.d46070d2.js";import{T as Lr,l as Or,t as Cr,W as lo,D as uo}from"./DatePicker.6ac16d0c.js";import{m as V,F as co}from"./index.07dfb635.js";import{S as fo}from"./Score.1e624618.js";import{u as po,V as mo}from"./VinmonopoletModal.bb92edb7.js";import{T as go}from"./Trash.esm.8068837d.js";var je=new Map;je.set("bold",function(e){return v(U,{children:[a("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),a("polyline",{points:"144 56 216 128 144 200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"})]})});je.set("duotone",function(e){return v(U,{children:[a("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a("polyline",{points:"144 56 216 128 144 200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"})]})});je.set("fill",function(){return a(U,{children:a("path",{d:"M221.7,133.7l-72,72A8.3,8.3,0,0,1,144,208a8.5,8.5,0,0,1-3.1-.6A8,8,0,0,1,136,200V136H40a8,8,0,0,1,0-16h96V56a8,8,0,0,1,4.9-7.4,8.4,8.4,0,0,1,8.8,1.7l72,72A8.1,8.1,0,0,1,221.7,133.7Z"})})});je.set("light",function(e){return v(U,{children:[a("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),a("polyline",{points:"144 56 216 128 144 200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"})]})});je.set("thin",function(e){return v(U,{children:[a("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),a("polyline",{points:"144 56 216 128 144 200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"})]})});je.set("regular",function(e){return v(U,{children:[a("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a("polyline",{points:"144 56 216 128 144 200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"})]})});var bo=function(r,t){return ot(r,t,je)},sn=h.exports.forwardRef(function(e,r){return a(nt,{...Object.assign({ref:r},e,{renderPath:bo})})});sn.displayName="ArrowRight";const ho=sn;var Ne=new Map;Ne.set("bold",function(e){return v(U,{children:[a("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),a("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"})]})});Ne.set("duotone",function(e){return v(U,{children:[a("circle",{cx:"128",cy:"128",r:"96",opacity:"0.2"}),a("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"})]})});Ne.set("fill",function(){return a(U,{children:a("path",{d:"M128,24A104,104,0,1,0,232,128,104.2,104.2,0,0,0,128,24Zm49.5,85.8-58.6,56a8.1,8.1,0,0,1-5.6,2.2,7.7,7.7,0,0,1-5.5-2.2l-29.3-28a8,8,0,1,1,11-11.6l23.8,22.7,53.2-50.7a8,8,0,0,1,11,11.6Z"})})});Ne.set("light",function(e){return v(U,{children:[a("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),a("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"})]})});Ne.set("thin",function(e){return v(U,{children:[a("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),a("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"})]})});Ne.set("regular",function(e){return v(U,{children:[a("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"})]})});var xo=function(r,t){return ot(r,t,Ne)},ln=h.exports.forwardRef(function(e,r){return a(nt,{...Object.assign({ref:r},e,{renderPath:xo})})});ln.displayName="CheckCircle";const vo=ln;var Ve=new Map;Ve.set("bold",function(e){return v(U,{children:[a("path",{d:"M128,56C48,56,16,128,16,128s32,72,112,72,112-72,112-72S208,56,128,56Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),a("circle",{cx:"128",cy:"128",r:"32",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"})]})});Ve.set("duotone",function(e){return v(U,{children:[a("path",{d:"M128,56C48,56,16,128,16,128s32,72,112,72,112-72,112-72S208,56,128,56Zm0,112a40,40,0,1,1,40-40A40,40,0,0,1,128,168Z",opacity:"0.2"}),a("path",{d:"M128,56C48,56,16,128,16,128s32,72,112,72,112-72,112-72S208,56,128,56Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a("circle",{cx:"128",cy:"128",r:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"})]})});Ve.set("fill",function(){return a(U,{children:a("path",{d:"M247.3,124.8c-.3-.8-8.8-19.6-27.6-38.5C194.6,61.3,162.9,48,128,48S61.4,61.3,36.3,86.3C17.5,105.2,9,124,8.7,124.8a7.9,7.9,0,0,0,0,6.4c.3.8,8.8,19.6,27.6,38.5C61.4,194.7,93.1,208,128,208s66.6-13.3,91.7-38.3c18.8-18.9,27.3-37.7,27.6-38.5A7.9,7.9,0,0,0,247.3,124.8ZM128,92a36,36,0,1,1-36,36A36,36,0,0,1,128,92Z"})})});Ve.set("light",function(e){return v(U,{children:[a("path",{d:"M128,56C48,56,16,128,16,128s32,72,112,72,112-72,112-72S208,56,128,56Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),a("circle",{cx:"128",cy:"128",r:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"})]})});Ve.set("thin",function(e){return v(U,{children:[a("path",{d:"M128,56C48,56,16,128,16,128s32,72,112,72,112-72,112-72S208,56,128,56Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),a("circle",{cx:"128",cy:"128",r:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"})]})});Ve.set("regular",function(e){return v(U,{children:[a("path",{d:"M128,56C48,56,16,128,16,128s32,72,112,72,112-72,112-72S208,56,128,56Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a("circle",{cx:"128",cy:"128",r:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"})]})});var yo=function(r,t){return ot(r,t,Ve)},un=h.exports.forwardRef(function(e,r){return a(nt,{...Object.assign({ref:r},e,{renderPath:yo})})});un.displayName="Eye";const ko=un;var Me=new Map;Me.set("bold",function(e){return v(U,{children:[a("path",{d:"M152,224l-44.7-67a3.9,3.9,0,0,0-6.6,0L79.8,188.4a4,4,0,0,1-6.7-.1l-9.7-15.1a4.1,4.1,0,0,0-6.8,0L24,224Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),a("polyline",{points:"148 32 148 92 208 92",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),a("path",{d:"M196,224h4a8,8,0,0,0,8-8V88L152,32H56a8,8,0,0,0-8,8v88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"})]})});Me.set("duotone",function(e){return v(U,{children:[a("path",{d:"M152,224l-44.7-67a3.9,3.9,0,0,0-6.6,0L79.8,188.4a4,4,0,0,1-6.7-.1l-9.7-15.1a4.1,4.1,0,0,0-6.8,0L24,224Z",opacity:"0.2"}),a("polygon",{points:"152 32 152 88 208 88 152 32",opacity:"0.2"}),a("path",{d:"M152,224l-44.7-67a3.9,3.9,0,0,0-6.6,0L79.8,188.4a4,4,0,0,1-6.7-.1l-9.7-15.1a4.1,4.1,0,0,0-6.8,0L24,224Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a("polyline",{points:"152 32 152 88 208 88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a("path",{d:"M192,224h8a8,8,0,0,0,8-8V88L152,32H56a8,8,0,0,0-8,8v96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"})]})});Me.set("fill",function(){return a(U,{children:a("path",{d:"M213.7,82.3l-56-56A8.1,8.1,0,0,0,152,24H56A16,16,0,0,0,40,40v96a8,8,0,0,0,16,0V40h88V88a8,8,0,0,0,8,8h48V216h-8a8,8,0,0,0,0,16h8a16,16,0,0,0,16-16V88A8.1,8.1,0,0,0,213.7,82.3ZM160,80V51.3L188.7,80Zm-1.3,139.6a8.3,8.3,0,0,1,.4,8.2A8,8,0,0,1,152,232H24a8,8,0,0,1-7-4.2,7.9,7.9,0,0,1,.3-8.1l32.6-50.8a12,12,0,0,1,20.2,0l6.4,10L94,152.6a12,12,0,0,1,20,0Z"})})});Me.set("light",function(e){return v(U,{children:[a("path",{d:"M152,224l-44.7-67a3.9,3.9,0,0,0-6.6,0L79.8,188.4a4,4,0,0,1-6.7-.1l-9.7-15.1a4.1,4.1,0,0,0-6.8,0L24,224Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),a("polyline",{points:"152 32 152 88 208 88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),a("path",{d:"M192,224h8a8,8,0,0,0,8-8V88L152,32H56a8,8,0,0,0-8,8v96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"})]})});Me.set("thin",function(e){return v(U,{children:[a("path",{d:"M152,224l-44.7-67a3.9,3.9,0,0,0-6.6,0L79.8,188.4a4,4,0,0,1-6.7-.1l-9.7-15.1a4.1,4.1,0,0,0-6.8,0L24,224Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),a("polyline",{points:"152 32 152 88 208 88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),a("path",{d:"M192,224h8a8,8,0,0,0,8-8V88L152,32H56a8,8,0,0,0-8,8v96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"})]})});Me.set("regular",function(e){return v(U,{children:[a("path",{d:"M152,224l-44.7-67a3.9,3.9,0,0,0-6.6,0L79.8,188.4a4,4,0,0,1-6.7-.1l-9.7-15.1a4.1,4.1,0,0,0-6.8,0L24,224Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a("polyline",{points:"152 32 152 88 208 88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a("path",{d:"M192,224h8a8,8,0,0,0,8-8V88L152,32H56a8,8,0,0,0-8,8v96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"})]})});var wo=function(r,t){return ot(r,t,Me)},cn=h.exports.forwardRef(function(e,r){return a(nt,{...Object.assign({ref:r},e,{renderPath:wo})})});cn.displayName="FileImage";const Sr=cn;var We=new Map;We.set("bold",function(e){return v(U,{children:[a("line",{x1:"128",y1:"104",x2:"128",y2:"136",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),a("path",{d:"M114.2,40l-88,152A16,16,0,0,0,40,216H216a16,16,0,0,0,13.8-24l-88-152A15.9,15.9,0,0,0,114.2,40Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),a("circle",{cx:"128",cy:"176",r:"16"})]})});We.set("duotone",function(e){return v(U,{children:[a("path",{d:"M114.2,40l-88,152A16,16,0,0,0,40,216H216a16,16,0,0,0,13.8-24l-88-152A15.9,15.9,0,0,0,114.2,40Z",opacity:"0.2"}),a("line",{x1:"128",y1:"112",x2:"128",y2:"144",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a("path",{d:"M114.2,40l-88,152A16,16,0,0,0,40,216H216a16,16,0,0,0,13.8-24l-88-152A15.9,15.9,0,0,0,114.2,40Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a("circle",{cx:"128",cy:"180",r:"12"})]})});We.set("fill",function(){return a(U,{children:a("path",{d:"M236.7,188,148.8,36a24,24,0,0,0-41.6,0h0L19.3,188A23.9,23.9,0,0,0,40,224H216a23.9,23.9,0,0,0,20.7-36ZM120,104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm8,88a12,12,0,1,1,12-12A12,12,0,0,1,128,192Z"})})});We.set("light",function(e){return v(U,{children:[a("line",{x1:"128",y1:"104",x2:"128",y2:"144",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),a("path",{d:"M114.2,40l-88,152A16,16,0,0,0,40,216H216a16,16,0,0,0,13.8-24l-88-152A15.9,15.9,0,0,0,114.2,40Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),a("circle",{cx:"128",cy:"180",r:"10"})]})});We.set("thin",function(e){return v(U,{children:[a("line",{x1:"128",y1:"104",x2:"128",y2:"144",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),a("path",{d:"M114.2,40l-88,152A16,16,0,0,0,40,216H216a16,16,0,0,0,13.8-24l-88-152A15.9,15.9,0,0,0,114.2,40Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),a("circle",{cx:"128",cy:"180",r:"8"})]})});We.set("regular",function(e){return v(U,{children:[a("line",{x1:"128",y1:"104",x2:"128",y2:"144",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a("path",{d:"M114.2,40l-88,152A16,16,0,0,0,40,216H216a16,16,0,0,0,13.8-24l-88-152A15.9,15.9,0,0,0,114.2,40Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a("circle",{cx:"128",cy:"180",r:"12"})]})});var Do=function(r,t){return ot(r,t,We)},dn=h.exports.forwardRef(function(e,r){return a(nt,{...Object.assign({ref:r},e,{renderPath:Do})})});dn.displayName="Warning";const Eo=dn;var Fo=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Fo||{}),Ao=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Ao||{}),Lo=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Lo||{}),Oo=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.RegisterOption=3]="RegisterOption",e[e.UnregisterOption=4]="UnregisterOption",e))(Oo||{});function Bt(e,r=t=>t){let t=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,n=Qt(r(e.options.slice()),i=>i.dataRef.current.domRef.current),o=t?n.indexOf(t):null;return o===-1&&(o=null),{options:n,activeOptionIndex:o}}let Co={[1](e){return e.dataRef.current.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1}},[0](e){if(e.dataRef.current.disabled||e.comboboxState===0)return e;let r=e.activeOptionIndex,{isSelected:t}=e.dataRef.current,n=e.options.findIndex(o=>t(o.dataRef.current.value));return n!==-1&&(r=n),{...e,comboboxState:0,activeOptionIndex:r}},[2](e,r){var t;if(e.dataRef.current.disabled||e.dataRef.current.optionsRef.current&&!e.dataRef.current.optionsPropsRef.current.static&&e.comboboxState===1)return e;let n=Bt(e);if(n.activeOptionIndex===null){let i=n.options.findIndex(l=>!l.dataRef.current.disabled);i!==-1&&(n.activeOptionIndex=i)}let o=Zn(r,{resolveItems:()=>n.options,resolveActiveIndex:()=>n.activeOptionIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled});return{...e,...n,activeOptionIndex:o,activationTrigger:(t=r.trigger)!=null?t:1}},[3]:(e,r)=>{let t={id:r.id,dataRef:r.dataRef},n=Bt(e,i=>[...i,t]);e.activeOptionIndex===null&&e.dataRef.current.isSelected(r.dataRef.current.value)&&(n.activeOptionIndex=n.options.indexOf(t));let o={...e,...n,activationTrigger:1};return e.dataRef.current.__demoMode&&e.dataRef.current.value===void 0&&(o.activeOptionIndex=0),o},[4]:(e,r)=>{let t=Bt(e,n=>{let o=n.findIndex(i=>i.id===r.id);return o!==-1&&n.splice(o,1),n});return{...e,...t,activationTrigger:1}}},ur=h.exports.createContext(null);ur.displayName="ComboboxActionsContext";function Ot(e){let r=h.exports.useContext(ur);if(r===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Ot),t}return r}let cr=h.exports.createContext(null);cr.displayName="ComboboxDataContext";function Ye(e){let r=h.exports.useContext(cr);if(r===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Ye),t}return r}function So(e,r){return Re(r.type,Co,e,r)}let Ro=h.exports.Fragment,Po=he(function(e,r){let{name:t,value:n,onChange:o,disabled:i=!1,__demoMode:l=!1,nullable:u=!1,multiple:g=!1,...d}=e,[m,x]=h.exports.useReducer(So,{dataRef:h.exports.createRef(),comboboxState:l?0:1,options:[],activeOptionIndex:null,activationTrigger:1}),p=h.exports.useRef(!1),y=h.exports.useRef({static:!1,hold:!1}),E=h.exports.useRef({displayValue:void 0}),S=h.exports.useRef(null),B=h.exports.useRef(null),W=h.exports.useRef(null),I=h.exports.useRef(null),j=re(($,z)=>$===z),C=h.exports.useCallback($=>Re(F.mode,{[1]:()=>n.some(z=>j(z,$)),[0]:()=>j(n,$)}),[n]),F=h.exports.useMemo(()=>({...m,optionsPropsRef:y,inputPropsRef:E,labelRef:S,inputRef:B,buttonRef:W,optionsRef:I,value:n,disabled:i,mode:g?1:0,get activeOptionIndex(){if(p.current&&m.activeOptionIndex===null&&m.options.length>0){let $=m.options.findIndex(z=>!z.dataRef.current.disabled);if($!==-1)return $}return m.activeOptionIndex},compare:j,isSelected:C,nullable:u,__demoMode:l}),[n,i,g,u,l,m]);ge(()=>{m.dataRef.current=F},[F]),$n([F.buttonRef,F.inputRef,F.optionsRef],()=>x({type:1}),F.comboboxState===0);let X=h.exports.useMemo(()=>({open:F.comboboxState===0,disabled:i,activeIndex:F.activeOptionIndex,activeOption:F.activeOptionIndex===null?null:F.options[F.activeOptionIndex].dataRef.current.value}),[F,i]),N=h.exports.useCallback(()=>{var $;if(!F.inputRef.current)return;let z=E.current.displayValue;typeof z=="function"?F.inputRef.current.value=($=z(n))!=null?$:"":typeof n=="string"?F.inputRef.current.value=n:F.inputRef.current.value=""},[n,F.inputRef,E]),_=re($=>{let z=F.options.find(Q=>Q.id===$);!z||(M(z.dataRef.current.value),N())}),T=re(()=>{if(F.activeOptionIndex!==null){let{dataRef:$,id:z}=F.options[F.activeOptionIndex];M($.current.value),N(),x({type:2,focus:fe.Specific,id:z})}}),Y=re(()=>{x({type:0}),p.current=!0}),O=re(()=>{x({type:1}),p.current=!1}),P=re(($,z,Q)=>(p.current=!1,$===fe.Specific?x({type:2,focus:fe.Specific,id:z,trigger:Q}):x({type:2,focus:$,trigger:Q}))),H=re(($,z)=>(x({type:3,id:$,dataRef:z}),()=>x({type:4,id:$}))),M=re($=>Re(F.mode,{[0](){return o($)},[1](){let z=F.value.slice(),Q=z.indexOf($);return Q===-1?z.push($):z.splice(Q,1),o(z)}})),K=h.exports.useMemo(()=>({onChange:M,registerOption:H,goToOption:P,closeCombobox:O,openCombobox:Y,selectActiveOption:T,selectOption:_}),[]);ge(()=>{F.comboboxState===1&&N()},[N,F.comboboxState]),ge(N,[N]);let de=r===null?{}:{ref:r};return a(ur.Provider,{value:K,children:Z.createElement(cr.Provider,{value:F},Z.createElement(Un,{value:Re(F.comboboxState,{[0]:Xt.Open,[1]:Xt.Closed})},t!=null&&n!=null&&ro({[t]:n}).map(([$,z])=>a(on,{features:an.Hidden,...zn({key:$,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:$,value:z})})),xe({ourProps:de,theirProps:d,slot:X,defaultTag:Ro,name:"Combobox"})))})}),_o="input",To=he(function(e,r){var t,n;let{value:o,onChange:i,displayValue:l,type:u="text",...g}=e,d=Ye("Combobox.Input"),m=Ot("Combobox.Input"),x=Ee(d.inputRef,r),p=d.inputPropsRef,y=`headlessui-combobox-input-${Ie()}`,E=en();ge(()=>{p.current.displayValue=l},[l,p]);let S=re(C=>{switch(C.key){case ee.Backspace:case ee.Delete:if(d.mode!==0||!d.nullable)return;let F=C.currentTarget;E.requestAnimationFrame(()=>{F.value===""&&(m.onChange(null),d.optionsRef.current&&(d.optionsRef.current.scrollTop=0),m.goToOption(fe.Nothing))});break;case ee.Enter:if(d.comboboxState!==0)return;if(C.preventDefault(),C.stopPropagation(),d.activeOptionIndex===null){m.closeCombobox();return}m.selectActiveOption(),d.mode===0&&m.closeCombobox();break;case ee.ArrowDown:return C.preventDefault(),C.stopPropagation(),Re(d.comboboxState,{[0]:()=>{m.goToOption(fe.Next)},[1]:()=>{m.openCombobox()}});case ee.ArrowUp:return C.preventDefault(),C.stopPropagation(),Re(d.comboboxState,{[0]:()=>{m.goToOption(fe.Previous)},[1]:()=>{m.openCombobox(),E.nextFrame(()=>{d.value||m.goToOption(fe.Last)})}});case ee.Home:case ee.PageUp:return C.preventDefault(),C.stopPropagation(),m.goToOption(fe.First);case ee.End:case ee.PageDown:return C.preventDefault(),C.stopPropagation(),m.goToOption(fe.Last);case ee.Escape:return d.comboboxState!==0?void 0:(C.preventDefault(),d.optionsRef.current&&!d.optionsPropsRef.current.static&&C.stopPropagation(),m.closeCombobox());case ee.Tab:if(d.comboboxState!==0)return;m.selectActiveOption(),m.closeCombobox();break}}),B=re(C=>{m.openCombobox(),i==null||i(C)}),W=lr(()=>{if(d.labelRef.current)return[d.labelRef.current.id].join(" ")},[d.labelRef.current]),I=h.exports.useMemo(()=>({open:d.comboboxState===0,disabled:d.disabled}),[d]),j={ref:x,id:y,role:"combobox",type:u,"aria-controls":(t=d.optionsRef.current)==null?void 0:t.id,"aria-expanded":d.disabled?void 0:d.comboboxState===0,"aria-activedescendant":d.activeOptionIndex===null||(n=d.options[d.activeOptionIndex])==null?void 0:n.id,"aria-multiselectable":d.mode===1?!0:void 0,"aria-labelledby":W,disabled:d.disabled,onKeyDown:S,onChange:B};return xe({ourProps:j,theirProps:g,slot:I,defaultTag:_o,name:"Combobox.Input"})}),Io="button",jo=he(function(e,r){var t;let n=Ye("Combobox.Button"),o=Ot("Combobox.Button"),i=Ee(n.buttonRef,r),l=`headlessui-combobox-button-${Ie()}`,u=en(),g=re(E=>{switch(E.key){case ee.ArrowDown:return E.preventDefault(),E.stopPropagation(),n.comboboxState===1&&o.openCombobox(),u.nextFrame(()=>{var S;return(S=n.inputRef.current)==null?void 0:S.focus({preventScroll:!0})});case ee.ArrowUp:return E.preventDefault(),E.stopPropagation(),n.comboboxState===1&&(o.openCombobox(),u.nextFrame(()=>{n.value||o.goToOption(fe.Last)})),u.nextFrame(()=>{var S;return(S=n.inputRef.current)==null?void 0:S.focus({preventScroll:!0})});case ee.Escape:return n.comboboxState!==0?void 0:(E.preventDefault(),n.optionsRef.current&&!n.optionsPropsRef.current.static&&E.stopPropagation(),o.closeCombobox(),u.nextFrame(()=>{var S;return(S=n.inputRef.current)==null?void 0:S.focus({preventScroll:!0})}));default:return}}),d=re(E=>{if(Kn(E.currentTarget))return E.preventDefault();n.comboboxState===0?o.closeCombobox():(E.preventDefault(),o.openCombobox()),u.nextFrame(()=>{var S;return(S=n.inputRef.current)==null?void 0:S.focus({preventScroll:!0})})}),m=lr(()=>{if(n.labelRef.current)return[n.labelRef.current.id,l].join(" ")},[n.labelRef.current,l]),x=h.exports.useMemo(()=>({open:n.comboboxState===0,disabled:n.disabled}),[n]),p=e,y={ref:i,id:l,type:tn(e,n.buttonRef),tabIndex:-1,"aria-haspopup":!0,"aria-controls":(t=n.optionsRef.current)==null?void 0:t.id,"aria-expanded":n.disabled?void 0:n.comboboxState===0,"aria-labelledby":m,disabled:n.disabled,onClick:d,onKeyDown:g};return xe({ourProps:y,theirProps:p,slot:x,defaultTag:Io,name:"Combobox.Button"})}),No="label",Vo=he(function(e,r){let t=Ye("Combobox.Label"),n=`headlessui-combobox-label-${Ie()}`,o=Ee(t.labelRef,r),i=re(()=>{var u;return(u=t.inputRef.current)==null?void 0:u.focus({preventScroll:!0})}),l=h.exports.useMemo(()=>({open:t.comboboxState===0,disabled:t.disabled}),[t]);return xe({ourProps:{ref:o,id:n,onClick:i},theirProps:e,slot:l,defaultTag:No,name:"Combobox.Label"})}),Mo="ul",Wo=vt.RenderStrategy|vt.Static,$o=he(function(e,r){var t;let{hold:n=!1,...o}=e,i=Ye("Combobox.Options"),l=Ee(i.optionsRef,r),u=`headlessui-combobox-options-${Ie()}`,g=Bn(),d=(()=>g!==null?g===Xt.Open:i.comboboxState===0)();ge(()=>{var y;i.optionsPropsRef.current.static=(y=e.static)!=null?y:!1},[i.optionsPropsRef,e.static]),ge(()=>{i.optionsPropsRef.current.hold=n},[i.optionsPropsRef,n]),Hn({container:i.optionsRef.current,enabled:i.comboboxState===0,accept(y){return y.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:y.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(y){y.setAttribute("role","none")}});let m=lr(()=>{var y,E,S;return(S=(y=i.labelRef.current)==null?void 0:y.id)!=null?S:(E=i.buttonRef.current)==null?void 0:E.id},[i.labelRef.current,i.buttonRef.current]),x=h.exports.useMemo(()=>({open:i.comboboxState===0}),[i]),p={"aria-activedescendant":i.activeOptionIndex===null||(t=i.options[i.activeOptionIndex])==null?void 0:t.id,"aria-labelledby":m,role:"listbox",id:u,ref:l};return xe({ourProps:p,theirProps:o,slot:x,defaultTag:Mo,features:Wo,visible:d,name:"Combobox.Options"})}),Uo="li",zo=he(function(e,r){var t,n;let{disabled:o=!1,value:i,...l}=e,u=Ye("Combobox.Option"),g=Ot("Combobox.Option"),d=`headlessui-combobox-option-${Ie()}`,m=u.activeOptionIndex!==null?u.options[u.activeOptionIndex].id===d:!1,x=u.isSelected(i),p=h.exports.useRef(null),y=bt({disabled:o,value:i,domRef:p,textValue:(n=(t=p.current)==null?void 0:t.textContent)==null?void 0:n.toLowerCase()}),E=Ee(r,p),S=re(()=>g.selectOption(d));ge(()=>g.registerOption(d,y),[y,d]);let B=h.exports.useRef(!u.__demoMode);ge(()=>{if(!u.__demoMode)return;let X=Dr();return X.requestAnimationFrame(()=>{B.current=!0}),X.dispose},[]),ge(()=>{if(u.comboboxState!==0||!m||!B.current||u.activationTrigger===0)return;let X=Dr();return X.requestAnimationFrame(()=>{var N,_;(_=(N=p.current)==null?void 0:N.scrollIntoView)==null||_.call(N,{block:"nearest"})}),X.dispose},[p,m,u.comboboxState,u.activationTrigger,u.activeOptionIndex]);let W=re(X=>{var N;if(o)return X.preventDefault();S(),u.mode===0&&(g.closeCombobox(),(N=u.inputRef.current)==null||N.focus({preventScroll:!0}))}),I=re(()=>{if(o)return g.goToOption(fe.Nothing);g.goToOption(fe.Specific,d)}),j=re(()=>{o||m||g.goToOption(fe.Specific,d,0)}),C=re(()=>{o||!m||u.optionsPropsRef.current.hold||g.goToOption(fe.Nothing)}),F=h.exports.useMemo(()=>({active:m,selected:x,disabled:o}),[m,x,o]);return xe({ourProps:{id:d,ref:E,role:"option",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,"aria-selected":x===!0?!0:void 0,disabled:void 0,onClick:W,onFocus:I,onPointerMove:j,onMouseMove:j,onPointerLeave:C,onMouseLeave:C},theirProps:l,slot:F,defaultTag:Uo,name:"Combobox.Option"})}),Qe=Object.assign(Po,{Input:To,Button:jo,Label:Vo,Options:$o,Option:zo});function Bo({onFocus:e}){let[r,t]=h.exports.useState(!0);return r?Z.createElement(on,{as:"button",type:"button",features:an.Focusable,onFocus:n=>{n.preventDefault();let o,i=50;function l(){if(i--<=0){o&&cancelAnimationFrame(o);return}if(e()){t(!1),cancelAnimationFrame(o);return}o=requestAnimationFrame(l)}o=requestAnimationFrame(l)}}):null}var Ho=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e[e.ForceRerender=5]="ForceRerender",e))(Ho||{});let Ko={[0](e,r){let t=e.tabs.filter(i=>{var l;return!((l=i.current)!=null&&l.hasAttribute("disabled"))});if(r.index<0)return{...e,selectedIndex:e.tabs.indexOf(t[0])};if(r.index>e.tabs.length)return{...e,selectedIndex:e.tabs.indexOf(t[t.length-1])};let n=e.tabs.slice(0,r.index),o=[...e.tabs.slice(r.index),...n].find(i=>t.includes(i));return o?{...e,selectedIndex:e.tabs.indexOf(o)}:e},[1](e,r){return e.tabs.includes(r.tab)?e:{...e,tabs:Qt([...e.tabs,r.tab],t=>t.current)}},[2](e,r){return{...e,tabs:Qt(e.tabs.filter(t=>t!==r.tab),t=>t.current)}},[3](e,r){return e.panels.includes(r.panel)?e:{...e,panels:[...e.panels,r.panel]}},[4](e,r){return{...e,panels:e.panels.filter(t=>t!==r.panel)}},[5](e){return{...e}}},dr=h.exports.createContext(null);dr.displayName="TabsSSRContext";function fr(e){let r=h.exports.useContext(dr);if(r===null){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,fr),t}return r}let pr=h.exports.createContext(null);pr.displayName="TabsDataContext";function it(e){let r=h.exports.useContext(pr);if(r===null){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,it),t}return r}let mr=h.exports.createContext(null);mr.displayName="TabsActionsContext";function gr(e){let r=h.exports.useContext(mr);if(r===null){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,gr),t}return r}function Zo(e,r){return Re(r.type,Ko,e,r)}let qo=h.exports.Fragment,Go=he(function(e,r){let{defaultIndex:t=0,vertical:n=!1,manual:o=!1,onChange:i,selectedIndex:l=null,...u}=e;const g=n?"vertical":"horizontal",d=o?"manual":"auto";let m=Ee(r),[x,p]=h.exports.useReducer(Zo,{selectedIndex:l!=null?l:t,tabs:[],panels:[]}),y=h.exports.useMemo(()=>({selectedIndex:x.selectedIndex}),[x.selectedIndex]),E=bt(i||(()=>{})),S=bt(x.tabs),B=h.exports.useMemo(()=>({orientation:g,activation:d,...x}),[g,d,x]),W=bt(x.selectedIndex),I=h.exports.useMemo(()=>({registerTab(F){return p({type:1,tab:F}),()=>p({type:2,tab:F})},registerPanel(F){return p({type:3,panel:F}),()=>p({type:4,panel:F})},forceRerender(){p({type:5})},change(F){W.current!==F&&E.current(F),W.current=F,p({type:0,index:F})}}),[p]);ge(()=>{p({type:0,index:l!=null?l:t})},[l]);let j=h.exports.useRef({tabs:[],panels:[]}),C={ref:m};return a(dr.Provider,{value:j,children:Z.createElement(mr.Provider,{value:I},v(pr.Provider,{value:B,children:[B.tabs.length<=0&&Z.createElement(Bo,{onFocus:()=>{var F,X;for(let N of S.current)if(((F=N.current)==null?void 0:F.tabIndex)===0)return(X=N.current)==null||X.focus(),!0;return!1}}),xe({ourProps:C,theirProps:u,slot:y,defaultTag:qo,name:"Tabs"})]}))})}),Yo="div",Jo=he(function(e,r){let{orientation:t,selectedIndex:n}=it("Tab.List"),o=Ee(r);return xe({ourProps:{ref:o,role:"tablist","aria-orientation":t},theirProps:e,slot:{selectedIndex:n},defaultTag:Yo,name:"Tabs.List"})}),Xo="button",Qo=he(function(e,r){var t,n;let o=`headlessui-tabs-tab-${Ie()}`,{orientation:i,activation:l,selectedIndex:u,tabs:g,panels:d}=it("Tab"),m=gr("Tab"),x=fr("Tab"),p=h.exports.useRef(null),y=Ee(p,r,_=>{!_||m.forceRerender()});ge(()=>m.registerTab(p),[m,p]);let E=x.current.tabs.indexOf(o);E===-1&&(E=x.current.tabs.push(o)-1);let S=g.indexOf(p);S===-1&&(S=E);let B=S===u,W=re(_=>{let T=g.map(Y=>Y.current).filter(Boolean);if(_.key===ee.Space||_.key===ee.Enter){_.preventDefault(),_.stopPropagation(),m.change(S);return}switch(_.key){case ee.Home:case ee.PageUp:return _.preventDefault(),_.stopPropagation(),Be(T,ke.First);case ee.End:case ee.PageDown:return _.preventDefault(),_.stopPropagation(),Be(T,ke.Last)}if(Re(i,{vertical(){if(_.key===ee.ArrowUp)return Be(T,ke.Previous|ke.WrapAround);if(_.key===ee.ArrowDown)return Be(T,ke.Next|ke.WrapAround)},horizontal(){if(_.key===ee.ArrowLeft)return Be(T,ke.Previous|ke.WrapAround);if(_.key===ee.ArrowRight)return Be(T,ke.Next|ke.WrapAround)}}))return _.preventDefault()}),I=re(()=>{var _;(_=p.current)==null||_.focus()}),j=re(()=>{var _;(_=p.current)==null||_.focus(),m.change(S)}),C=re(_=>{_.preventDefault()}),F=h.exports.useMemo(()=>({selected:B}),[B]),X=e,N={ref:y,onKeyDown:W,onFocus:l==="manual"?I:j,onMouseDown:C,onClick:j,id:o,role:"tab",type:tn(e,p),"aria-controls":(n=(t=d[S])==null?void 0:t.current)==null?void 0:n.id,"aria-selected":B,tabIndex:B?0:-1};return xe({ourProps:N,theirProps:X,slot:F,defaultTag:Xo,name:"Tabs.Tab"})}),ei="div",ti=he(function(e,r){let{selectedIndex:t}=it("Tab.Panels"),n=Ee(r),o=h.exports.useMemo(()=>({selectedIndex:t}),[t]);return xe({ourProps:{ref:n},theirProps:e,slot:o,defaultTag:ei,name:"Tabs.Panels"})}),ri="div",ni=vt.RenderStrategy|vt.Static,oi=he(function(e,r){var t,n;let{selectedIndex:o,tabs:i,panels:l}=it("Tab.Panel"),u=gr("Tab.Panel"),g=fr("Tab.Panel"),d=`headlessui-tabs-panel-${Ie()}`,m=h.exports.useRef(null),x=Ee(m,r,I=>{!I||u.forceRerender()});ge(()=>u.registerPanel(m),[u,m]);let p=g.current.panels.indexOf(d);p===-1&&(p=g.current.panels.push(d)-1);let y=l.indexOf(m);y===-1&&(y=p);let E=y===o,S=h.exports.useMemo(()=>({selected:E}),[E]),B=e,W={ref:x,id:d,role:"tabpanel","aria-labelledby":(n=(t=i[y])==null?void 0:t.current)==null?void 0:n.id,tabIndex:E?0:-1};return xe({ourProps:W,theirProps:B,slot:S,defaultTag:ri,features:ni,visible:E,name:"Tabs.Panel"})}),Pe=Object.assign(Qo,{Group:Go,List:Jo,Panels:ti,Panel:oi});var at=e=>e.type==="checkbox",Ke=e=>e instanceof Date,ue=e=>e==null;const fn=e=>typeof e=="object";var le=e=>!ue(e)&&!Array.isArray(e)&&fn(e)&&!Ke(e),pn=e=>le(e)&&e.target?at(e.target)?e.target.checked:e.target.value:e,ii=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,mn=(e,r)=>e.has(ii(r)),st=e=>Array.isArray(e)?e.filter(Boolean):[],ne=e=>e===void 0,w=(e,r,t)=>{if(!r||!le(e))return t;const n=st(r.split(/[,[\].]+?/)).reduce((o,i)=>ue(o)?o:o[i],e);return ne(n)||n===e?ne(e[r])?t:e[r]:n};const yt={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},be={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Le={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ai=Z.createContext(null),br=()=>Z.useContext(ai);var gn=(e,r,t,n=!0)=>{const o={};for(const i in e)Object.defineProperty(o,i,{get:()=>{const l=i;return r[l]!==be.all&&(r[l]=!n||be.all),t&&(t[l]=!0),e[l]}});return o},me=e=>le(e)&&!Object.keys(e).length,bn=(e,r,t)=>{const{name:n,...o}=e;return me(o)||Object.keys(o).length>=Object.keys(r).length||Object.keys(o).find(i=>r[i]===(!t||be.all))},ht=e=>Array.isArray(e)?e:[e],hn=(e,r,t)=>t&&r?e===r:!e||!r||e===r||ht(e).some(n=>n&&(n.startsWith(r)||r.startsWith(n)));function hr(e){const r=Z.useRef(e);r.current=e,Z.useEffect(()=>{const t=o=>{o&&o.unsubscribe()},n=!e.disabled&&r.current.subject.subscribe({next:r.current.callback});return()=>t(n)},[e.disabled])}function si(e){const r=br(),{control:t=r.control,disabled:n,name:o,exact:i}=e||{},[l,u]=Z.useState(t._formState),g=Z.useRef({isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=Z.useRef(o),m=Z.useRef(!0);d.current=o;const x=Z.useCallback(p=>m.current&&hn(d.current,p.name,i)&&bn(p,g.current)&&u({...t._formState,...p}),[t,i]);return hr({disabled:n,callback:x,subject:t._subjects.state}),Z.useEffect(()=>(m.current=!0,()=>{m.current=!1}),[]),gn(l,t._proxyFormState,g.current,!1)}var De=e=>typeof e=="string",xn=(e,r,t,n)=>{const o=Array.isArray(e);return De(e)?(n&&r.watch.add(e),w(t,e)):o?e.map(i=>(n&&r.watch.add(i),w(t,i))):(n&&(r.watchAll=!0),t)},Ct=e=>typeof e=="function",xr=e=>{for(const r in e)if(Ct(e[r]))return!0;return!1};function li(e){const r=br(),{control:t=r.control,name:n,defaultValue:o,disabled:i,exact:l}=e||{},u=Z.useRef(n);u.current=n;const g=Z.useCallback(x=>{if(hn(u.current,x.name,l)){const p=xn(u.current,t._names,x.values||t._formValues);m(ne(u.current)||le(p)&&!xr(p)?{...p}:Array.isArray(p)?[...p]:ne(p)?o:p)}},[t,l,o]);hr({disabled:i,subject:t._subjects.watch,callback:g});const[d,m]=Z.useState(ne(o)?t._getWatch(n):o);return Z.useEffect(()=>{t._removeUnmounted()}),d}function ve(e){const r=br(),{name:t,control:n=r.control,shouldUnregister:o}=e,i=mn(n._names.array,t),l=li({control:n,name:t,defaultValue:w(n._formValues,t,w(n._defaultValues,t,e.defaultValue)),exact:!0}),u=si({control:n,name:t}),g=Z.useRef(n.register(t,{...e.rules,value:l}));return Z.useEffect(()=>{const d=(m,x)=>{const p=w(n._fields,m);p&&(p._f.mount=x)};return d(t,!0),()=>{const m=n._options.shouldUnregister||o;(i?m&&!n._stateFlags.action:m)?n.unregister(t):d(t,!1)}},[t,n,i,o]),{field:{name:t,value:l,onChange:Z.useCallback(d=>{g.current.onChange({target:{value:pn(d),name:t},type:yt.CHANGE})},[t]),onBlur:Z.useCallback(()=>{g.current.onBlur({target:{value:w(n._formValues,t),name:t},type:yt.BLUR})},[t,n]),ref:Z.useCallback(d=>{const m=w(n._fields,t);d&&m&&d.focus&&(m._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:x=>d.setCustomValidity(x),reportValidity:()=>d.reportValidity()})},[t,n._fields])},formState:u,fieldState:Object.defineProperties({},{invalid:{get:()=>!!w(u.errors,t)},isDirty:{get:()=>!!w(u.dirtyFields,t)},isTouched:{get:()=>!!w(u.touchedFields,t)},error:{get:()=>w(u.errors,t)}})}}const Fe=e=>e.render(ve(e));var vn=(e,r,t,n,o)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[n]:o||!0}}:{},vr=e=>/^\w*$/.test(e),yn=e=>st(e.replace(/["|']|\]/g,"").split(/\.|\[/));function J(e,r,t){let n=-1;const o=vr(r)?[r]:yn(r),i=o.length,l=i-1;for(;++n<i;){const u=o[n];let g=t;if(n!==l){const d=e[u];g=le(d)||Array.isArray(d)?d:isNaN(+o[n+1])?{}:[]}e[u]=g,e=e[u]}return e}const er=(e,r,t)=>{for(const n of t||Object.keys(e)){const o=w(e,n);if(o){const{_f:i,...l}=o;if(i&&r(i.name)){if(i.ref.focus&&ne(i.ref.focus()))break;if(i.refs){i.refs[0].focus();break}}else le(l)&&er(l,r)}}};var Rr=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length)))),ui=(e,r,t)=>{const n=st(w(e,t));return J(n,"root",r[t]),J(e,t,n),e},kt=e=>typeof e=="boolean",yr=e=>e.type==="file",xt=e=>De(e)||Z.isValidElement(e),kr=e=>e.type==="radio",wt=e=>e instanceof RegExp;const Pr={value:!1,isValid:!1},_r={value:!0,isValid:!0};var kn=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ne(e[0].attributes.value)?ne(e[0].value)||e[0].value===""?_r:{value:e[0].value,isValid:!0}:_r:Pr}return Pr};const Tr={isValid:!1,value:null};var wn=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,Tr):Tr;function Ir(e,r,t="validate"){if(xt(e)||Array.isArray(e)&&e.every(xt)||kt(e)&&!e)return{type:t,message:xt(e)?e:"",ref:r}}var He=e=>le(e)&&!wt(e)?e:{value:e,message:""},jr=async(e,r,t,n,o)=>{const{ref:i,refs:l,required:u,maxLength:g,minLength:d,min:m,max:x,pattern:p,validate:y,name:E,valueAsNumber:S,mount:B,disabled:W}=e._f;if(!B||W)return{};const I=l?l[0]:i,j=O=>{n&&I.reportValidity&&(I.setCustomValidity(kt(O)?"":O||" "),I.reportValidity())},C={},F=kr(i),X=at(i),N=F||X,_=(S||yr(i))&&!i.value||r===""||Array.isArray(r)&&!r.length,T=vn.bind(null,E,t,C),Y=(O,P,H,M=Le.maxLength,K=Le.minLength)=>{const de=O?P:H;C[E]={type:O?M:K,message:de,ref:i,...T(O?M:K,de)}};if(o?!Array.isArray(r)||!r.length:u&&(!N&&(_||ue(r))||kt(r)&&!r||X&&!kn(l).isValid||F&&!wn(l).isValid)){const{value:O,message:P}=xt(u)?{value:!!u,message:u}:He(u);if(O&&(C[E]={type:Le.required,message:P,ref:I,...T(Le.required,P)},!t))return j(P),C}if(!_&&(!ue(m)||!ue(x))){let O,P;const H=He(x),M=He(m);if(!ue(r)&&!isNaN(r)){const K=i.valueAsNumber||+r;ue(H.value)||(O=K>H.value),ue(M.value)||(P=K<M.value)}else{const K=i.valueAsDate||new Date(r);De(H.value)&&(O=K>new Date(H.value)),De(M.value)&&(P=K<new Date(M.value))}if((O||P)&&(Y(!!O,H.message,M.message,Le.max,Le.min),!t))return j(C[E].message),C}if((g||d)&&!_&&(De(r)||o&&Array.isArray(r))){const O=He(g),P=He(d),H=!ue(O.value)&&r.length>O.value,M=!ue(P.value)&&r.length<P.value;if((H||M)&&(Y(H,O.message,P.message),!t))return j(C[E].message),C}if(p&&!_&&De(r)){const{value:O,message:P}=He(p);if(wt(O)&&!r.match(O)&&(C[E]={type:Le.pattern,message:P,ref:i,...T(Le.pattern,P)},!t))return j(P),C}if(y){if(Ct(y)){const O=await y(r),P=Ir(O,I);if(P&&(C[E]={...P,...T(Le.validate,P.message)},!t))return j(P.message),C}else if(le(y)){let O={};for(const P in y){if(!me(O)&&!t)break;const H=Ir(await y[P](r),I,P);H&&(O={...H,...T(P,H.message)},j(H.message),t&&(C[E]=O))}if(!me(O)&&(C[E]={ref:I,...O},!t))return C}}return j(!0),C},tr=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function _e(e){let r;const t=Array.isArray(e);if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(tr&&(e instanceof Blob||e instanceof FileList))&&(t||le(e))){r=t?[]:{};for(const n in e){if(Ct(e[n])){r=e;break}r[n]=_e(e[n])}}else return e;return r}var Nr=e=>({isOnSubmit:!e||e===be.onSubmit,isOnBlur:e===be.onBlur,isOnChange:e===be.onChange,isOnAll:e===be.all,isOnTouch:e===be.onTouched});function ci(e,r){const t=r.slice(0,-1).length;let n=0;for(;n<t;)e=ne(e)?n++:e[r[n++]];return e}function di(e){for(const r in e)if(!ne(e[r]))return!1;return!0}function ce(e,r){const t=vr(r)?[r]:yn(r),n=t.length==1?e:ci(e,t),o=t[t.length-1];let i;n&&delete n[o];for(let l=0;l<t.slice(0,-1).length;l++){let u=-1,g;const d=t.slice(0,-(l+1)),m=d.length-1;for(l>0&&(i=e);++u<d.length;){const x=d[u];g=g?g[x]:e[x],m===u&&(le(g)&&me(g)||Array.isArray(g)&&di(g))&&(i?delete i[x]:delete e[x]),i=g}}return e}function Ht(){let e=[];return{get observers(){return e},next:o=>{for(const i of e)i.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(i=>i!==o)}}),unsubscribe:()=>{e=[]}}}var Dt=e=>ue(e)||!fn(e);function Ze(e,r){if(Dt(e)||Dt(r))return e===r;if(Ke(e)&&Ke(r))return e.getTime()===r.getTime();const t=Object.keys(e),n=Object.keys(r);if(t.length!==n.length)return!1;for(const o of t){const i=e[o];if(!n.includes(o))return!1;if(o!=="ref"){const l=r[o];if(Ke(i)&&Ke(l)||le(i)&&le(l)||Array.isArray(i)&&Array.isArray(l)?!Ze(i,l):i!==l)return!1}}return!0}var rr=e=>{const r=e?e.ownerDocument:0,t=r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement;return e instanceof t},Dn=e=>e.type==="select-multiple",fi=e=>kr(e)||at(e),Kt=e=>rr(e)&&e.isConnected;function Et(e,r={}){const t=Array.isArray(e);if(le(e)||t)for(const n in e)Array.isArray(e[n])||le(e[n])&&!xr(e[n])?(r[n]=Array.isArray(e[n])?[]:{},Et(e[n],r[n])):ue(e[n])||(r[n]=!0);return r}function En(e,r,t){const n=Array.isArray(e);if(le(e)||n)for(const o in e)Array.isArray(e[o])||le(e[o])&&!xr(e[o])?ne(r)||Dt(t[o])?t[o]=Array.isArray(e[o])?Et(e[o],[]):{...Et(e[o])}:En(e[o],ue(r)?{}:r[o],t[o]):t[o]=!Ze(e[o],r[o]);return t}var Zt=(e,r)=>En(e,r,Et(r)),Fn=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:n})=>ne(e)?e:r?e===""||ue(e)?NaN:+e:t&&De(e)?new Date(e):n?n(e):e;function qt(e){const r=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):r.disabled))return yr(r)?r.files:kr(r)?wn(e.refs).value:Dn(r)?[...r.selectedOptions].map(({value:t})=>t):at(r)?kn(e.refs).value:Fn(ne(r.value)?e.ref.value:r.value,e)}var pi=(e,r,t,n)=>{const o={};for(const i of e){const l=w(r,i);l&&J(o,i,l._f)}return{criteriaMode:t,names:[...e],fields:o,shouldUseNativeValidation:n}},et=e=>ne(e)?void 0:wt(e)?e.source:le(e)?wt(e.value)?e.value.source:e.value:e,mi=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Vr(e,r,t){const n=w(e,t);if(n||vr(t))return{error:n,name:t};const o=t.split(".");for(;o.length;){const i=o.join("."),l=w(r,i),u=w(e,i);if(l&&!Array.isArray(l)&&t!==i)return{name:t};if(u&&u.type)return{name:i,error:u};o.pop()}return{name:t}}var gi=(e,r,t,n,o)=>o.isOnAll?!1:!t&&o.isOnTouch?!(r||e):(t?n.isOnBlur:o.isOnBlur)?!e:(t?n.isOnChange:o.isOnChange)?e:!0,bi=(e,r)=>!st(w(e,r)).length&&ce(e,r);const hi={mode:be.onSubmit,reValidateMode:be.onChange,shouldFocusError:!0};function xi(e={}){let r={...hi,...e},t={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},n={},o=_e(r.defaultValues)||{},i=r.shouldUnregister?{}:_e(o),l={action:!1,mount:!1,watch:!1},u={mount:new Set,unMount:new Set,array:new Set,watch:new Set},g,d=0,m={};const x={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={watch:Ht(),array:Ht(),state:Ht()},y=Nr(r.mode),E=Nr(r.reValidateMode),S=r.criteriaMode===be.all,B=s=>c=>{clearTimeout(d),d=window.setTimeout(s,c)},W=async s=>{let c=!1;return x.isValid&&(c=r.resolver?me((await N()).errors):await T(n,!0),!s&&c!==t.isValid&&(t.isValid=c,p.state.next({isValid:c}))),c},I=(s,c=[],f,D,A=!0,b=!0)=>{if(D&&f){if(l.action=!0,b&&Array.isArray(w(n,s))){const L=f(w(n,s),D.argA,D.argB);A&&J(n,s,L)}if(x.errors&&b&&Array.isArray(w(t.errors,s))){const L=f(w(t.errors,s),D.argA,D.argB);A&&J(t.errors,s,L),bi(t.errors,s)}if(x.touchedFields&&b&&Array.isArray(w(t.touchedFields,s))){const L=f(w(t.touchedFields,s),D.argA,D.argB);A&&J(t.touchedFields,s,L)}x.dirtyFields&&(t.dirtyFields=Zt(o,i)),p.state.next({isDirty:O(s,c),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else J(i,s,c)},j=(s,c)=>{J(t.errors,s,c),p.state.next({errors:t.errors})},C=(s,c,f,D)=>{const A=w(n,s);if(A){const b=w(i,s,ne(f)?w(o,s):f);ne(b)||D&&D.defaultChecked||c?J(i,s,c?b:qt(A._f)):M(s,b),l.mount&&W()}},F=(s,c,f,D,A)=>{let b=!1;const L={name:s},G=w(t.touchedFields,s);if(x.isDirty){const ie=t.isDirty;t.isDirty=L.isDirty=O(),b=ie!==L.isDirty}if(x.dirtyFields&&(!f||D)){const ie=w(t.dirtyFields,s);Ze(w(o,s),c)?ce(t.dirtyFields,s):J(t.dirtyFields,s,!0),L.dirtyFields=t.dirtyFields,b=b||ie!==w(t.dirtyFields,s)}return f&&!G&&(J(t.touchedFields,s,f),L.touchedFields=t.touchedFields,b=b||x.touchedFields&&G!==f),b&&A&&p.state.next(L),b?L:{}},X=async(s,c,f,D)=>{const A=w(t.errors,s),b=x.isValid&&t.isValid!==c;if(e.delayError&&f?(g=B(()=>j(s,f)),g(e.delayError)):(clearTimeout(d),g=null,f?J(t.errors,s,f):ce(t.errors,s)),(f?!Ze(A,f):A)||!me(D)||b){const L={...D,...b?{isValid:c}:{},errors:t.errors,name:s};t={...t,...L},p.state.next(L)}m[s]--,x.isValidating&&!Object.values(m).some(L=>L)&&(p.state.next({isValidating:!1}),m={})},N=async s=>r.resolver?await r.resolver({...i},r.context,pi(s||u.mount,n,r.criteriaMode,r.shouldUseNativeValidation)):{},_=async s=>{const{errors:c}=await N();if(s)for(const f of s){const D=w(c,f);D?J(t.errors,f,D):ce(t.errors,f)}else t.errors=c;return c},T=async(s,c,f={valid:!0})=>{for(const D in s){const A=s[D];if(A){const{_f:b,...L}=A;if(b){const G=u.array.has(b.name),ie=await jr(A,w(i,b.name),S,r.shouldUseNativeValidation,G);if(ie[b.name]&&(f.valid=!1,c))break;!c&&(w(ie,b.name)?G?ui(t.errors,ie,b.name):J(t.errors,b.name,ie[b.name]):ce(t.errors,b.name))}L&&await T(L,c,f)}}return f.valid},Y=()=>{for(const s of u.unMount){const c=w(n,s);c&&(c._f.refs?c._f.refs.every(f=>!Kt(f)):!Kt(c._f.ref))&&ye(s)}u.unMount=new Set},O=(s,c)=>(s&&c&&J(i,s,c),!Ze(Q(),o)),P=(s,c,f)=>{const D={...l.mount?i:ne(c)?o:De(s)?{[s]:c}:c};return xn(s,u,D,f)},H=s=>st(w(l.mount?i:o,s,e.shouldUnregister?w(o,s,[]):[])),M=(s,c,f={})=>{const D=w(n,s);let A=c;if(D){const b=D._f;b&&(!b.disabled&&J(i,s,Fn(c,b)),A=tr&&rr(b.ref)&&ue(c)?"":c,Dn(b.ref)?[...b.ref.options].forEach(L=>L.selected=A.includes(L.value)):b.refs?at(b.ref)?b.refs.length>1?b.refs.forEach(L=>!L.disabled&&(L.checked=Array.isArray(A)?!!A.find(G=>G===L.value):A===L.value)):b.refs[0]&&(b.refs[0].checked=!!A):b.refs.forEach(L=>L.checked=L.value===A):yr(b.ref)?b.ref.value="":(b.ref.value=A,b.ref.type||p.watch.next({name:s})))}(f.shouldDirty||f.shouldTouch)&&F(s,A,f.shouldTouch,f.shouldDirty,!0),f.shouldValidate&&z(s)},K=(s,c,f)=>{for(const D in c){const A=c[D],b=`${s}.${D}`,L=w(n,b);(u.array.has(s)||!Dt(A)||L&&!L._f)&&!Ke(A)?K(b,A,f):M(b,A,f)}},de=(s,c,f={})=>{const D=w(n,s),A=u.array.has(s),b=_e(c);J(i,s,b),A?(p.array.next({name:s,values:i}),(x.isDirty||x.dirtyFields)&&f.shouldDirty&&(t.dirtyFields=Zt(o,i),p.state.next({name:s,dirtyFields:t.dirtyFields,isDirty:O(s,b)}))):D&&!D._f&&!ue(b)?K(s,b,f):M(s,b,f),Rr(s,u)&&p.state.next({}),p.watch.next({name:s})},$=async s=>{const c=s.target;let f=c.name;const D=w(n,f);if(D){let A,b;const L=c.type?qt(D._f):pn(s),G=s.type===yt.BLUR||s.type===yt.FOCUS_OUT,ie=!mi(D._f)&&!r.resolver&&!w(t.errors,f)&&!D._f.deps||gi(G,w(t.touchedFields,f),t.isSubmitted,E,y),Ae=Rr(f,u,G);J(i,f,L),G?(D._f.onBlur&&D._f.onBlur(s),g&&g(0)):D._f.onChange&&D._f.onChange(s);const Se=F(f,L,G,!1),Tt=!me(Se)||Ae;if(!G&&p.watch.next({name:f,type:s.type}),ie)return Tt&&p.state.next({name:f,...Ae?{}:Se});if(!G&&Ae&&p.state.next({}),m[f]=(m[f],1),p.state.next({isValidating:!0}),r.resolver){const{errors:ft}=await N([f]),It=Vr(t.errors,n,f),k=Vr(ft,n,It.name||f);A=k.error,f=k.name,b=me(ft)}else A=(await jr(D,w(i,f),S,r.shouldUseNativeValidation))[f],b=await W(!0);D._f.deps&&z(D._f.deps),X(f,b,A,Se)}},z=async(s,c={})=>{let f,D;const A=ht(s);if(p.state.next({isValidating:!0}),r.resolver){const b=await _(ne(s)?s:A);f=me(b),D=s?!A.some(L=>w(b,L)):f}else s?(D=(await Promise.all(A.map(async b=>{const L=w(n,b);return await T(L&&L._f?{[b]:L}:L)}))).every(Boolean),!(!D&&!t.isValid)&&W()):D=f=await T(n);return p.state.next({...!De(s)||x.isValid&&f!==t.isValid?{}:{name:s},...r.resolver?{isValid:f}:{},errors:t.errors,isValidating:!1}),c.shouldFocus&&!D&&er(n,b=>w(t.errors,b),s?A:u.mount),D},Q=s=>{const c={...o,...l.mount?i:{}};return ne(s)?c:De(s)?w(c,s):s.map(f=>w(c,f))},ut=(s,c)=>({invalid:!!w((c||t).errors,s),isDirty:!!w((c||t).dirtyFields,s),isTouched:!!w((c||t).touchedFields,s),error:w((c||t).errors,s)}),ct=s=>{s?ht(s).forEach(c=>ce(t.errors,c)):t.errors={},p.state.next({errors:t.errors})},$e=(s,c,f)=>{const D=(w(n,s,{_f:{}})._f||{}).ref;J(t.errors,s,{...c,ref:D}),p.state.next({name:s,errors:t.errors,isValid:!1}),f&&f.shouldFocus&&D&&D.focus&&D.focus()},dt=(s,c)=>Ct(s)?p.watch.subscribe({next:f=>s(P(void 0,c),f)}):P(s,c,!0),ye=(s,c={})=>{for(const f of s?ht(s):u.mount)u.mount.delete(f),u.array.delete(f),w(n,f)&&(c.keepValue||(ce(n,f),ce(i,f)),!c.keepError&&ce(t.errors,f),!c.keepDirty&&ce(t.dirtyFields,f),!c.keepTouched&&ce(t.touchedFields,f),!r.shouldUnregister&&!c.keepDefaultValue&&ce(o,f));p.watch.next({}),p.state.next({...t,...c.keepDirty?{isDirty:O()}:{}}),!c.keepIsValid&&W()},Ue=(s,c={})=>{let f=w(n,s);const D=kt(c.disabled);return J(n,s,{_f:{...f&&f._f?f._f:{ref:{name:s}},name:s,mount:!0,...c}}),u.mount.add(s),f?D&&J(i,s,c.disabled?void 0:w(i,s,qt(f._f))):C(s,!0,c.value),{...D?{disabled:c.disabled}:{},...r.shouldUseNativeValidation?{required:!!c.required,min:et(c.min),max:et(c.max),minLength:et(c.minLength),maxLength:et(c.maxLength),pattern:et(c.pattern)}:{},name:s,onChange:$,onBlur:$,ref:A=>{if(A){Ue(s,c),f=w(n,s);const b=ne(A.value)&&A.querySelectorAll&&A.querySelectorAll("input,select,textarea")[0]||A,L=fi(b),G=f._f.refs||[];if(L?G.find(ie=>ie===b):b===f._f.ref)return;J(n,s,{_f:{...f._f,...L?{refs:[...G.filter(Kt),b,...Array.isArray(w(o,s))?[{}]:[]],ref:{type:b.type,name:s}}:{ref:b}}}),C(s,!1,void 0,b)}else f=w(n,s,{}),f._f&&(f._f.mount=!1),(r.shouldUnregister||c.shouldUnregister)&&!(mn(u.array,s)&&l.action)&&u.unMount.add(s)}}};return{control:{register:Ue,unregister:ye,getFieldState:ut,_executeSchema:N,_getWatch:P,_getDirty:O,_updateValid:W,_removeUnmounted:Y,_updateFieldArray:I,_getFieldArray:H,_subjects:p,_proxyFormState:x,get _fields(){return n},get _formValues(){return i},get _stateFlags(){return l},set _stateFlags(s){l=s},get _defaultValues(){return o},get _names(){return u},set _names(s){u=s},get _formState(){return t},set _formState(s){t=s},get _options(){return r},set _options(s){r={...r,...s}}},trigger:z,register:Ue,handleSubmit:(s,c)=>async f=>{f&&(f.preventDefault&&f.preventDefault(),f.persist&&f.persist());let D=!0,A=_e(i);p.state.next({isSubmitting:!0});try{if(r.resolver){const{errors:b,values:L}=await N();t.errors=b,A=L}else await T(n);me(t.errors)?(p.state.next({errors:{},isSubmitting:!0}),await s(A,f)):(c&&await c({...t.errors},f),r.shouldFocusError&&er(n,b=>w(t.errors,b),u.mount))}catch(b){throw D=!1,b}finally{t.isSubmitted=!0,p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:me(t.errors)&&D,submitCount:t.submitCount+1,errors:t.errors})}},watch:dt,setValue:de,getValues:Q,reset:(s,c={})=>{const f=s||o,D=_e(f),A=s&&!me(s)?D:o;if(c.keepDefaultValues||(o=f),!c.keepValues){if(c.keepDirtyValues)for(const b of u.mount)w(t.dirtyFields,b)?J(A,b,w(i,b)):de(b,w(A,b));else{if(tr&&ne(s))for(const b of u.mount){const L=w(n,b);if(L&&L._f){const G=Array.isArray(L._f.refs)?L._f.refs[0]:L._f.ref;try{if(rr(G)){G.closest("form").reset();break}}catch{}}}n={}}i=e.shouldUnregister?c.keepDefaultValues?_e(o):{}:D,p.array.next({values:A}),p.watch.next({values:A})}u={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!x.isValid||!!c.keepIsValid,l.watch=!!e.shouldUnregister,p.state.next({submitCount:c.keepSubmitCount?t.submitCount:0,isDirty:c.keepDirty||c.keepDirtyValues?t.isDirty:!!(c.keepDefaultValues&&!Ze(s,o)),isSubmitted:c.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:c.keepDirty||c.keepDirtyValues?t.dirtyFields:c.keepDefaultValues&&s?Zt(o,s):{},touchedFields:c.keepTouched?t.touchedFields:{},errors:c.keepErrors?t.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},resetField:(s,c={})=>{w(n,s)&&(ne(c.defaultValue)?de(s,w(o,s)):(de(s,c.defaultValue),J(o,s,c.defaultValue)),c.keepTouched||ce(t.touchedFields,s),c.keepDirty||(ce(t.dirtyFields,s),t.isDirty=c.defaultValue?O(s,w(o,s)):O()),c.keepError||(ce(t.errors,s),x.isValid&&W()),p.state.next({...t}))},clearErrors:ct,unregister:ye,setError:$e,setFocus:(s,c={})=>{const f=w(n,s)._f,D=f.refs?f.refs[0]:f.ref;D.focus(),c.shouldSelect&&D.select()},getFieldState:ut}}function vi(e={}){const r=Z.useRef(),[t,n]=Z.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}});r.current?r.current.control._options=e:r.current={...xi(e),formState:t};const o=r.current.control,i=Z.useCallback(l=>{bn(l,o._proxyFormState,!0)&&(o._formState={...o._formState,...l},n({...o._formState}))},[o]);return hr({subject:o._subjects.state,callback:i}),Z.useEffect(()=>{o._stateFlags.mount||(o._proxyFormState.isValid&&o._updateValid(),o._stateFlags.mount=!0),o._stateFlags.watch&&(o._stateFlags.watch=!1,o._subjects.state.next({})),o._removeUnmounted()}),r.current.formState=gn(t,o._proxyFormState),r.current}const Oe=({error:e})=>e?v("div",{className:"flex flex-col gap-y-1",children:[(e==null?void 0:e.message)&&a("em",{className:"text-wine-500 block dark:text-wine-300 text-sm italic",children:e.message}),(e==null?void 0:e.types)&&Object.values(e.types).map((r,t)=>a("em",{className:"text-wine-500 block dark:text-wine-300 text-sm italic",children:r},t))]}):null,yi=e=>{var g;const{fieldState:r,field:t}=ve({...e}),[n,o]=h.exports.useState("");if(!e.list)return null;const i=d=>{d.code==="Enter"&&d.preventDefault()},l=n===""?e.list:e.list.filter(d=>d.country.toLowerCase().includes(n.toLowerCase().trim())),u=(g=e.list.find(d=>d.country===t.value))==null?void 0:g.countryId;return v("div",{children:[a(Fe,{...e,render:({field:d})=>a(Qe,{nullable:!0,...d,children:v("div",{className:"relative z-10",children:[v(Qe.Label,{className:"label",children:[e.label,e.required&&a("span",{className:"ml-1 text-wine-400",children:"*"})]}),v("div",{className:"flex flex-row gap-2 items-center",children:[a("div",{className:`absolute select-none pointer-events-none left-2 f32 flag ${u?u.toLowerCase():""}`}),a(Qe.Input,{name:d.name+"Term",autoComplete:"off",onKeyDown:i,placeholder:"land",className:"text-input pl-12 flex-1",onChange:m=>o(m.target.value)})]}),l.length>0&&a(rn,{children:a(Qe.Options,{className:"dropdown",children:l.map(m=>v(Qe.Option,{className:({active:x,selected:p})=>`cursor-default flex items-center leading-4 rounded text-sm gap-2 select-none py-2 px-4 ${x&&!p?"bg-slate-200 dark:bg-gray-700/40 text-black dark:text-gray-300":""} ${p?"bg-wine-500 dark:bg-wine-400 text-white":""}`,value:m.country,children:[a("div",{className:`select-none pointer-events-none f32 flag ${m.countryId.toLowerCase()}`}),a("div",{children:m.country})]},m.countryId))})})]})})}),a(Oe,{error:r.error})]})},tt=e=>{const{fieldState:r}=ve({...e});return v("div",{children:[a(Fe,{...e,render:({field:t})=>v(Xe,{as:"div",className:"relative",...t,children:[a(Xe.Label,{className:"label",children:e.label}),v(Xe.Button,{className:({open:n})=>`btn-white rounded-full min-w-min flex flex-row gap-3 items-center h-12 ${n?"bg-white ring-4 ring-wine-300 border-white ring-opacity-50":""}`,children:[a(Lr,{percent:Or[t.value].percent,size:"1.75rem"}),a("div",{className:`${t.value===0?"text-slate-500":""}`,children:Cr[e.type][t.value]})]}),a(rn,{children:a(Xe.Options,{className:"dropdown",children:Or.map((n,o)=>v(Xe.Option,{className:({active:i,selected:l})=>`relative cursor-default flex items-center leading-4 rounded text-sm gap-2 select-none py-2 px-4 ${i&&!l?"bg-slate-200 dark:bg-gray-700/40 text-black dark:text-gray-300":""} ${l?"bg-wine-500 dark:bg-wine-400 text-white":""}`,value:n.value,children:[a(Lr,{percent:n.percent,size:"1.75rem"}),a("div",{children:Cr[e.type][o]})]},o))})})]})}),a(Oe,{error:r.error})]})},se=e=>{const{fieldState:r}=ve({...e});return v("div",{children:[v("label",{className:"label",htmlFor:e.name,children:[e.label,e.required&&a("span",{className:"ml-1 text-wine-400",children:"*"})]}),a(Fe,{...e,render:({field:{value:t,ref:n,...o}})=>{var i;return v("div",{className:"relative",children:[e.textarea?a("textarea",{autoComplete:"off",className:`text-input resize-none py-0.5 h-auto ${r.error?"border-wine-200 bg-wine-25 text-wine-900 placeholder:text-transparent":""}`,...o,value:t||"",placeholder:e.placeholder,rows:e.rows,maxLength:e.maxLength}):a(qn,{allowEnter:e.allowEnter,maxLength:e.maxLength,placeholder:e.placeholder,focus:e.focus,hasError:!!r.error,numeric:(i=e.numeric)!=null?i:!1,value:t,...o}),e.definition&&a("span",{className:"absolute select-none pointer-events-none right-1.5 h-5 leading-5 top-1.5 px-2 text-sm rounded text-slate-800 dark:text-gray-300 dark:bg-white/20 bg-slate-100",children:e.definition})]})}}),a(Oe,{error:r.error})]})},Mr={name:"",type:"",year:null,price:null,volume:null,alcoholContent:null,country:null,region:null,subRegion:null,productId:null,grapes:null,recommendedFood:null,manufacturerName:null,storagePotential:null,colour:null,odour:null,taste:null,freshness:0,fullness:0,bitterness:0,sweetness:0,tannins:0,file:null,resetImage:!1,userDetails:{quantity:1,purchaseLocation:null,purchaseDate:null,drinkingWindowMin:null,drinkingWindowMax:null,userNote:null,favorite:!1,score:null,userRating:null}},ki=({onChange:e,value:r,placeholder:t,name:n,onBlur:o,minValue:i,maxValue:l,dropDownMaxValue:u,dropDownMinValue:g,hasError:d})=>{const[m,x]=h.exports.useState(!1),p=h.exports.useRef(null);Gn(p,()=>x(!1));const E=u-g,S=I=>{const j=parseInt(I.target.value.replace(/\D/g,""));j>=i&&j<=l?e(j):e(null),o&&o()},B=I=>{isNaN(I)||e(I),x(!1)},W=I=>{I.code==="Enter"?I.preventDefault():I.key==="Tab"&&x(!1)};return v("div",{ref:p,className:"relative",children:[a("input",{placeholder:t,autoComplete:"off",name:n,type:"text",onKeyDown:I=>W(I),value:r||"",onChange:I=>S(I),onFocus:()=>x(!0),className:`text-input ${d?"border-wine-200 bg-wine-25 text-wine-900 placeholder:text-transparent":""}`}),m&&v("div",{className:"dropdown z-10",children:[a("div",{className:"text-sm text-muted border-b border-slate-200 dark:border-gray-700 pb-0.5 px-4",children:"Skriv inn ett \xE5r, eller velg \xE5r nedenfor."}),[...Array(E)].map((I,j)=>{const C=g+j;return a("div",{onClick:()=>B(C),className:`cursor-default rounded text-sm gap-2 select-none py-2 px-4   ${C===r?"bg-wine-500 dark:bg-wine-400 text-white":"hover:bg-slate-200 hover:dark:bg-gray-700/40 hover:text-black hover:dark:text-gray-300"}`,children:C},j)})]})]})},Gt=e=>{const{fieldState:r}=ve({...e});return v("div",{children:[a("label",{className:"label",htmlFor:e.name,children:e.label}),a(Fe,{...e,render:({field:{ref:t,...n}})=>a(ki,{...n,hasError:!!r.error,minValue:e.minValue,maxValue:e.maxValue,dropDownMinValue:e.dropDownMinValue,dropDownMaxValue:e.dropDownMaxValue,placeholder:e.placeholder})}),a(Oe,{error:r.error})]})},wi=new Date,St=new Date;St.setDate(wi.getDate()+1);St.setHours(0,0,0,0);const mt=e=>e===0?null:e,Di=e=>!e||e<=St,Ei=(e,r)=>e===null||r===null||e<r,Fi=V.object({name:V.string().trim().min(3,"Navn p\xE5 vin m\xE5 minst v\xE6re 3 bokstaver.").max(120,"Navn p\xE5 vin kan max v\xE6re 120 bokstaver."),type:V.string().trim().max(20,"Type kan max v\xE6re 20 bokstaver."),year:V.number().int("\xC5rgang m\xE5 v\xE6re et heltall.").min(0,"\xC5rgang kan kun v\xE6re mellom 0 og 3000.").max(3e3,"\xC5rgang kan kun v\xE6re mellom 0 og 3000.").nullable().transform(mt),price:V.number().int("Pris m\xE5 v\xE6re et heltall.").max(1e6,"Pris kan max v\xE6re 1 000 000 kr.").min(0).nullable().transform(mt),alcoholContent:V.number().max(100,"Alkoholinnhold kan kun v\xE6re mellom 0 og 100 prosent.").min(0,"Alkoholinnhold kan kun v\xE6re mellom 0 og 100 prosent.").nullable().transform(mt),volume:V.number().max(100,"Volum kan kun v\xE6re mellom 0 og 100 liter.").min(0,"Volum kan kun v\xE6re mellom 0 og 100 liter.").nullable().transform(mt),bitterness:V.number().min(0,"Verdien til Bitterhet m\xE5 v\xE6re et tall mellom 0 og 12.").max(12,"Verdien til Bitterhet m\xE5 v\xE6re et tall mellom 0 og 12."),sweetness:V.number().min(0,"Verdien til S\xF8dme m\xE5 v\xE6re et tall mellom 0 og 12.").max(12,"Verdien til S\xF8dme m\xE5 v\xE6re et tall mellom 0 og 12."),freshness:V.number().min(0,"Verdien til Ferskhet m\xE5 v\xE6re et tall mellom 0 og 12.").max(12,"Verdien til Ferskhet m\xE5 v\xE6re et tall mellom 0 og 12."),fullness:V.number().min(0,"Verdien til Fylde m\xE5 v\xE6re et tall mellom 0 og 12.").max(12,"Verdien til Fylde m\xE5 v\xE6re et tall mellom 0 og 12."),tannins:V.number().min(0,"Verdien til Tanninsk m\xE5 v\xE6re et tall mellom 0 og 12.").max(12,"Verdien til Tanninsk m\xE5 v\xE6re et tall mellom 0 og 12."),country:V.string().trim().max(70,"Land kan max v\xE6re 70 bokstaver.").nullable(),region:V.string().trim().max(70,"Distrikt kan max v\xE6re 70 bokstaver.").nullable(),subRegion:V.string().trim().max(70,"Underdistrikt kan max v\xE6re 70 bokstaver.").nullable(),manufacturerName:V.string().trim().max(70,"Produsent kan max v\xE6re 70 bokstaver.").nullable(),storagePotential:V.string().trim().max(70,"Lagringsgrad kan max v\xE6re 70 bokstaver.").nullable(),productId:V.string().trim().max(70,"Produktnummer kan max v\xE6re 24 bokstaver.").nullable(),taste:V.string().trim().max(500,"Smak kan max v\xE6re 500 bokstaver.").nullable(),grapes:V.array(V.string()).nullable(),recommendedFood:V.array(V.string()).nullable(),odour:V.string().trim().max(500,"Duft kan max v\xE6re 500 bokstaver.").nullable(),colour:V.string().trim().max(500,"Farge kan max v\xE6re 500 bokstaver.").nullable(),resetImage:V.boolean().default(!1),file:V.instanceof(File).nullable().refine(e=>!e||(e==null?void 0:e.size)<=5e5,"Max file size is 5MB.").refine(e=>!e||["image/jpeg","image/jpg","image/png","image/webp"].includes(e==null?void 0:e.type),".jpg, .jpeg, .png and .webp files are accepted."),userDetails:V.object({quantity:V.number().int("Antall m\xE5 v\xE6re et heltall").min(0,"Antall m\xE5 v\xE6re mellom 0 og 1000.").max(1e3,"Antall m\xE5 v\xE6re mellom 0 og 1000."),score:V.number().int("Karakter m\xE5 v\xE6re et heltall").min(50,"Karakter kan kun v\xE6re mellom 50 og 100.").max(100,"Karakter kan kun v\xE6re mellom 50 og 100.").nullable(),drinkingWindowMin:V.number().min(0,"Drikkevindu m\xE5 v\xE6re mellom 0 og 3000.").max(3e3,"Drikkevindu m\xE5 v\xE6re mellom 0 og 3000.").nullable(),drinkingWindowMax:V.number().min(0,"Drikkevindu-til m\xE5 v\xE6re h\xF8yere eller lik drikkevindu-fra.").max(3e3,"Drikkevindu m\xE5 v\xE6re mellom 0 og 3000.").nullable(),userRating:V.number().int("Vurdering m\xE5 v\xE6re et heltall").min(0,"Vurdering m\xE5 v\xE6re ett tall mellom 0 og 10.").max(10,"Vurdering m\xE5 v\xE6re ett tall mellom 0 og 10.").nullable(),userNote:V.string().trim().max(500,"Dine notater kan max v\xE6re 500 bokstaver.").nullable(),purchaseDate:V.date().nullable().refine(Di,`Kj\xF8psdato m\xE5 v\xE6re mindre enn ${no(St)}`),purchaseLocation:V.string().trim().max(70,"Kj\xF8pested kan max v\xE6re 70 bokstaver.").nullable(),favorite:V.boolean().default(!1)}).refine(e=>Ei(e.drinkingWindowMin,e.drinkingWindowMax),{message:"Drikkevindu-til m\xE5 v\xE6re h\xF8yere eller lik drikkevindu-fra.",path:["drinkingWindowMax"]})});var q={exports:{}},Ai="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Li=Ai,Oi=Li;function An(){}function Ln(){}Ln.resetWarningCache=An;var Ci=function(){function e(n,o,i,l,u,g){if(g!==Oi){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function r(){return e}var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:Ln,resetWarningCache:An};return t.PropTypes=t,t};q.exports=Ci();var Si=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function lt(e,r){var t=Ri(e);if(typeof t.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof r=="string"?r:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return t}function Ri(e){var r=e.name,t=r&&r.lastIndexOf(".")!==-1;if(t&&!e.type){var n=r.split(".").pop().toLowerCase(),o=Si.get(n);o&&Object.defineProperty(e,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return e}var Pi=[".DS_Store","Thumbs.db"];function _i(e){return qe(this,void 0,void 0,function(){return Ge(this,function(r){return Ft(e)&&Ti(e.dataTransfer)?[2,Vi(e.dataTransfer,e.type)]:Ii(e)?[2,ji(e)]:Array.isArray(e)&&e.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,Ni(e)]:[2,[]]})})}function Ti(e){return Ft(e)}function Ii(e){return Ft(e)&&Ft(e.target)}function Ft(e){return typeof e=="object"&&e!==null}function ji(e){return nr(e.target.files).map(function(r){return lt(r)})}function Ni(e){return qe(this,void 0,void 0,function(){var r;return Ge(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return r=t.sent(),[2,r.map(function(n){return lt(n)})]}})})}function Vi(e,r){return qe(this,void 0,void 0,function(){var t,n;return Ge(this,function(o){switch(o.label){case 0:return e.items?(t=nr(e.items).filter(function(i){return i.kind==="file"}),r!=="drop"?[2,t]:[4,Promise.all(t.map(Mi))]):[3,2];case 1:return n=o.sent(),[2,Wr(On(n))];case 2:return[2,Wr(nr(e.files).map(function(i){return lt(i)}))]}})})}function Wr(e){return e.filter(function(r){return Pi.indexOf(r.name)===-1})}function nr(e){if(e===null)return[];for(var r=[],t=0;t<e.length;t++){var n=e[t];r.push(n)}return r}function Mi(e){if(typeof e.webkitGetAsEntry!="function")return $r(e);var r=e.webkitGetAsEntry();return r&&r.isDirectory?Cn(r):$r(e)}function On(e){return e.reduce(function(r,t){return Er(Er([],Fr(r),!1),Fr(Array.isArray(t)?On(t):[t]),!1)},[])}function $r(e){var r=e.getAsFile();if(!r)return Promise.reject("".concat(e," is not a File"));var t=lt(r);return Promise.resolve(t)}function Wi(e){return qe(this,void 0,void 0,function(){return Ge(this,function(r){return[2,e.isDirectory?Cn(e):$i(e)]})})}function Cn(e){var r=e.createReader();return new Promise(function(t,n){var o=[];function i(){var l=this;r.readEntries(function(u){return qe(l,void 0,void 0,function(){var g,d,m;return Ge(this,function(x){switch(x.label){case 0:if(u.length)return[3,5];x.label=1;case 1:return x.trys.push([1,3,,4]),[4,Promise.all(o)];case 2:return g=x.sent(),t(g),[3,4];case 3:return d=x.sent(),n(d),[3,4];case 4:return[3,6];case 5:m=Promise.all(u.map(Wi)),o.push(m),i(),x.label=6;case 6:return[2]}})})},function(u){n(u)})}i()})}function $i(e){return qe(this,void 0,void 0,function(){return Ge(this,function(r){return[2,new Promise(function(t,n){e.file(function(o){var i=lt(o,e.fullPath);t(i)},function(o){n(o)})})]})})}var Ui=function(e,r){if(e&&r){var t=Array.isArray(r)?r:r.split(","),n=e.name||"",o=(e.type||"").toLowerCase(),i=o.replace(/\/.*$/,"");return t.some(function(l){var u=l.trim().toLowerCase();return u.charAt(0)==="."?n.toLowerCase().endsWith(u):u.endsWith("/*")?i===u.replace(/\/.*$/,""):o===u})}return!0};function Ur(e){return Hi(e)||Bi(e)||Rn(e)||zi()}function zi(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bi(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hi(e){if(Array.isArray(e))return or(e)}function zr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Br(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?zr(Object(t),!0).forEach(function(n){Sn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):zr(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Sn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function rt(e,r){return qi(e)||Zi(e,r)||Rn(e,r)||Ki()}function Ki(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rn(e,r){if(!!e){if(typeof e=="string")return or(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return or(e,r)}}function or(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Zi(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,l,u;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){i=!0,u=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw u}}return n}}function qi(e){if(Array.isArray(e))return e}var Gi="file-invalid-type",Yi="file-too-large",Ji="file-too-small",Xi="too-many-files",Qi=function(r){r=Array.isArray(r)&&r.length===1?r[0]:r;var t=Array.isArray(r)?"one of ".concat(r.join(", ")):r;return{code:Gi,message:"File type must be ".concat(t)}},Hr=function(r){return{code:Yi,message:"File is larger than ".concat(r," ").concat(r===1?"byte":"bytes")}},Kr=function(r){return{code:Ji,message:"File is smaller than ".concat(r," ").concat(r===1?"byte":"bytes")}},ea={code:Xi,message:"Too many files"};function Pn(e,r){var t=e.type==="application/x-moz-file"||Ui(e,r);return[t,t?null:Qi(r)]}function _n(e,r,t){if(Te(e.size))if(Te(r)&&Te(t)){if(e.size>t)return[!1,Hr(t)];if(e.size<r)return[!1,Kr(r)]}else{if(Te(r)&&e.size<r)return[!1,Kr(r)];if(Te(t)&&e.size>t)return[!1,Hr(t)]}return[!0,null]}function Te(e){return e!=null}function ta(e){var r=e.files,t=e.accept,n=e.minSize,o=e.maxSize,i=e.multiple,l=e.maxFiles,u=e.validator;return!i&&r.length>1||i&&l>=1&&r.length>l?!1:r.every(function(g){var d=Pn(g,t),m=rt(d,1),x=m[0],p=_n(g,n,o),y=rt(p,1),E=y[0],S=u?u(g):null;return x&&E&&!S})}function At(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function gt(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(r){return r==="Files"||r==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Zr(e){e.preventDefault()}function ra(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function na(e){return e.indexOf("Edge/")!==-1}function oa(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return ra(e)||na(e)}function we(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(n){for(var o=arguments.length,i=new Array(o>1?o-1:0),l=1;l<o;l++)i[l-1]=arguments[l];return r.some(function(u){return!At(n)&&u&&u.apply(void 0,[n].concat(i)),At(n)})}}function ia(){return"showOpenFilePicker"in window}function aa(e){if(Te(e)){var r=Object.entries(e).filter(function(t){var n=rt(t,2),o=n[0],i=n[1],l=!0;return Tn(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),l=!1),(!Array.isArray(i)||!i.every(In))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),l=!1),l}).reduce(function(t,n){var o=rt(n,2),i=o[0],l=o[1];return Br(Br({},t),{},Sn({},i,l))},{});return[{accept:r}]}return e}function sa(e){if(Te(e))return Object.entries(e).reduce(function(r,t){var n=rt(t,2),o=n[0],i=n[1];return[].concat(Ur(r),[o],Ur(i))},[]).filter(function(r){return Tn(r)||In(r)}).join(",")}function la(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function ua(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function Tn(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function In(e){return/^.*\.[\w]+$/.test(e)}var ca=["children"],da=["open"],fa=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],pa=["refKey","onChange","onClick"];function ma(e){return ha(e)||ba(e)||jn(e)||ga()}function ga(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ba(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ha(e){if(Array.isArray(e))return ir(e)}function Yt(e,r){return ya(e)||va(e,r)||jn(e,r)||xa()}function xa(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jn(e,r){if(!!e){if(typeof e=="string")return ir(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ir(e,r)}}function ir(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function va(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,l,u;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){i=!0,u=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw u}}return n}}function ya(e){if(Array.isArray(e))return e}function qr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function te(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?qr(Object(t),!0).forEach(function(n){ar(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):qr(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function ar(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Lt(e,r){if(e==null)return{};var t=ka(e,r),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],!(r.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(t[n]=e[n]))}return t}function ka(e,r){if(e==null)return{};var t={},n=Object.keys(e),o,i;for(i=0;i<n.length;i++)o=n[i],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}var wr=h.exports.forwardRef(function(e,r){var t=e.children,n=Lt(e,ca),o=Vn(n),i=o.open,l=Lt(o,da);return h.exports.useImperativeHandle(r,function(){return{open:i}},[i]),a(U,{children:t(te(te({},l),{},{open:i}))})});wr.displayName="Dropzone";var Nn={disabled:!1,getFilesFromEvent:_i,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};wr.defaultProps=Nn;wr.propTypes={children:q.exports.func,accept:q.exports.objectOf(q.exports.arrayOf(q.exports.string)),multiple:q.exports.bool,preventDropOnDocument:q.exports.bool,noClick:q.exports.bool,noKeyboard:q.exports.bool,noDrag:q.exports.bool,noDragEventsBubbling:q.exports.bool,minSize:q.exports.number,maxSize:q.exports.number,maxFiles:q.exports.number,disabled:q.exports.bool,getFilesFromEvent:q.exports.func,onFileDialogCancel:q.exports.func,onFileDialogOpen:q.exports.func,useFsAccessApi:q.exports.bool,autoFocus:q.exports.bool,onDragEnter:q.exports.func,onDragLeave:q.exports.func,onDragOver:q.exports.func,onDrop:q.exports.func,onDropAccepted:q.exports.func,onDropRejected:q.exports.func,onError:q.exports.func,validator:q.exports.func};var sr={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Vn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=te(te({},Nn),e),t=r.accept,n=r.disabled,o=r.getFilesFromEvent,i=r.maxSize,l=r.minSize,u=r.multiple,g=r.maxFiles,d=r.onDragEnter,m=r.onDragLeave,x=r.onDragOver,p=r.onDrop,y=r.onDropAccepted,E=r.onDropRejected,S=r.onFileDialogCancel,B=r.onFileDialogOpen,W=r.useFsAccessApi,I=r.autoFocus,j=r.preventDropOnDocument,C=r.noClick,F=r.noKeyboard,X=r.noDrag,N=r.noDragEventsBubbling,_=r.onError,T=r.validator,Y=h.exports.useMemo(function(){return sa(t)},[t]),O=h.exports.useMemo(function(){return aa(t)},[t]),P=h.exports.useMemo(function(){return typeof B=="function"?B:Gr},[B]),H=h.exports.useMemo(function(){return typeof S=="function"?S:Gr},[S]),M=h.exports.useRef(null),K=h.exports.useRef(null),de=h.exports.useReducer(wa,sr),$=Yt(de,2),z=$[0],Q=$[1],ut=z.isFocused,ct=z.isFileDialogActive,$e=h.exports.useRef(typeof window<"u"&&window.isSecureContext&&W&&ia()),dt=function(){!$e.current&&ct&&setTimeout(function(){if(K.current){var R=K.current.files;R.length||(Q({type:"closeDialog"}),H())}},300)};h.exports.useEffect(function(){return window.addEventListener("focus",dt,!1),function(){window.removeEventListener("focus",dt,!1)}},[K,ct,H,$e]);var ye=h.exports.useRef([]),Ue=function(R){M.current&&M.current.contains(R.target)||(R.preventDefault(),ye.current=[])};h.exports.useEffect(function(){return j&&(document.addEventListener("dragover",Zr,!1),document.addEventListener("drop",Ue,!1)),function(){j&&(document.removeEventListener("dragover",Zr),document.removeEventListener("drop",Ue))}},[M,j]),h.exports.useEffect(function(){return!n&&I&&M.current&&M.current.focus(),function(){}},[M,I,n]);var Ce=h.exports.useCallback(function(k){_?_(k):console.error(k)},[_]),Rt=h.exports.useCallback(function(k){k.preventDefault(),k.persist(),Se(k),ye.current=[].concat(ma(ye.current),[k.target]),gt(k)&&Promise.resolve(o(k)).then(function(R){if(!(At(k)&&!N)){var oe=R.length,ae=oe>0&&ta({files:R,accept:Y,minSize:l,maxSize:i,multiple:u,maxFiles:g,validator:T}),pe=oe>0&&!ae;Q({isDragAccept:ae,isDragReject:pe,isDragActive:!0,type:"setDraggedFiles"}),d&&d(k)}}).catch(function(R){return Ce(R)})},[o,d,Ce,N,Y,l,i,u,g,T]),Pt=h.exports.useCallback(function(k){k.preventDefault(),k.persist(),Se(k);var R=gt(k);if(R&&k.dataTransfer)try{k.dataTransfer.dropEffect="copy"}catch{}return R&&x&&x(k),!1},[x,N]),_t=h.exports.useCallback(function(k){k.preventDefault(),k.persist(),Se(k);var R=ye.current.filter(function(ae){return M.current&&M.current.contains(ae)}),oe=R.indexOf(k.target);oe!==-1&&R.splice(oe,1),ye.current=R,!(R.length>0)&&(Q({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),gt(k)&&m&&m(k))},[M,m,N]),s=h.exports.useCallback(function(k,R){var oe=[],ae=[];k.forEach(function(pe){var Je=Pn(pe,Y),ze=Yt(Je,2),jt=ze[0],Nt=ze[1],Vt=_n(pe,l,i),pt=Yt(Vt,2),Mt=pt[0],Wt=pt[1],$t=T?T(pe):null;if(jt&&Mt&&!$t)oe.push(pe);else{var Ut=[Nt,Wt];$t&&(Ut=Ut.concat($t)),ae.push({file:pe,errors:Ut.filter(function(Wn){return Wn})})}}),(!u&&oe.length>1||u&&g>=1&&oe.length>g)&&(oe.forEach(function(pe){ae.push({file:pe,errors:[ea]})}),oe.splice(0)),Q({acceptedFiles:oe,fileRejections:ae,type:"setFiles"}),p&&p(oe,ae,R),ae.length>0&&E&&E(ae,R),oe.length>0&&y&&y(oe,R)},[Q,u,Y,l,i,g,p,y,E,T]),c=h.exports.useCallback(function(k){k.preventDefault(),k.persist(),Se(k),ye.current=[],gt(k)&&Promise.resolve(o(k)).then(function(R){At(k)&&!N||s(R,k)}).catch(function(R){return Ce(R)}),Q({type:"reset"})},[o,s,Ce,N]),f=h.exports.useCallback(function(){if($e.current){Q({type:"openDialog"}),P();var k={multiple:u,types:O};window.showOpenFilePicker(k).then(function(R){return o(R)}).then(function(R){s(R,null),Q({type:"closeDialog"})}).catch(function(R){la(R)?(H(R),Q({type:"closeDialog"})):ua(R)?($e.current=!1,K.current?(K.current.value=null,K.current.click()):Ce(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Ce(R)});return}K.current&&(Q({type:"openDialog"}),P(),K.current.value=null,K.current.click())},[Q,P,H,W,s,Ce,O,u]),D=h.exports.useCallback(function(k){!M.current||!M.current.isEqualNode(k.target)||(k.key===" "||k.key==="Enter"||k.keyCode===32||k.keyCode===13)&&(k.preventDefault(),f())},[M,f]),A=h.exports.useCallback(function(){Q({type:"focus"})},[]),b=h.exports.useCallback(function(){Q({type:"blur"})},[]),L=h.exports.useCallback(function(){C||(oa()?setTimeout(f,0):f())},[C,f]),G=function(R){return n?null:R},ie=function(R){return F?null:G(R)},Ae=function(R){return X?null:G(R)},Se=function(R){N&&R.stopPropagation()},Tt=h.exports.useMemo(function(){return function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=k.refKey,oe=R===void 0?"ref":R,ae=k.role,pe=k.onKeyDown,Je=k.onFocus,ze=k.onBlur,jt=k.onClick,Nt=k.onDragEnter,Vt=k.onDragOver,pt=k.onDragLeave,Mt=k.onDrop,Wt=Lt(k,fa);return te(te(ar({onKeyDown:ie(we(pe,D)),onFocus:ie(we(Je,A)),onBlur:ie(we(ze,b)),onClick:G(we(jt,L)),onDragEnter:Ae(we(Nt,Rt)),onDragOver:Ae(we(Vt,Pt)),onDragLeave:Ae(we(pt,_t)),onDrop:Ae(we(Mt,c)),role:typeof ae=="string"&&ae!==""?ae:"presentation"},oe,M),!n&&!F?{tabIndex:0}:{}),Wt)}},[M,D,A,b,L,Rt,Pt,_t,c,F,X,n]),ft=h.exports.useCallback(function(k){k.stopPropagation()},[]),It=h.exports.useMemo(function(){return function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=k.refKey,oe=R===void 0?"ref":R,ae=k.onChange,pe=k.onClick,Je=Lt(k,pa),ze=ar({accept:Y,multiple:u,type:"file",style:{display:"none"},onChange:G(we(ae,c)),onClick:G(we(pe,ft)),tabIndex:-1},oe,K);return te(te({},ze),Je)}},[K,t,u,c,n]);return te(te({},z),{},{isFocused:ut&&!n,getRootProps:Tt,getInputProps:It,rootRef:M,inputRef:K,open:G(f)})}function wa(e,r){switch(r.type){case"focus":return te(te({},e),{},{isFocused:!0});case"blur":return te(te({},e),{},{isFocused:!1});case"openDialog":return te(te({},sr),{},{isFileDialogActive:!0});case"closeDialog":return te(te({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return te(te({},e),{},{isDragActive:r.isDragActive,isDragAccept:r.isDragAccept,isDragReject:r.isDragReject});case"setFiles":return te(te({},e),{},{acceptedFiles:r.acceptedFiles,fileRejections:r.fileRejections});case"reset":return te({},sr);default:return e}}function Gr(){}const Yr=1048576,Da=({onChange:e,value:r,...t})=>{const n=h.exports.useCallback(m=>{e(m?m[0]:null)},[e]),{getRootProps:o,getInputProps:i,isDragActive:l,isDragReject:u,fileRejections:g}=Vn({onDrop:n,multiple:!1,minSize:0,maxSize:Yr,accept:{"image/*":[]}}),d=g.length>0&&g[0].file.size>Yr;return v("div",{children:[r&&v("div",{className:"flex flex-wrap gap-2 justify-between items-end",children:[a("button",{className:"btn-white w-auto",onClick:m=>{m.preventDefault(),e(null)},children:"Fjern bilde"}),(r==null?void 0:r.name)&&v("div",{className:"flex flex-row gap-x-2 items-center text-sm text-green-wine-500 dark:text-green-wine-200",children:[a(vo,{size:"1.5rem",weight:"duotone"}),r.name]})]}),v("div",{className:"cursor-pointer text-center text-sm my-2",...o(),children:[a("input",{...i()}),l?a("p",{className:`${l?"border border-green-wine-500":""} rounded border flex items-center flex-col bg-slate-50  border-dashed p-4 shadow-lg text-green-wine-500 font-medium py-4 `,children:u?"Denne filtypen st\xF8ttes ikke!":a(Sr,{size:"1.75rem",className:"animate-bounce",weight:"duotone"})}):v("div",{className:"rounded border text-center bg-slate-50 dark:bg-gray-900 dark:border-gray-700 border-dashed border-slate-300 p-4 py-4 hover:bg-slate-100 hover:border-slate-500",children:[v("div",{className:"flex flex-row gap-2 justify-center items-center",children:[a(Sr,{size:"1.75rem",weight:"duotone"}),"Trykk her, eller dra et bilde hit"]}),d&&a("p",{className:"text-wine-500",children:" Filen er for stor!"})]})]})]})},Ea=e=>{const{fieldState:r}=ve({...e});return v("div",{children:[a("label",{className:"label",htmlFor:e.name,children:e.label}),a(Fe,{...e,render:({field:{ref:t,value:n,...o}})=>a(Da,{value:n,...o})}),a(Oe,{error:r.error})]})},Fa=({value:e,onChange:r})=>{const t=o=>{if(o.preventDefault(),!e){r(1);return}if(e>=10)return;const i=e+1;r(i)};return v("div",{className:"flex flex-row gap-2 items-center",children:[a("button",{type:"button",onClick:o=>{if(o.preventDefault(),!e||e<=0)return;if(e===1){r(null);return}const i=e-1;r(i)},className:"btn-white rounded-full h-10 flex justify-center items-center w-10",children:"-"}),v("div",{className:"self-stretch flex relative items-center",children:[a(fo,{stars:e||0,size:"1.75rem"}),a("span",{className:"text-sm select-none -top-2.5 absolute w-full text-center text-gray-500",children:e&&e/2})]}),a("button",{type:"button",onClick:t,className:"btn-white rounded-full h-10 w-10 flex justify-center items-center",children:"+"})]})},Aa=e=>{const{fieldState:r}=ve({...e});return v("div",{children:[a("label",{className:"label",htmlFor:e.name,children:e.label}),a(Fe,{...e,render:({field:{ref:t,...n}})=>a(Fa,{...n})}),a(Oe,{error:r.error})]})},La=({isOpen:e,setIsOpen:r,getValues:t})=>{const[n,o]=h.exports.useState(t);return h.exports.useEffect(()=>{!e||(o(t()),console.log("Update values"))},[t,e]),n?a(oo,{title:"Forh\xE5ndsvisning av vin",description:n==null?void 0:n.name,isOpen:e,setIsOpen:r,xl:!0,children:a(lo,{wine:n})}):null},Oa=({file:e,productId:r,wine:t,...n})=>{const[o,i]=h.exports.useState(null),{field:l}=ve({...n});return h.exports.useEffect(()=>{const u=()=>{i(ao(r,300))};e?i(URL.createObjectURL(e)):t.imageByUser&&!l.value?i(t.pictureUrl):l.value&&r||t.productId!==r?u():t.pictureUrl?i(t.pictureUrl):r&&u()},[t,r,e,l.value]),v("div",{className:"md:mb-0 shadow rounded select-none mb-4 p-2 bg-white",children:[a("img",{className:"mx-auto object-scale-down h-64 w-64",src:o||io,alt:"Bilde av en vin."}),t.imageByUser&&r&&!e&&a(Fe,{...n,render:({field:{value:u,onChange:g,...d}})=>v("div",{className:"flex flex-row gap-2 items-center mt-2",children:[a(nn,{...d,checked:u,onChange:g,className:`${u?"bg-wine-500":"bg-slate-200 hover:bg-slate-300"} relative transition-colors duration-100 inline-flex h-6 w-11 items-center rounded-full`,children:a("span",{className:`${u?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform transition ease-in-out  rounded-full bg-white`})}),a("span",{className:"text-sm font-medium text-gray-700",children:"Tilbakestill bilde"})]})})]})},Ca=e=>{const{fieldState:r}=ve({...e});return v("div",{children:[a("label",{className:"label",htmlFor:e.name,children:e.label}),a(Fe,{...e,render:({field:{value:t,onChange:n,...o}})=>a("div",{className:"",children:a(nn,{...o,checked:t,onChange:n,className:`${t?"bg-wine-500 hover:bg-wine-600":"bg-slate-200 dark:bg-gray-900 dark:hover:bg-gray-900/80 hover:bg-slate-300"} relative inline-flex transition-colors duration-100 h-10 w-full rounded-full`,children:a("span",{className:`${t?"translate-x-full":"translate-x-0"} inline-flex items-center h-full w-1/2 transform p-1 transition ease-in-out  `,children:v("p",{className:"rounded-full w-full flex gap-x-1 justify-center items-center py-1 bg-white dark:bg-gray-800",children:[t&&a(eo,{size:"1.25rem",weight:"duotone",className:"text-wine-500"}),t?"Favoritt":"Ikke favoritt"]})})})})}),a(Oe,{error:r.error})]})},Sa=e=>{const{fieldState:r}=ve({...e});return v("div",{children:[a("label",{className:"label",htmlFor:e.name,children:e.label}),a(Fe,{...e,render:({field:{onChange:t,value:n}})=>a(uo,{hereafter:e.hereafter,onChange:t,value:n,text:e.text})}),a(Oe,{error:r.error})]})},Ra=({value:e,onChange:r,min:t,max:n,error:o})=>{var x;const[i,l]=h.exports.useState(""),[u,g]=h.exports.useState(null),d=p=>{if(p.code==="Enter"||p.code==="Comma"){p.preventDefault();const y=i.trim();if(y.length<t){g(`Verdien m\xE5 minst v\xE6re p\xE5 ${t} bokstaver.`);return}else if(e!=null&&e.some(E=>E.toLowerCase()===y.toLowerCase())){g("Verdien m\xE5 v\xE6re unik.");return}if(e){if(e.length>=n){g(`Listen kan max ha en lengde p\xE5 ${n}.`);return}r([...e,y])}else r([y]);g(null),l("")}},m=p=>{var y;r((y=e==null?void 0:e.filter(E=>E!==p))!=null?y:[])};return v("div",{children:[e&&a("ul",{className:"i-flex-row flex-wrap gap-y-2 mb-1.5",children:e.map((p,y)=>v("li",{className:`py-1 font-medium text-sm cursor-pointer px-3 text-white
                hover:opacity-70 bg-blue-wine-300 dark:bg-blue-wine-500 rounded-full i-flex-row ${(o==null?void 0:o.types)&&Object.values(o.types).some(E=>{if(!E)return!1;const S=E.toString(),B=S.slice(S.indexOf("'")+1,S.lastIndexOf("'"));return B===p?B:!1})?"bg-wine-400 animate-pulse":""}`,onClick:()=>m(p),children:[p,a(Yn,{size:"1.1rem"})]},y))}),v("div",{className:"relative",children:[a("input",{placeholder:"trykk enter eller komma for \xE5 legge til verdi til listen",value:i,onChange:p=>{l(p.target.value),g(null)},autoComplete:"off",type:"text",onKeyDown:p=>d(p),className:`text-input ${u||(o==null?void 0:o.types)?"border-wine-200 bg-wine-25 text-wine-900 placeholder:text-transparent":""}`}),u&&a("em",{className:"text-wine-500 block dark:text-wine-300 text-sm italic",children:u}),a("small",{className:"text-muted text-xs absolute right-0 -bottom-2/4 z-0",children:`${(x=e==null?void 0:e.length)!=null?x:0}/${n}`})]})]})},Jr=e=>{const{fieldState:r}=ve({...e});return v("div",{children:[a("label",{className:"label",htmlFor:e.name,children:e.label}),a(Fe,{...e,render:({field:{ref:t,...n}})=>a(Ra,{...n,min:e.min,max:e.max,error:r.error})}),a(Oe,{error:r.error})]})};var Xr=function(e,r,t){if(e&&"reportValidity"in e){var n=w(t,r);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},Mn=function(e,r){var t=function(o){var i=r.fields[o];i&&i.ref&&"reportValidity"in i.ref?Xr(i.ref,o,e):i.refs&&i.refs.forEach(function(l){return Xr(l,o,e)})};for(var n in r.fields)t(n)},Pa=function(e,r){r.shouldUseNativeValidation&&Mn(e,r);var t={};for(var n in e){var o=w(r.fields,n);J(t,n,Object.assign(e[n],{ref:o&&o.ref}))}return t},_a=function(e,r){for(var t={};e.length;){var n=e[0],o=n.code,i=n.message,l=n.path.join(".");if(!t[l])if("unionErrors"in n){var u=n.unionErrors[0].errors[0];t[l]={message:u.message,type:u.code}}else t[l]={message:i,type:o};if("unionErrors"in n&&n.unionErrors.forEach(function(m){return m.errors.forEach(function(x){return e.push(x)})}),r){var g=t[l].types,d=g&&g[n.code];t[l]=vn(l,r,t,o,d?[].concat(d,n.message):n.message)}e.shift()}return t},Ta=function(e,r,t){return t===void 0&&(t={}),function(n,o,i){try{return Promise.resolve(function(l,u){try{var g=Promise.resolve(e[t.mode==="sync"?"parse":"parseAsync"](n,r)).then(function(d){return i.shouldUseNativeValidation&&Mn({},i),{errors:{},values:t.rawValues?n:d}})}catch(d){return u(d)}return g&&g.then?g.then(void 0,u):g}(0,function(l){return{values:{},errors:l.isEmpty?{}:Pa(_a(l.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)}}))}catch(l){return Promise.reject(l)}}};const Ia=["name","type","volume","price","storagePotential","region","subRegion","year","alcoholContent","manufacturerName","country"],ja=["freshness","fullness","bitterness","sweetness","tannins","grapes","colour","recommendedFood","odour","taste"],Na=["quantity","purchaseDate","drinkingWindowMin","drinkingWindowMax","purchaseLocation","userNote","favorite","score","userRating"],Qr=[Ia,ja,Na],Va=["Vindetaljer","Smaksdetaljer","Brukerdetaljer"],Jt={hide:{opacity:0,translateY:-8,transition:{duration:.2,ease:"linear"}},show:{opacity:1,translateY:0,transition:{duration:.2,ease:"linear"}}},qa=({onSubmit:e,serverErrors:r,wine:t,setDeleteModalIsOpen:n})=>{const{data:o,...i}=po(),[l,u]=h.exports.useState(!1),[g,d]=h.exports.useState(!1),[m,x]=h.exports.useState(0),{handleSubmit:p,control:y,reset:E,setError:S,watch:B,getValues:W,setValue:I,formState:{isSubmitting:j,errors:C,isValid:F}}=vi({mode:"all",defaultValues:Mr,resolver:Ta(Fi)}),X=B("file",null);h.exports.useEffect(()=>{if(!!r){for(const[T,Y]of Object.entries(r))if(T in Mr||T.includes("userDetails.")){let O=T;if(O.includes("userDetails.")){const P=O.charAt(O.indexOf(".")+1);O="userDetails."+P.toLowerCase()+O.split(`.${P}`)[1]}S(O,{types:{...Y}})}}},[r,S]),h.exports.useEffect(()=>{if(!t)return;const T={...t,userDetails:{...t.userDetails,purchaseDate:t.userDetails.purchaseDate?new Date(t.userDetails.purchaseDate):null}};E(T)},[t,E]);const N=(T,Y=!1)=>{const O=Y?C.userDetails:C;if(!O||Object.keys(O).length===0)return 0;let P=0;return T.forEach(H=>O.hasOwnProperty(H)?P+=1:null),P},_=async T=>{var P,H;if(!o){await e(T);return}const Y=((H=(P=o==null?void 0:o.find(M=>{var K,de;return((K=M.country)==null?void 0:K.toLowerCase())===((de=T.country)==null?void 0:de.toLowerCase())}))==null?void 0:P.countryId)==null?void 0:H.toLowerCase())||null,O={...T,countryId:Y};await e(O)};return v(U,{children:[a(La,{setIsOpen:u,isOpen:l,getValues:W}),a(mo,{setIsOpen:d,productId:t==null?void 0:t.productId,isOpen:g,setValues:E,getValues:W,setValue:I}),a("div",{className:"mt-6 block-less-muted rounded-lg md:p-8 p-4 ",children:v(Pe.Group,{selectedIndex:m,onChange:x,children:[v("div",{className:"mb-6 flex lg:flex-row flex-col gap-x-2 gap-y-4 justify-between items-start",children:[a(Pe.List,{className:"inline-flex w-full max-w-lg bg-white dark:bg-gray-800 rounded shadow flex-row",children:Va.map((T,Y)=>v(Pe,{className:({selected:O})=>`relative flex-1 last:border-r-0 border-r dark:border-r-gray-700 focus:outline-none focus:ring-0 first:rounded-tl last:rounded-tr h-12 md:px-8 px-4 text-sm select-none font-medium border-b-2 ${O?" text-wine-500 rounded-b-none border-b-wine-500 dark:text-white dark:bg-gray-700/80 dark:border-b-wine-400":"text-gray-700 dark:text-gray-400 dark:hover:text-gray-500 dark:hover:bg-gray-700/20 hover:text-black border-b-transparent"}`,children:[!!N(Qr[Y],Y===2)&&a("div",{className:"text-wine-400 dark:text-wine-300 pointer-events-none absolute -top-4 left-0 w-full animate-bounce",children:v("div",{className:"inline-flex bg-slate-200/40 dark:bg-gray-800/40 backdrop-blur-sm border-wine-400 rounded py-2 px-4 flex-row items-center gap-x-1 justify-center",children:[a(Eo,{size:"1.5rem",weight:"duotone"}),N(Qr[Y],Y===2)]})}),T]},Y))}),v("button",{onClick:()=>d(!0),className:"btn-secondary flex rounded-full flex-row gap-x-2 items-center h-12",children:[a(ho,{size:"1.5rem"}),"Hent fra Vinmonopolet"]})]}),a("div",{className:"mt-6 border-t relative border-slate-200 dark:border-gray-700 mb-6",children:W("productId")&&v("span",{className:"absolute right-4 px-1 text-sm -top-3 dark:bg-gray-950 text-slate-400 bg-slate-25",children:[a("span",{className:"select-none",children:"produktId: "}),W("productId")]})}),v("form",{autoComplete:"off",onSubmit:p(T=>_(T)),children:[a(Pe.Panels,{children:v(so,{initial:!1,children:[v(Pe.Panel,{as:zt.div,initial:"hide",animate:"show",variants:Jt,className:"flex flex-col gap-y-4 sm:gap-y-6 lg:gap-y-8",children:[v("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a(se,{required:!0,control:y,name:"name",label:"Navn",placeholder:"navn p\xE5 vin"}),a(se,{control:y,name:"storagePotential",label:"Lagringsgrad",placeholder:"lagringsgrad"})]}),v("div",{className:"md:flex flex-row items-center gap-4",children:[a(Oa,{file:X,wine:{pictureUrl:t==null?void 0:t.pictureUrl,imageByUser:t==null?void 0:t.imageByUser,productId:t==null?void 0:t.productId},productId:W("productId"),name:"resetImage",control:y}),v("div",{className:"grid flex-1 grid-cols-2 lg:grid-cols-3 gap-x-4 gap-y-4 sm:gap-y-6 lg:gap-y-8",children:[a(se,{required:!0,control:y,name:"type",label:"Type",placeholder:"Vintype"}),a(Gt,{control:y,minValue:0,maxValue:3e3,dropDownMinValue:new Date().getFullYear()-10,dropDownMaxValue:new Date().getFullYear()+1,name:"year",label:"\xC5rgang",placeholder:"\xE5rgang"}),a(se,{control:y,name:"volume",label:"Volum",numeric:!0,maxLength:10,definition:"liter",placeholder:"volum"}),a(se,{control:y,name:"price",numeric:!0,maxLength:10,label:"Pris",definition:"kr",placeholder:"pris"}),a(se,{control:y,name:"alcoholContent",numeric:!0,maxLength:10,label:"Alkoholdinnhold",definition:"%",placeholder:"alkoholinnhold"}),a(se,{control:y,name:"manufacturerName",label:"Produsent",placeholder:"produsent"}),i.isLoading?v("div",{className:"flex items-center flex-col justify-center space-x-4",children:[a(Jn,{height:"2rem",width:"2.5rem",className:"mx-4",fill:"gray"}),a("span",{className:"text-slate-500 text-sm",children:"Laster land..."})]}):a(U,{children:o?a(yi,{name:"country",label:"Land",control:y,list:o}):a(se,{control:y,name:"country",label:"Land",placeholder:"land"})}),a(se,{control:y,name:"region",label:"Distrikt",placeholder:"distrikt"}),a(se,{control:y,name:"subRegion",label:"Underdistrikt",placeholder:"underdistrikt"})]})]}),a("div",{children:a(Ea,{name:"file",label:"Velg bilde",control:y})})]},0),v(Pe.Panel,{as:zt.div,initial:"hide",animate:"show",variants:Jt,className:"flex flex-col gap-y-4 sm:gap-y-6 lg:gap-y-8",children:[v("div",{className:"grid lg:grid-cols-5 md:grid-cols-3 sm:grid-cols-2 grid-cols-1 gap-4",children:[a(tt,{control:y,name:"freshness",type:"freshness",label:"Ferskhet"}),a(tt,{label:"Fylde",type:"fullness",name:"fullness",control:y}),a(tt,{label:"Bitterhet",type:"bitterness",name:"bitterness",control:y}),a(tt,{label:"S\xF8dme",type:"sweetness",name:"sweetness",control:y}),a(tt,{label:"Tanninsk",type:"tannins",name:"tannins",control:y})]}),a(Jr,{label:"Passer til",min:3,max:12,name:"recommendedFood",control:y}),a(Jr,{label:"R\xE5stoff",min:5,max:12,name:"grapes",control:y}),v("div",{className:"grid grid-cols-2 gap-4",children:[a(se,{textarea:!0,rows:2,maxLength:500,control:y,name:"colour",label:"Farge",placeholder:"farge"}),a(se,{textarea:!0,rows:2,maxLength:500,control:y,name:"odour",label:"Duft",placeholder:"duft"})]}),a(se,{textarea:!0,rows:3,maxLength:500,control:y,name:"taste",label:"Smak",placeholder:"smak"})]},1),v(Pe.Panel,{as:zt.div,initial:"hide",animate:"show",variants:Jt,className:"flex flex-col gap-y-4 sm:gap-y-6 lg:gap-y-8",children:[v("div",{className:"grid grid-cols-3 gap-4",children:[a(se,{control:y,name:"userDetails.quantity",label:"Antall",numeric:!0,maxLength:4,placeholder:"antall"}),a(se,{control:y,name:"userDetails.purchaseLocation",label:"Kj\xF8pested",placeholder:"kj\xF8pested"})]}),v("div",{className:"grid grid-cols-3 gap-4",children:[a(se,{control:y,name:"userDetails.score",numeric:!0,maxLength:3,label:"Karakter (50-100)",placeholder:"karakter"}),a(Gt,{control:y,minValue:0,maxValue:3e3,dropDownMinValue:new Date().getFullYear()-5,dropDownMaxValue:new Date().getFullYear()+5,name:"userDetails.drinkingWindowMin",label:"Drikkevindu (fra)",placeholder:"\xE5r fra"}),a(Gt,{control:y,minValue:0,maxValue:3e3,dropDownMinValue:new Date().getFullYear()-5,dropDownMaxValue:new Date().getFullYear()+10,name:"userDetails.drinkingWindowMax",label:"Drikkevindu (til)",placeholder:"\xE5r til"})]}),v("div",{className:"grid grid-cols-3 gap-4",children:[a(Ca,{control:y,name:"userDetails.favorite",label:"Favoritt?"}),a(Aa,{control:y,name:"userDetails.userRating",label:"Din vurdering"}),a(Sa,{control:y,name:"userDetails.purchaseDate",label:"Dato kj\xF8pt",text:"Velg dato",hereafter:!1})]}),a(se,{textarea:!0,rows:3,maxLength:500,control:y,name:"userDetails.userNote",label:"Dine notater",placeholder:"notater"})]},2)]})}),a("div",{className:"mt-6 border-t border-slate-200 dark:border-gray-700 mb-6"}),v("div",{className:"flex flex-row flex-wrap gap-2 items-center justify-between",children:[v("div",{className:"i-flex-row",children:[v(Xn,{className:"btn-white px-5 rounded-full i-flex-row disabled-btn w-auto",to:-1,children:[a(Qn,{size:"1.5rem"}),"Avbryt"]}),v("button",{className:"btn-white px-5 rounded-full i-flex-row disabled-btn w-auto",disabled:!F,type:"button",onClick:()=>u(!0),children:[a(ko,{size:"1.5rem"}),"Forh\xE5ndsvis"]})]}),v("div",{className:"i-flex-row",children:[n&&v(Ar,{loading:j,isPrimary:!1,disabled:j,loadingText:"Sletter vin...",type:"button",className:"px-5 rounded-full i-flex-row disabled-btn w-auto",onClick:()=>n(!0),children:[a(go,{size:"1.5rem"}),"Slett"]}),v(Ar,{disabled:!F,loading:j,loadingText:t?"Oppdaterer vin...":"Legger til vin...",type:"submit",children:[t?a(co,{size:"1.5rem"}):a(to,{size:"1.5rem"}),t?"Lagre endringer":"Legg til"]})]})]})]})]})}),a("button",{className:"btn-white w-full h-12 my-4",onClick:()=>console.table(W()),children:"GET VALUES"})]})};export{qa as C};
