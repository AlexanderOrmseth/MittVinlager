import{R as e,r as d,I as k,a as p,aC as h}from"./index.a4510e28.js";import{I as L}from"./InfoBox.a070f46f.js";import{S as y}from"./Spinner.093200b6.js";import{V as x}from"./VinmonopoletModal.045d3dd0.js";import{T as E}from"./Title.f442804c.js";import{W as f}from"./WineListItem.927ed969.js";import{d as g,b as c,a as u,v as W,L as j}from"./vinmonopolet.07455311.js";import{T as v}from"./Trash.esm.3d4058f4.js";import"./Info.esm.162353d6.js";import"./Link.esm.25e73d22.js";import"./radio-group.3519c95d.js";var i=new Map;i.set("bold",function(t){return e.createElement(e.Fragment,null,e.createElement("path",{d:"M138.7,175.5l-19.2,52.1a8,8,0,0,1-15,0L85.3,175.5a8.1,8.1,0,0,0-4.8-4.8L28.4,151.5a8,8,0,0,1,0-15l52.1-19.2a8.1,8.1,0,0,0,4.8-4.8l19.2-52.1a8,8,0,0,1,15,0l19.2,52.1a8.1,8.1,0,0,0,4.8,4.8l52.1,19.2a8,8,0,0,1,0,15l-52.1,19.2A8.1,8.1,0,0,0,138.7,175.5Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),e.createElement("line",{x1:"176",y1:"16",x2:"176",y2:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),e.createElement("line",{x1:"200",y1:"40",x2:"152",y2:"40",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),e.createElement("line",{x1:"224",y1:"72",x2:"224",y2:"104",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),e.createElement("line",{x1:"240",y1:"88",x2:"208",y2:"88",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});i.set("duotone",function(t){return e.createElement(e.Fragment,null,e.createElement("path",{d:"M138.7,175.5l-19.2,52.1a8,8,0,0,1-15,0L85.3,175.5a8.1,8.1,0,0,0-4.8-4.8L28.4,151.5a8,8,0,0,1,0-15l52.1-19.2a8.1,8.1,0,0,0,4.8-4.8l19.2-52.1a8,8,0,0,1,15,0l19.2,52.1a8.1,8.1,0,0,0,4.8,4.8l52.1,19.2a8,8,0,0,1,0,15l-52.1,19.2A8.1,8.1,0,0,0,138.7,175.5Z",opacity:"0.2"}),e.createElement("path",{d:"M138.7,175.5l-19.2,52.1a8,8,0,0,1-15,0L85.3,175.5a8.1,8.1,0,0,0-4.8-4.8L28.4,151.5a8,8,0,0,1,0-15l52.1-19.2a8.1,8.1,0,0,0,4.8-4.8l19.2-52.1a8,8,0,0,1,15,0l19.2,52.1a8.1,8.1,0,0,0,4.8,4.8l52.1,19.2a8,8,0,0,1,0,15l-52.1,19.2A8.1,8.1,0,0,0,138.7,175.5Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),e.createElement("line",{x1:"176",y1:"16",x2:"176",y2:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),e.createElement("line",{x1:"200",y1:"40",x2:"152",y2:"40",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),e.createElement("line",{x1:"224",y1:"72",x2:"224",y2:"104",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),e.createElement("line",{x1:"240",y1:"88",x2:"208",y2:"88",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});i.set("fill",function(){return e.createElement(e.Fragment,null,e.createElement("path",{d:"M208.9,144a15.8,15.8,0,0,1-10.5,15l-52.2,19.2L127,230.4a16,16,0,0,1-30,0L77.8,178.2,25.6,159a16,16,0,0,1,0-30l52.2-19.2L97,57.6a16,16,0,0,1,30,0l19.2,52.2L198.4,129A15.8,15.8,0,0,1,208.9,144ZM152,48h16V64a8,8,0,0,0,16,0V48h16a8,8,0,0,0,0-16H184V16a8,8,0,0,0-16,0V32H152a8,8,0,0,0,0,16Zm88,32h-8V72a8,8,0,0,0-16,0v8h-8a8,8,0,0,0,0,16h8v8a8,8,0,0,0,16,0V96h8a8,8,0,0,0,0-16Z"}))});i.set("light",function(t){return e.createElement(e.Fragment,null,e.createElement("path",{d:"M138.7,175.5l-19.2,52.1a8,8,0,0,1-15,0L85.3,175.5a8.1,8.1,0,0,0-4.8-4.8L28.4,151.5a8,8,0,0,1,0-15l52.1-19.2a8.1,8.1,0,0,0,4.8-4.8l19.2-52.1a8,8,0,0,1,15,0l19.2,52.1a8.1,8.1,0,0,0,4.8,4.8l52.1,19.2a8,8,0,0,1,0,15l-52.1,19.2A8.1,8.1,0,0,0,138.7,175.5Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),e.createElement("line",{x1:"176",y1:"16",x2:"176",y2:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),e.createElement("line",{x1:"200",y1:"40",x2:"152",y2:"40",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),e.createElement("line",{x1:"224",y1:"72",x2:"224",y2:"104",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),e.createElement("line",{x1:"240",y1:"88",x2:"208",y2:"88",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});i.set("thin",function(t){return e.createElement(e.Fragment,null,e.createElement("path",{d:"M138.7,175.5l-19.2,52.1a8,8,0,0,1-15,0L85.3,175.5a8.1,8.1,0,0,0-4.8-4.8L28.4,151.5a8,8,0,0,1,0-15l52.1-19.2a8.1,8.1,0,0,0,4.8-4.8l19.2-52.1a8,8,0,0,1,15,0l19.2,52.1a8.1,8.1,0,0,0,4.8,4.8l52.1,19.2a8,8,0,0,1,0,15l-52.1,19.2A8.1,8.1,0,0,0,138.7,175.5Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),e.createElement("line",{x1:"176",y1:"16",x2:"176",y2:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),e.createElement("line",{x1:"200",y1:"40",x2:"152",y2:"40",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),e.createElement("line",{x1:"224",y1:"72",x2:"224",y2:"104",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),e.createElement("line",{x1:"240",y1:"88",x2:"208",y2:"88",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});i.set("regular",function(t){return e.createElement(e.Fragment,null,e.createElement("path",{d:"M138.7,175.5l-19.2,52.1a8,8,0,0,1-15,0L85.3,175.5a8.1,8.1,0,0,0-4.8-4.8L28.4,151.5a8,8,0,0,1,0-15l52.1-19.2a8.1,8.1,0,0,0,4.8-4.8l19.2-52.1a8,8,0,0,1,15,0l19.2,52.1a8.1,8.1,0,0,0,4.8,4.8l52.1,19.2a8,8,0,0,1,0,15l-52.1,19.2A8.1,8.1,0,0,0,138.7,175.5Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),e.createElement("line",{x1:"176",y1:"16",x2:"176",y2:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),e.createElement("line",{x1:"200",y1:"40",x2:"152",y2:"40",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),e.createElement("line",{x1:"224",y1:"72",x2:"224",y2:"104",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),e.createElement("line",{x1:"240",y1:"88",x2:"208",y2:"88",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var b=function(r,l){return p(r,l,i)},m=d.exports.forwardRef(function(t,r){return e.createElement(k,Object.assign({ref:r},t,{renderPath:b}))});m.displayName="Sparkle";const I=m,T=h.injectEndpoints({endpoints:t=>({getWishlist:t.query({query:()=>({url:"wishlist",method:"GET"}),providesTags:r=>r?[...r.map(({id:l})=>({type:"Wishlist",id:l})),{type:"Wishlist",id:"LIST"}]:[{type:"Wishlist",id:"LIST"}]}),deleteWishlistItem:t.mutation({query(r){return{url:`/wishlist/${r}`,method:"DELETE"}},invalidatesTags:(r,l,o)=>[{type:"Wishlist",id:o}]}),addWishlistItem:t.mutation({query(r){return{url:"/wishlist",method:"POST",body:r}},invalidatesTags:[{type:"Wishlist",id:"LIST"}]})})}),{useGetWishlistQuery:N,useAddWishlistItemMutation:F,useDeleteWishlistItemMutation:M}=T,S=({items:t})=>{const[r,{isLoading:l}]=M(),o=async n=>{await r(n).unwrap().then(a=>console.log(a)).catch(a=>console.log(a))};return e.createElement("ul",{className:"block-less-muted flex-1 space-y-2 rounded-lg p-4"},t.map(n=>e.createElement(f,{key:n.id,name:n.name,pictureUrl:n.pictureUrl,externalLink:!0,to:g(n.productId)},e.createElement("div",{className:"comma mb-2 flex flex-1 items-center gap-2 text-sm"},e.createElement("p",null,n.type),n.country&&e.createElement("p",null,n.country),!!n.price&&e.createElement("p",null,c(n.price)),!!n.alcoholContent&&e.createElement("p",null,u(n.alcoholContent))),e.createElement("button",{disabled:l,onClick:()=>o(n.id),className:"btn-white flex w-auto flex-row items-center gap-x-2 py-1.5 disabled:cursor-not-allowed disabled:opacity-50"},e.createElement(v,{size:"1.5rem",weight:"duotone",className:"text-wine-500 dark:text-wine-400"}),"Slett"))))},A=({wine:t,setWine:r})=>{const[l,{isLoading:o}]=F();if(!t)return null;const n=async()=>{if(!t.productId)return;const a={name:t.name,productId:t.productId,type:t.type,alcoholContent:t.alcoholContent,country:t.country,price:t.price};await l(a).unwrap().then(s=>console.log(s)).catch(s=>console.error(s)),r(null)};return e.createElement("div",{className:"block-muted basis-96 bg-white p-4 text-center"},e.createElement("h3",{className:"text-blue-wine-500 dark:text-blue-wine-25 mb-2 font-bold"},t.name),e.createElement("img",{className:"pointer-events-none mx-auto h-36 w-36 select-none rounded object-scale-down",src:W(t.productId,200),alt:`Bilde av en vin: ${t.name}`}),e.createElement("div",{className:"text-muted my-3 grid grid-cols-2 gap-2"},e.createElement("p",null,t.type),e.createElement("p",null,u(t.alcoholContent)),e.createElement("p",null,t.country),e.createElement("p",null,c(t.price))),e.createElement(j,{loading:o,disabled:!t,onClick:n,loadingText:"Legger til vin...",className:"w-full justify-center"},"Legg til"))},G=()=>{const[t,r]=d.exports.useState(!1),[l,o]=d.exports.useState(null),{data:n,isLoading:a}=N(),s=!!(n!=null&&n.length);return e.createElement(e.Fragment,null,e.createElement(x,{isWishlist:!0,setValues:o,isOpen:t,setIsOpen:r}),e.createElement("div",{className:"space-y-4"},e.createElement(E,{title:"\xD8nskeliste",Icon:I,border:!0},e.createElement("p",null,"Her kan du legge til vin i egen \xF8nskeliste. Du kan max ha 10 vin i \xF8nskelisten.")),e.createElement("button",{type:"button",onClick:()=>r(!0),disabled:a||n!=null&&(n==null?void 0:n.length)>=10,className:"btn-secondary disabled-btn h-12 w-full rounded-full"},"Hent vin"),a?e.createElement(y,{text:"Laster..."}):e.createElement(e.Fragment,null,!s&&e.createElement(L,{message:" Du har ingen vin i \xF8nskelisten. Trykk p\xE5 hent vin for \xE5 legge til en vin."}),e.createElement("div",{className:"flex flex-row items-start gap-4"},e.createElement(A,{setWine:o,wine:l}),s&&e.createElement(S,{items:n})))))};export{G as default};
