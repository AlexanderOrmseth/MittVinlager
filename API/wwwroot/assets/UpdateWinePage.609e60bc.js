import{i as f,r as m,aH as g,R as e,ap as S,E as v}from"./index.43a4cb6b.js";import{S as w}from"./Spinner.3c4223c7.js";import{T as x}from"./Title.c5b0fbb7.js";import{C as h}from"./CreateOrUpdate.d19181d2.js";import{u as O}from"./useFetchSingleWine.c1a5b0db.js";import{E as I}from"./ErrorBox.70150a54.js";import{P as U,D as W}from"./DeleteWineModal.c428df36.js";import"./switch.d44e54eb.js";import"./vinmonopolet.a433c829.js";import"./radio-group.afc6c64f.js";import"./DatePicker.fe8a2d95.js";import"./Score.8b571a73.js";import"./Time.a44c7f60.js";import"./index.a6dbf254.js";import"./VinmonopoletModal.108bf9e6.js";import"./Trash.esm.a66f2978.js";import"./FloppyDisk.esm.fc602804.js";const $=()=>{const l=f(),{wine:r,id:n,status:o}=O(),[p,a]=m.exports.useState(!1),[c]=g(),[u,d]=m.exports.useState(null);if(n){if(o.isLoading)return e.createElement(w,{text:"Laster..."});if(o.isError)return e.createElement(I,{message:`Kunne ikke finne vinen med id: ${n}`})}else return e.createElement(S,null);console.log(r);const E=async i=>{console.log(i),await c({id:n,data:i}).unwrap().then(()=>{v.success("Oppdaterte vin!",{position:"bottom-right"}),l(-1)}).catch(t=>{var s;if(console.error("Update wine error",t),(s=t==null?void 0:t.data)!=null&&s.errors){d(t.data.errors);return}console.error("Update wine error",t)})};return e.createElement("div",null,e.createElement(x,{title:"Rediger Vin",border:!0,Icon:U},e.createElement("p",null,"Trykk p\xE5",e.createElement("strong",{className:"mx-1"},"Hent fra Vinmonopolet"),"for \xE5 hente vininformasjon fra Vinmonopolet.")),o.isSuccess&&r&&e.createElement(e.Fragment,null,e.createElement(h,{setDeleteModalIsOpen:a,onSubmit:E,wine:r,serverErrors:u}),e.createElement(W,{isOpen:p,shouldNavigate:!0,setIsOpen:a,wineToDelete:{id:r.wineId,name:r.name}})))};export{$ as default};
