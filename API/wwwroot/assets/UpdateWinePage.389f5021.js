import{R as e,r as s,I as h,a as L,h as x,aI as y,ap as g,E as W}from"./index.f4ef971d.js";import{S as j}from"./Spinner.ed83b80c.js";import{T as v}from"./Title.588b50dc.js";import{C as M}from"./CreateOrUpdate.01c528aa.js";import{u as S}from"./useFetchSingleWine.aae39a30.js";import{E as w}from"./ErrorBox.a6e26482.js";import{D as F}from"./DeleteWineModal.a5a81a3f.js";import"./switch.e92602ce.js";import"./vinmonopolet.d620f097.js";import"./radio-group.d12fc65c.js";import"./DatePicker.84e57bf6.js";import"./Score.8cfab19a.js";import"./Time.2c9402fb.js";import"./index.054d441f.js";import"./VinmonopoletModal.fd3f1b8e.js";import"./Link.esm.e75026c9.js";import"./Trash.esm.85fdbdc6.js";var r=new Map;r.set("bold",function(t){return e.createElement(e.Fragment,null,e.createElement("path",{d:"M96,216H48a8,8,0,0,1-8-8V163.3a7.9,7.9,0,0,1,2.3-5.6l120-120a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,1,0,11.4Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),e.createElement("line",{x1:"136",y1:"64",x2:"192",y2:"120",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),e.createElement("line",{x1:"216",y1:"216",x2:"96",y2:"216",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});r.set("duotone",function(t){return e.createElement(e.Fragment,null,e.createElement("path",{d:"M192,120,136,64l26.3-26.3a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,1,0,11.4Z",opacity:"0.2"}),e.createElement("path",{d:"M96,216H48a8,8,0,0,1-8-8V163.3a7.9,7.9,0,0,1,2.3-5.6l120-120a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,1,0,11.4Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),e.createElement("line",{x1:"136",y1:"64",x2:"192",y2:"120",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),e.createElement("line",{x1:"216",y1:"216",x2:"96",y2:"216",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});r.set("fill",function(){return e.createElement(e.Fragment,null,e.createElement("path",{d:"M216,208H115.3l82.4-82.3h0L224,99.3a15.9,15.9,0,0,0,0-22.6L179.3,32a16.1,16.1,0,0,0-22.6,0L36.7,152A15.9,15.9,0,0,0,32,163.3V208a16,16,0,0,0,16,16H216a8,8,0,0,0,0-16ZM48,163.3l96-96L188.7,112l-96,96H48Z"}))});r.set("light",function(t){return e.createElement(e.Fragment,null,e.createElement("path",{d:"M96,216H48a8,8,0,0,1-8-8V163.3a7.9,7.9,0,0,1,2.3-5.6l120-120a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,1,0,11.4Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),e.createElement("line",{x1:"136",y1:"64",x2:"192",y2:"120",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),e.createElement("line",{x1:"216",y1:"216",x2:"96",y2:"216",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});r.set("thin",function(t){return e.createElement(e.Fragment,null,e.createElement("path",{d:"M96,216H48a8,8,0,0,1-8-8V163.3a7.9,7.9,0,0,1,2.3-5.6l120-120a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,1,0,11.4Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),e.createElement("line",{x1:"136",y1:"64",x2:"192",y2:"120",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),e.createElement("line",{x1:"216",y1:"216",x2:"96",y2:"216",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});r.set("regular",function(t){return e.createElement(e.Fragment,null,e.createElement("path",{d:"M96,216H48a8,8,0,0,1-8-8V163.3a7.9,7.9,0,0,1,2.3-5.6l120-120a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,1,0,11.4Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),e.createElement("line",{x1:"216",y1:"216",x2:"96",y2:"216",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),e.createElement("line",{x1:"136",y1:"64",x2:"192",y2:"120",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var H=function(n,i){return L(n,i,r)},m=s.exports.forwardRef(function(t,n){return e.createElement(h,Object.assign({ref:n},t,{renderPath:H}))});m.displayName="PencilSimpleLine";const V=m,G=()=>{const t=x(),{wine:n,id:i,status:a}=S(),[c,l]=s.exports.useState(!1),[p]=y(),[k,f]=s.exports.useState(null);if(i){if(a.isLoading)return e.createElement(j,{text:"Laster..."});if(a.isError)return e.createElement(w,{message:`Kunne ikke finne vinen med id: ${i}`})}else return e.createElement(g,null);const E=async d=>{console.log(d),await p({id:i,data:d}).unwrap().then(()=>{W.success("Oppdaterte vin!",{position:"bottom-right"}),t(-1)}).catch(o=>{var u;if(console.error("Update wine error",o),(u=o==null?void 0:o.data)!=null&&u.errors){f(o.data.errors);return}console.error("Update wine error",o)})};return e.createElement("div",null,e.createElement(v,{title:"Rediger Vin",border:!0,Icon:V},e.createElement("p",null,'Her kan du legge til vin. Trykk p\xE5 "Hent fra Vinmonopolet" knappen for \xE5 hente vin fra Vinmonopolet.no.')),a.isSuccess&&n&&e.createElement(e.Fragment,null,e.createElement(M,{setDeleteModalIsOpen:l,onSubmit:E,wine:n,serverErrors:k}),e.createElement(F,{isOpen:c,shouldNavigate:!0,setIsOpen:l,wineToDelete:{id:n.wineId,name:n.name}})))};export{G as default};
