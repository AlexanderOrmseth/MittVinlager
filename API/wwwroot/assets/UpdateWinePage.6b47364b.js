import{k as f,r as l,aM as g,R as e,au as S,S as v,w,E as x}from"./index.a80f4a55.js";import{T as h}from"./Title.4d86516d.js";import{C as O}from"./CreateOrUpdate.1f1e4e47.js";import{u as k}from"./useFetchSingleWine.e04c969a.js";import{P as I,D as M}from"./DeleteWineModal.7ad2b4ed.js";import"./switch.1b362cf0.js";import"./vinmonopolet.1080456f.js";import"./radio-group.f22110e2.js";import"./DatePicker.5fdb326b.js";import"./Score.2b61b7b4.js";import"./Time.92f83872.js";import"./index.a6dbf254.js";import"./VinmonopoletModal.70fb5661.js";import"./Trash.esm.c4cacba5.js";import"./FloppyDisk.esm.a42f547c.js";const H=()=>{const m=f(),{wine:r,id:n,status:o}=k(),[p,a]=l.exports.useState(!1),[c]=g(),[u,d]=l.exports.useState(null);if(n){if(o.isLoading)return e.createElement(v,{text:"Laster..."});if(o.isError)return e.createElement(w,{message:`Kunne ikke finne vinen med id: ${n}`})}else return e.createElement(S,null);console.log(r);const E=async s=>{console.log(s),await c({id:n,data:s}).unwrap().then(()=>{x.success("Oppdaterte vin!",{position:"bottom-right"}),m(-1)}).catch(t=>{var i;if(console.error("Update wine error",t),(i=t==null?void 0:t.data)!=null&&i.errors){d(t.data.errors);return}console.error("Update wine error",t)})};return e.createElement("div",null,e.createElement(h,{title:"Rediger Vin",border:!0,Icon:I},e.createElement("p",null,"Trykk p\xE5",e.createElement("strong",{className:"mx-1"},"Hent fra Vinmonopolet"),"for \xE5 hente vininformasjon fra Vinmonopolet.")),o.isSuccess&&r&&e.createElement(e.Fragment,null,e.createElement(O,{setDeleteModalIsOpen:a,onSubmit:E,wine:r,serverErrors:u}),e.createElement(M,{isOpen:p,shouldNavigate:!0,setIsOpen:a,wineToDelete:{id:r.wineId,name:r.name}})))};export{H as default};
