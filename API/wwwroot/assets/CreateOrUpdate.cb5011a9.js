import{R as a,r as y,I as et,a as tt,H as pe,w as Q,A as Le,N as fe,X as Mn,ab as Wn,W as Yt,af as $n,_ as ge,y as Ee,S as Re,ag as Qr,ac as en,U as bt,V as Un,an as Bn,v as mt,ah as Er,ak as ue,Y as X,Z as zn,al as Hn,am as Gt,B as $e,F as ye,D as or,aD as Kn,aE as He,aF as Ke,a8 as kr,a0 as wr,E as qn,m as Wt,T as Zn,L as Yn,aG as Gn}from"./index.cba0ca29.js";import{i as ir,r as Ye,u as tn,P as Xn}from"./switch.b08ecaee.js";import{e as Jn}from"./radio-group.5e026102.js";import{h as rn,s as nn,c as Qn,M as ea,p as ta,v as ra,A as na,L as Dr}from"./vinmonopolet.74920a44.js";import{T as Fr,l as Ar,t as _r,a as Lr,W as aa,D as oa}from"./DatePicker.0e1f3557.js";import{m as I}from"./index.a6dbf254.js";import{S as ia,X as la}from"./Score.a4d2dd59.js";import{u as sa,V as ua}from"./VinmonopoletModal.bf149322.js";import{T as ca}from"./Trash.esm.ea722f0a.js";import{F as da}from"./FloppyDisk.esm.6bca43ad.js";var Pe=new Map;Pe.set("bold",function(e){return a.createElement(a.Fragment,null,a.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),a.createElement("polyline",{points:"144 56 216 128 144 200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Pe.set("duotone",function(e){return a.createElement(a.Fragment,null,a.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a.createElement("polyline",{points:"144 56 216 128 144 200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Pe.set("fill",function(){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M221.7,133.7l-72,72A8.3,8.3,0,0,1,144,208a8.5,8.5,0,0,1-3.1-.6A8,8,0,0,1,136,200V136H40a8,8,0,0,1,0-16h96V56a8,8,0,0,1,4.9-7.4,8.4,8.4,0,0,1,8.8,1.7l72,72A8.1,8.1,0,0,1,221.7,133.7Z"}))});Pe.set("light",function(e){return a.createElement(a.Fragment,null,a.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),a.createElement("polyline",{points:"144 56 216 128 144 200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Pe.set("thin",function(e){return a.createElement(a.Fragment,null,a.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),a.createElement("polyline",{points:"144 56 216 128 144 200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Pe.set("regular",function(e){return a.createElement(a.Fragment,null,a.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a.createElement("polyline",{points:"144 56 216 128 144 200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var fa=function(r,t){return tt(r,t,Pe)},an=y.exports.forwardRef(function(e,r){return a.createElement(et,Object.assign({ref:r},e,{renderPath:fa}))});an.displayName="ArrowRight";const ma=an;var Te=new Map;Te.set("bold",function(e){return a.createElement(a.Fragment,null,a.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),a.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Te.set("duotone",function(e){return a.createElement(a.Fragment,null,a.createElement("circle",{cx:"128",cy:"128",r:"96",opacity:"0.2"}),a.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Te.set("fill",function(){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.2,104.2,0,0,0,128,24Zm49.5,85.8-58.6,56a8.1,8.1,0,0,1-5.6,2.2,7.7,7.7,0,0,1-5.5-2.2l-29.3-28a8,8,0,1,1,11-11.6l23.8,22.7,53.2-50.7a8,8,0,0,1,11,11.6Z"}))});Te.set("light",function(e){return a.createElement(a.Fragment,null,a.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),a.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Te.set("thin",function(e){return a.createElement(a.Fragment,null,a.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),a.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Te.set("regular",function(e){return a.createElement(a.Fragment,null,a.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var pa=function(r,t){return tt(r,t,Te)},on=y.exports.forwardRef(function(e,r){return a.createElement(et,Object.assign({ref:r},e,{renderPath:pa}))});on.displayName="CheckCircle";const ga=on;var je=new Map;je.set("bold",function(e){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,56C48,56,16,128,16,128s32,72,112,72,112-72,112-72S208,56,128,56Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),a.createElement("circle",{cx:"128",cy:"128",r:"32",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});je.set("duotone",function(e){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,56C48,56,16,128,16,128s32,72,112,72,112-72,112-72S208,56,128,56Zm0,112a40,40,0,1,1,40-40A40,40,0,0,1,128,168Z",opacity:"0.2"}),a.createElement("path",{d:"M128,56C48,56,16,128,16,128s32,72,112,72,112-72,112-72S208,56,128,56Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a.createElement("circle",{cx:"128",cy:"128",r:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});je.set("fill",function(){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M247.3,124.8c-.3-.8-8.8-19.6-27.6-38.5C194.6,61.3,162.9,48,128,48S61.4,61.3,36.3,86.3C17.5,105.2,9,124,8.7,124.8a7.9,7.9,0,0,0,0,6.4c.3.8,8.8,19.6,27.6,38.5C61.4,194.7,93.1,208,128,208s66.6-13.3,91.7-38.3c18.8-18.9,27.3-37.7,27.6-38.5A7.9,7.9,0,0,0,247.3,124.8ZM128,92a36,36,0,1,1-36,36A36,36,0,0,1,128,92Z"}))});je.set("light",function(e){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,56C48,56,16,128,16,128s32,72,112,72,112-72,112-72S208,56,128,56Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),a.createElement("circle",{cx:"128",cy:"128",r:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});je.set("thin",function(e){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,56C48,56,16,128,16,128s32,72,112,72,112-72,112-72S208,56,128,56Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),a.createElement("circle",{cx:"128",cy:"128",r:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});je.set("regular",function(e){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,56C48,56,16,128,16,128s32,72,112,72,112-72,112-72S208,56,128,56Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a.createElement("circle",{cx:"128",cy:"128",r:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var ba=function(r,t){return tt(r,t,je)},ln=y.exports.forwardRef(function(e,r){return a.createElement(et,Object.assign({ref:r},e,{renderPath:ba}))});ln.displayName="Eye";const xa=ln;var Ie=new Map;Ie.set("bold",function(e){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M152,224l-44.7-67a3.9,3.9,0,0,0-6.6,0L79.8,188.4a4,4,0,0,1-6.7-.1l-9.7-15.1a4.1,4.1,0,0,0-6.8,0L24,224Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),a.createElement("polyline",{points:"148 32 148 92 208 92",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),a.createElement("path",{d:"M196,224h4a8,8,0,0,0,8-8V88L152,32H56a8,8,0,0,0-8,8v88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ie.set("duotone",function(e){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M152,224l-44.7-67a3.9,3.9,0,0,0-6.6,0L79.8,188.4a4,4,0,0,1-6.7-.1l-9.7-15.1a4.1,4.1,0,0,0-6.8,0L24,224Z",opacity:"0.2"}),a.createElement("polygon",{points:"152 32 152 88 208 88 152 32",opacity:"0.2"}),a.createElement("path",{d:"M152,224l-44.7-67a3.9,3.9,0,0,0-6.6,0L79.8,188.4a4,4,0,0,1-6.7-.1l-9.7-15.1a4.1,4.1,0,0,0-6.8,0L24,224Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a.createElement("polyline",{points:"152 32 152 88 208 88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a.createElement("path",{d:"M192,224h8a8,8,0,0,0,8-8V88L152,32H56a8,8,0,0,0-8,8v96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ie.set("fill",function(){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M213.7,82.3l-56-56A8.1,8.1,0,0,0,152,24H56A16,16,0,0,0,40,40v96a8,8,0,0,0,16,0V40h88V88a8,8,0,0,0,8,8h48V216h-8a8,8,0,0,0,0,16h8a16,16,0,0,0,16-16V88A8.1,8.1,0,0,0,213.7,82.3ZM160,80V51.3L188.7,80Zm-1.3,139.6a8.3,8.3,0,0,1,.4,8.2A8,8,0,0,1,152,232H24a8,8,0,0,1-7-4.2,7.9,7.9,0,0,1,.3-8.1l32.6-50.8a12,12,0,0,1,20.2,0l6.4,10L94,152.6a12,12,0,0,1,20,0Z"}))});Ie.set("light",function(e){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M152,224l-44.7-67a3.9,3.9,0,0,0-6.6,0L79.8,188.4a4,4,0,0,1-6.7-.1l-9.7-15.1a4.1,4.1,0,0,0-6.8,0L24,224Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),a.createElement("polyline",{points:"152 32 152 88 208 88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),a.createElement("path",{d:"M192,224h8a8,8,0,0,0,8-8V88L152,32H56a8,8,0,0,0-8,8v96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ie.set("thin",function(e){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M152,224l-44.7-67a3.9,3.9,0,0,0-6.6,0L79.8,188.4a4,4,0,0,1-6.7-.1l-9.7-15.1a4.1,4.1,0,0,0-6.8,0L24,224Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),a.createElement("polyline",{points:"152 32 152 88 208 88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),a.createElement("path",{d:"M192,224h8a8,8,0,0,0,8-8V88L152,32H56a8,8,0,0,0-8,8v96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ie.set("regular",function(e){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M152,224l-44.7-67a3.9,3.9,0,0,0-6.6,0L79.8,188.4a4,4,0,0,1-6.7-.1l-9.7-15.1a4.1,4.1,0,0,0-6.8,0L24,224Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a.createElement("polyline",{points:"152 32 152 88 208 88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a.createElement("path",{d:"M192,224h8a8,8,0,0,0,8-8V88L152,32H56a8,8,0,0,0-8,8v96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var ya=function(r,t){return tt(r,t,Ie)},sn=y.exports.forwardRef(function(e,r){return a.createElement(et,Object.assign({ref:r},e,{renderPath:ya}))});sn.displayName="FileImage";const Or=sn;var Ve=new Map;Ve.set("bold",function(e){return a.createElement(a.Fragment,null,a.createElement("line",{x1:"128",y1:"104",x2:"128",y2:"136",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),a.createElement("path",{d:"M114.2,40l-88,152A16,16,0,0,0,40,216H216a16,16,0,0,0,13.8-24l-88-152A15.9,15.9,0,0,0,114.2,40Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),a.createElement("circle",{cx:"128",cy:"176",r:"16"}))});Ve.set("duotone",function(e){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M114.2,40l-88,152A16,16,0,0,0,40,216H216a16,16,0,0,0,13.8-24l-88-152A15.9,15.9,0,0,0,114.2,40Z",opacity:"0.2"}),a.createElement("line",{x1:"128",y1:"112",x2:"128",y2:"144",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a.createElement("path",{d:"M114.2,40l-88,152A16,16,0,0,0,40,216H216a16,16,0,0,0,13.8-24l-88-152A15.9,15.9,0,0,0,114.2,40Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a.createElement("circle",{cx:"128",cy:"180",r:"12"}))});Ve.set("fill",function(){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M236.7,188,148.8,36a24,24,0,0,0-41.6,0h0L19.3,188A23.9,23.9,0,0,0,40,224H216a23.9,23.9,0,0,0,20.7-36ZM120,104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm8,88a12,12,0,1,1,12-12A12,12,0,0,1,128,192Z"}))});Ve.set("light",function(e){return a.createElement(a.Fragment,null,a.createElement("line",{x1:"128",y1:"104",x2:"128",y2:"144",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),a.createElement("path",{d:"M114.2,40l-88,152A16,16,0,0,0,40,216H216a16,16,0,0,0,13.8-24l-88-152A15.9,15.9,0,0,0,114.2,40Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),a.createElement("circle",{cx:"128",cy:"180",r:"10"}))});Ve.set("thin",function(e){return a.createElement(a.Fragment,null,a.createElement("line",{x1:"128",y1:"104",x2:"128",y2:"144",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),a.createElement("path",{d:"M114.2,40l-88,152A16,16,0,0,0,40,216H216a16,16,0,0,0,13.8-24l-88-152A15.9,15.9,0,0,0,114.2,40Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),a.createElement("circle",{cx:"128",cy:"180",r:"8"}))});Ve.set("regular",function(e){return a.createElement(a.Fragment,null,a.createElement("line",{x1:"128",y1:"104",x2:"128",y2:"144",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a.createElement("path",{d:"M114.2,40l-88,152A16,16,0,0,0,40,216H216a16,16,0,0,0,13.8-24l-88-152A15.9,15.9,0,0,0,114.2,40Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a.createElement("circle",{cx:"128",cy:"180",r:"12"}))});var va=function(r,t){return tt(r,t,Ve)},un=y.exports.forwardRef(function(e,r){return a.createElement(et,Object.assign({ref:r},e,{renderPath:va}))});un.displayName="Warning";const ha=un;var Ea=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ea||{}),ka=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(ka||{}),wa=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(wa||{}),Da=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.RegisterOption=3]="RegisterOption",e[e.UnregisterOption=4]="UnregisterOption",e))(Da||{});function $t(e,r=t=>t){let t=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,n=Gt(r(e.options.slice()),i=>i.dataRef.current.domRef.current),o=t?n.indexOf(t):null;return o===-1&&(o=null),{options:n,activeOptionIndex:o}}let Fa={[1](e){return e.dataRef.current.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1}},[0](e){if(e.dataRef.current.disabled||e.comboboxState===0)return e;let r=e.activeOptionIndex,{isSelected:t}=e.dataRef.current,n=e.options.findIndex(o=>t(o.dataRef.current.value));return n!==-1&&(r=n),{...e,comboboxState:0,activeOptionIndex:r}},[2](e,r){var t;if(e.dataRef.current.disabled||e.dataRef.current.optionsRef.current&&!e.dataRef.current.optionsPropsRef.current.static&&e.comboboxState===1)return e;let n=$t(e);if(n.activeOptionIndex===null){let i=n.options.findIndex(u=>!u.dataRef.current.disabled);i!==-1&&(n.activeOptionIndex=i)}let o=Hn(r,{resolveItems:()=>n.options,resolveActiveIndex:()=>n.activeOptionIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled});return{...e,...n,activeOptionIndex:o,activationTrigger:(t=r.trigger)!=null?t:1}},[3]:(e,r)=>{let t={id:r.id,dataRef:r.dataRef},n=$t(e,i=>[...i,t]);e.activeOptionIndex===null&&e.dataRef.current.isSelected(r.dataRef.current.value)&&(n.activeOptionIndex=n.options.indexOf(t));let o={...e,...n,activationTrigger:1};return e.dataRef.current.__demoMode&&e.dataRef.current.value===void 0&&(o.activeOptionIndex=0),o},[4]:(e,r)=>{let t=$t(e,n=>{let o=n.findIndex(i=>i.id===r.id);return o!==-1&&n.splice(o,1),n});return{...e,...t,activationTrigger:1}}},lr=y.exports.createContext(null);lr.displayName="ComboboxActionsContext";function Ft(e){let r=y.exports.useContext(lr);if(r===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Ft),t}return r}let sr=y.exports.createContext(null);sr.displayName="ComboboxDataContext";function qe(e){let r=y.exports.useContext(sr);if(r===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,qe),t}return r}function Aa(e,r){return Le(r.type,Fa,e,r)}let _a=y.exports.Fragment,La=pe(function(e,r){let{name:t,value:n,onChange:o,disabled:i=!1,__demoMode:u=!1,nullable:s=!1,multiple:p=!1,...c}=e,[g,b]=y.exports.useReducer(Aa,{dataRef:y.exports.createRef(),comboboxState:u?0:1,options:[],activeOptionIndex:null,activationTrigger:1}),m=y.exports.useRef(!1),v=y.exports.useRef({static:!1,hold:!1}),w=y.exports.useRef({displayValue:void 0}),L=y.exports.useRef(null),U=y.exports.useRef(null),T=y.exports.useRef(null),M=y.exports.useRef(null),N=Q((W,$)=>W===$),O=y.exports.useCallback(W=>Le(D.mode,{[1]:()=>n.some($=>N($,W)),[0]:()=>N(n,W)}),[n]),D=y.exports.useMemo(()=>({...g,optionsPropsRef:v,inputPropsRef:w,labelRef:L,inputRef:U,buttonRef:T,optionsRef:M,value:n,disabled:i,mode:p?1:0,get activeOptionIndex(){if(m.current&&g.activeOptionIndex===null&&g.options.length>0){let W=g.options.findIndex($=>!$.dataRef.current.disabled);if(W!==-1)return W}return g.activeOptionIndex},compare:N,isSelected:O,nullable:s,__demoMode:u}),[n,i,p,s,u,g]);fe(()=>{g.dataRef.current=D},[D]),Mn([D.buttonRef,D.inputRef,D.optionsRef],()=>b({type:1}),D.comboboxState===0);let Y=y.exports.useMemo(()=>({open:D.comboboxState===0,disabled:i,activeIndex:D.activeOptionIndex,activeOption:D.activeOptionIndex===null?null:D.options[D.activeOptionIndex].dataRef.current.value}),[D,i]),j=y.exports.useCallback(()=>{var W;if(!D.inputRef.current)return;let $=w.current.displayValue;typeof $=="function"?D.inputRef.current.value=(W=$(n))!=null?W:"":typeof n=="string"?D.inputRef.current.value=n:D.inputRef.current.value=""},[n,D.inputRef,w]),P=Q(W=>{let $=D.options.find(G=>G.id===W);!$||(V($.dataRef.current.value),j())}),R=Q(()=>{if(D.activeOptionIndex!==null){let{dataRef:W,id:$}=D.options[D.activeOptionIndex];V(W.current.value),j(),b({type:2,focus:ue.Specific,id:$})}}),K=Q(()=>{b({type:0}),m.current=!0}),_=Q(()=>{b({type:1}),m.current=!1}),S=Q((W,$,G)=>(m.current=!1,W===ue.Specific?b({type:2,focus:ue.Specific,id:$,trigger:G}):b({type:2,focus:W,trigger:G}))),B=Q((W,$)=>(b({type:3,id:W,dataRef:$}),()=>b({type:4,id:W}))),V=Q(W=>Le(D.mode,{[0](){return o(W)},[1](){let $=D.value.slice(),G=$.indexOf(W);return G===-1?$.push(W):$.splice(G,1),o($)}})),z=y.exports.useMemo(()=>({onChange:V,registerOption:B,goToOption:S,closeCombobox:_,openCombobox:K,selectActiveOption:R,selectOption:P}),[]);fe(()=>{D.comboboxState===1&&j()},[j,D.comboboxState]),fe(j,[j]);let se=r===null?{}:{ref:r};return a.createElement(lr.Provider,{value:z},a.createElement(sr.Provider,{value:D},a.createElement(Wn,{value:Le(D.comboboxState,{[0]:Yt.Open,[1]:Yt.Closed})},t!=null&&n!=null&&Jn({[t]:n}).map(([W,$])=>a.createElement(rn,{features:nn.Hidden,...$n({key:W,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:W,value:$})})),ge({ourProps:se,theirProps:c,slot:Y,defaultTag:_a,name:"Combobox"}))))}),Oa="input",Ca=pe(function(e,r){var t,n;let{value:o,onChange:i,displayValue:u,type:s="text",...p}=e,c=qe("Combobox.Input"),g=Ft("Combobox.Input"),b=Ee(c.inputRef,r),m=c.inputPropsRef,v=`headlessui-combobox-input-${Re()}`,w=Qr();fe(()=>{m.current.displayValue=u},[u,m]);let L=Q(O=>{switch(O.key){case X.Backspace:case X.Delete:if(c.mode!==0||!c.nullable)return;let D=O.currentTarget;w.requestAnimationFrame(()=>{D.value===""&&(g.onChange(null),c.optionsRef.current&&(c.optionsRef.current.scrollTop=0),g.goToOption(ue.Nothing))});break;case X.Enter:if(c.comboboxState!==0)return;if(O.preventDefault(),O.stopPropagation(),c.activeOptionIndex===null){g.closeCombobox();return}g.selectActiveOption(),c.mode===0&&g.closeCombobox();break;case X.ArrowDown:return O.preventDefault(),O.stopPropagation(),Le(c.comboboxState,{[0]:()=>{g.goToOption(ue.Next)},[1]:()=>{g.openCombobox()}});case X.ArrowUp:return O.preventDefault(),O.stopPropagation(),Le(c.comboboxState,{[0]:()=>{g.goToOption(ue.Previous)},[1]:()=>{g.openCombobox(),w.nextFrame(()=>{c.value||g.goToOption(ue.Last)})}});case X.Home:case X.PageUp:return O.preventDefault(),O.stopPropagation(),g.goToOption(ue.First);case X.End:case X.PageDown:return O.preventDefault(),O.stopPropagation(),g.goToOption(ue.Last);case X.Escape:return c.comboboxState!==0?void 0:(O.preventDefault(),c.optionsRef.current&&!c.optionsPropsRef.current.static&&O.stopPropagation(),g.closeCombobox());case X.Tab:if(c.comboboxState!==0)return;g.selectActiveOption(),g.closeCombobox();break}}),U=Q(O=>{g.openCombobox(),i==null||i(O)}),T=ir(()=>{if(c.labelRef.current)return[c.labelRef.current.id].join(" ")},[c.labelRef.current]),M=y.exports.useMemo(()=>({open:c.comboboxState===0,disabled:c.disabled}),[c]),N={ref:b,id:v,role:"combobox",type:s,"aria-controls":(t=c.optionsRef.current)==null?void 0:t.id,"aria-expanded":c.disabled?void 0:c.comboboxState===0,"aria-activedescendant":c.activeOptionIndex===null||(n=c.options[c.activeOptionIndex])==null?void 0:n.id,"aria-multiselectable":c.mode===1?!0:void 0,"aria-labelledby":T,disabled:c.disabled,onKeyDown:L,onChange:U};return ge({ourProps:N,theirProps:p,slot:M,defaultTag:Oa,name:"Combobox.Input"})}),Sa="button",Ra=pe(function(e,r){var t;let n=qe("Combobox.Button"),o=Ft("Combobox.Button"),i=Ee(n.buttonRef,r),u=`headlessui-combobox-button-${Re()}`,s=Qr(),p=Q(w=>{switch(w.key){case X.ArrowDown:return w.preventDefault(),w.stopPropagation(),n.comboboxState===1&&o.openCombobox(),s.nextFrame(()=>{var L;return(L=n.inputRef.current)==null?void 0:L.focus({preventScroll:!0})});case X.ArrowUp:return w.preventDefault(),w.stopPropagation(),n.comboboxState===1&&(o.openCombobox(),s.nextFrame(()=>{n.value||o.goToOption(ue.Last)})),s.nextFrame(()=>{var L;return(L=n.inputRef.current)==null?void 0:L.focus({preventScroll:!0})});case X.Escape:return n.comboboxState!==0?void 0:(w.preventDefault(),n.optionsRef.current&&!n.optionsPropsRef.current.static&&w.stopPropagation(),o.closeCombobox(),s.nextFrame(()=>{var L;return(L=n.inputRef.current)==null?void 0:L.focus({preventScroll:!0})}));default:return}}),c=Q(w=>{if(zn(w.currentTarget))return w.preventDefault();n.comboboxState===0?o.closeCombobox():(w.preventDefault(),o.openCombobox()),s.nextFrame(()=>{var L;return(L=n.inputRef.current)==null?void 0:L.focus({preventScroll:!0})})}),g=ir(()=>{if(n.labelRef.current)return[n.labelRef.current.id,u].join(" ")},[n.labelRef.current,u]),b=y.exports.useMemo(()=>({open:n.comboboxState===0,disabled:n.disabled}),[n]),m=e,v={ref:i,id:u,type:en(e,n.buttonRef),tabIndex:-1,"aria-haspopup":!0,"aria-controls":(t=n.optionsRef.current)==null?void 0:t.id,"aria-expanded":n.disabled?void 0:n.comboboxState===0,"aria-labelledby":g,disabled:n.disabled,onClick:c,onKeyDown:p};return ge({ourProps:v,theirProps:m,slot:b,defaultTag:Sa,name:"Combobox.Button"})}),Pa="label",Ta=pe(function(e,r){let t=qe("Combobox.Label"),n=`headlessui-combobox-label-${Re()}`,o=Ee(t.labelRef,r),i=Q(()=>{var s;return(s=t.inputRef.current)==null?void 0:s.focus({preventScroll:!0})}),u=y.exports.useMemo(()=>({open:t.comboboxState===0,disabled:t.disabled}),[t]);return ge({ourProps:{ref:o,id:n,onClick:i},theirProps:e,slot:u,defaultTag:Pa,name:"Combobox.Label"})}),ja="ul",Ia=bt.RenderStrategy|bt.Static,Va=pe(function(e,r){var t;let{hold:n=!1,...o}=e,i=qe("Combobox.Options"),u=Ee(i.optionsRef,r),s=`headlessui-combobox-options-${Re()}`,p=Un(),c=(()=>p!==null?p===Yt.Open:i.comboboxState===0)();fe(()=>{var v;i.optionsPropsRef.current.static=(v=e.static)!=null?v:!1},[i.optionsPropsRef,e.static]),fe(()=>{i.optionsPropsRef.current.hold=n},[i.optionsPropsRef,n]),Bn({container:i.optionsRef.current,enabled:i.comboboxState===0,accept(v){return v.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:v.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(v){v.setAttribute("role","none")}});let g=ir(()=>{var v,w,L;return(L=(v=i.labelRef.current)==null?void 0:v.id)!=null?L:(w=i.buttonRef.current)==null?void 0:w.id},[i.labelRef.current,i.buttonRef.current]),b=y.exports.useMemo(()=>({open:i.comboboxState===0}),[i]),m={"aria-activedescendant":i.activeOptionIndex===null||(t=i.options[i.activeOptionIndex])==null?void 0:t.id,"aria-labelledby":g,role:"listbox",id:s,ref:u};return ge({ourProps:m,theirProps:o,slot:b,defaultTag:ja,features:Ia,visible:c,name:"Combobox.Options"})}),Na="li",Ma=pe(function(e,r){var t,n;let{disabled:o=!1,value:i,...u}=e,s=qe("Combobox.Option"),p=Ft("Combobox.Option"),c=`headlessui-combobox-option-${Re()}`,g=s.activeOptionIndex!==null?s.options[s.activeOptionIndex].id===c:!1,b=s.isSelected(i),m=y.exports.useRef(null),v=mt({disabled:o,value:i,domRef:m,textValue:(n=(t=m.current)==null?void 0:t.textContent)==null?void 0:n.toLowerCase()}),w=Ee(r,m),L=Q(()=>p.selectOption(c));fe(()=>p.registerOption(c,v),[v,c]);let U=y.exports.useRef(!s.__demoMode);fe(()=>{if(!s.__demoMode)return;let Y=Er();return Y.requestAnimationFrame(()=>{U.current=!0}),Y.dispose},[]),fe(()=>{if(s.comboboxState!==0||!g||!U.current||s.activationTrigger===0)return;let Y=Er();return Y.requestAnimationFrame(()=>{var j,P;(P=(j=m.current)==null?void 0:j.scrollIntoView)==null||P.call(j,{block:"nearest"})}),Y.dispose},[m,g,s.comboboxState,s.activationTrigger,s.activeOptionIndex]);let T=Q(Y=>{var j;if(o)return Y.preventDefault();L(),s.mode===0&&(p.closeCombobox(),(j=s.inputRef.current)==null||j.focus({preventScroll:!0}))}),M=Q(()=>{if(o)return p.goToOption(ue.Nothing);p.goToOption(ue.Specific,c)}),N=Q(()=>{o||g||p.goToOption(ue.Specific,c,0)}),O=Q(()=>{o||!g||s.optionsPropsRef.current.hold||p.goToOption(ue.Nothing)}),D=y.exports.useMemo(()=>({active:g,selected:b,disabled:o}),[g,b,o]);return ge({ourProps:{id:c,ref:w,role:"option",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,"aria-selected":b===!0?!0:void 0,disabled:void 0,onClick:T,onFocus:M,onPointerMove:N,onMouseMove:N,onPointerLeave:O,onMouseLeave:O},theirProps:u,slot:D,defaultTag:Na,name:"Combobox.Option"})}),Ge=Object.assign(La,{Input:Ca,Button:Ra,Label:Ta,Options:Va,Option:Ma});function Wa({onFocus:e}){let[r,t]=y.exports.useState(!0);return r?a.createElement(rn,{as:"button",type:"button",features:nn.Focusable,onFocus:n=>{n.preventDefault();let o,i=50;function u(){if(i--<=0){o&&cancelAnimationFrame(o);return}if(e()){t(!1),cancelAnimationFrame(o);return}o=requestAnimationFrame(u)}o=requestAnimationFrame(u)}}):null}var $a=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e[e.ForceRerender=5]="ForceRerender",e))($a||{});let Ua={[0](e,r){let t=e.tabs.filter(i=>{var u;return!((u=i.current)!=null&&u.hasAttribute("disabled"))});if(r.index<0)return{...e,selectedIndex:e.tabs.indexOf(t[0])};if(r.index>e.tabs.length)return{...e,selectedIndex:e.tabs.indexOf(t[t.length-1])};let n=e.tabs.slice(0,r.index),o=[...e.tabs.slice(r.index),...n].find(i=>t.includes(i));return o?{...e,selectedIndex:e.tabs.indexOf(o)}:e},[1](e,r){return e.tabs.includes(r.tab)?e:{...e,tabs:Gt([...e.tabs,r.tab],t=>t.current)}},[2](e,r){return{...e,tabs:Gt(e.tabs.filter(t=>t!==r.tab),t=>t.current)}},[3](e,r){return e.panels.includes(r.panel)?e:{...e,panels:[...e.panels,r.panel]}},[4](e,r){return{...e,panels:e.panels.filter(t=>t!==r.panel)}},[5](e){return{...e}}},ur=y.exports.createContext(null);ur.displayName="TabsSSRContext";function cr(e){let r=y.exports.useContext(ur);if(r===null){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,cr),t}return r}let dr=y.exports.createContext(null);dr.displayName="TabsDataContext";function rt(e){let r=y.exports.useContext(dr);if(r===null){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,rt),t}return r}let fr=y.exports.createContext(null);fr.displayName="TabsActionsContext";function mr(e){let r=y.exports.useContext(fr);if(r===null){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,mr),t}return r}function Ba(e,r){return Le(r.type,Ua,e,r)}let za=y.exports.Fragment,Ha=pe(function(e,r){let{defaultIndex:t=0,vertical:n=!1,manual:o=!1,onChange:i,selectedIndex:u=null,...s}=e;const p=n?"vertical":"horizontal",c=o?"manual":"auto";let g=Ee(r),[b,m]=y.exports.useReducer(Ba,{selectedIndex:u!=null?u:t,tabs:[],panels:[]}),v=y.exports.useMemo(()=>({selectedIndex:b.selectedIndex}),[b.selectedIndex]),w=mt(i||(()=>{})),L=mt(b.tabs),U=y.exports.useMemo(()=>({orientation:p,activation:c,...b}),[p,c,b]),T=mt(b.selectedIndex),M=y.exports.useMemo(()=>({registerTab(D){return m({type:1,tab:D}),()=>m({type:2,tab:D})},registerPanel(D){return m({type:3,panel:D}),()=>m({type:4,panel:D})},forceRerender(){m({type:5})},change(D){T.current!==D&&w.current(D),T.current=D,m({type:0,index:D})}}),[m]);fe(()=>{m({type:0,index:u!=null?u:t})},[u]);let N=y.exports.useRef({tabs:[],panels:[]}),O={ref:g};return a.createElement(ur.Provider,{value:N},a.createElement(fr.Provider,{value:M},a.createElement(dr.Provider,{value:U},U.tabs.length<=0&&a.createElement(Wa,{onFocus:()=>{var D,Y;for(let j of L.current)if(((D=j.current)==null?void 0:D.tabIndex)===0)return(Y=j.current)==null||Y.focus(),!0;return!1}}),ge({ourProps:O,theirProps:s,slot:v,defaultTag:za,name:"Tabs"}))))}),Ka="div",qa=pe(function(e,r){let{orientation:t,selectedIndex:n}=rt("Tab.List"),o=Ee(r);return ge({ourProps:{ref:o,role:"tablist","aria-orientation":t},theirProps:e,slot:{selectedIndex:n},defaultTag:Ka,name:"Tabs.List"})}),Za="button",Ya=pe(function(e,r){var t,n;let o=`headlessui-tabs-tab-${Re()}`,{orientation:i,activation:u,selectedIndex:s,tabs:p,panels:c}=rt("Tab"),g=mr("Tab"),b=cr("Tab"),m=y.exports.useRef(null),v=Ee(m,r,P=>{!P||g.forceRerender()});fe(()=>g.registerTab(m),[g,m]);let w=b.current.tabs.indexOf(o);w===-1&&(w=b.current.tabs.push(o)-1);let L=p.indexOf(m);L===-1&&(L=w);let U=L===s,T=Q(P=>{let R=p.map(K=>K.current).filter(Boolean);if(P.key===X.Space||P.key===X.Enter){P.preventDefault(),P.stopPropagation(),g.change(L);return}switch(P.key){case X.Home:case X.PageUp:return P.preventDefault(),P.stopPropagation(),$e(R,ye.First);case X.End:case X.PageDown:return P.preventDefault(),P.stopPropagation(),$e(R,ye.Last)}if(Le(i,{vertical(){if(P.key===X.ArrowUp)return $e(R,ye.Previous|ye.WrapAround);if(P.key===X.ArrowDown)return $e(R,ye.Next|ye.WrapAround)},horizontal(){if(P.key===X.ArrowLeft)return $e(R,ye.Previous|ye.WrapAround);if(P.key===X.ArrowRight)return $e(R,ye.Next|ye.WrapAround)}}))return P.preventDefault()}),M=Q(()=>{var P;(P=m.current)==null||P.focus()}),N=Q(()=>{var P;(P=m.current)==null||P.focus(),g.change(L)}),O=Q(P=>{P.preventDefault()}),D=y.exports.useMemo(()=>({selected:U}),[U]),Y=e,j={ref:v,onKeyDown:T,onFocus:u==="manual"?M:N,onMouseDown:O,onClick:N,id:o,role:"tab",type:en(e,m),"aria-controls":(n=(t=c[L])==null?void 0:t.current)==null?void 0:n.id,"aria-selected":U,tabIndex:U?0:-1};return ge({ourProps:j,theirProps:Y,slot:D,defaultTag:Za,name:"Tabs.Tab"})}),Ga="div",Xa=pe(function(e,r){let{selectedIndex:t}=rt("Tab.Panels"),n=Ee(r),o=y.exports.useMemo(()=>({selectedIndex:t}),[t]);return ge({ourProps:{ref:n},theirProps:e,slot:o,defaultTag:Ga,name:"Tabs.Panels"})}),Ja="div",Qa=bt.RenderStrategy|bt.Static,eo=pe(function(e,r){var t,n;let{selectedIndex:o,tabs:i,panels:u}=rt("Tab.Panel"),s=mr("Tab.Panel"),p=cr("Tab.Panel"),c=`headlessui-tabs-panel-${Re()}`,g=y.exports.useRef(null),b=Ee(g,r,M=>{!M||s.forceRerender()});fe(()=>s.registerPanel(g),[s,g]);let m=p.current.panels.indexOf(c);m===-1&&(m=p.current.panels.push(c)-1);let v=u.indexOf(g);v===-1&&(v=m);let w=v===o,L=y.exports.useMemo(()=>({selected:w}),[w]),U=e,T={ref:b,id:c,role:"tabpanel","aria-labelledby":(n=(t=i[v])==null?void 0:t.current)==null?void 0:n.id,tabIndex:w?0:-1};return ge({ourProps:T,theirProps:U,slot:L,defaultTag:Ja,features:Qa,visible:w,name:"Tabs.Panel"})}),Oe=Object.assign(Ya,{Group:Ha,List:qa,Panels:Xa,Panel:eo});var nt=e=>e.type==="checkbox",Be=e=>e instanceof Date,ie=e=>e==null;const cn=e=>typeof e=="object";var oe=e=>!ie(e)&&!Array.isArray(e)&&cn(e)&&!Be(e),dn=e=>oe(e)&&e.target?nt(e.target)?e.target.checked:e.target.value:e,to=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,fn=(e,r)=>e.has(to(r)),at=e=>Array.isArray(e)?e.filter(Boolean):[],ee=e=>e===void 0,E=(e,r,t)=>{if(!r||!oe(e))return t;const n=at(r.split(/[,[\].]+?/)).reduce((o,i)=>ie(o)?o:o[i],e);return ee(n)||n===e?ee(e[r])?t:e[r]:n};const xt={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},me={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},De={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ro=a.createContext(null),pr=()=>a.useContext(ro);var mn=(e,r,t,n=!0)=>{const o={};for(const i in e)Object.defineProperty(o,i,{get:()=>{const u=i;return r[u]!==me.all&&(r[u]=!n||me.all),t&&(t[u]=!0),e[u]}});return o},de=e=>oe(e)&&!Object.keys(e).length,pn=(e,r,t)=>{const{name:n,...o}=e;return de(o)||Object.keys(o).length>=Object.keys(r).length||Object.keys(o).find(i=>r[i]===(!t||me.all))},pt=e=>Array.isArray(e)?e:[e],gn=(e,r,t)=>t&&r?e===r:!e||!r||e===r||pt(e).some(n=>n&&(n.startsWith(r)||r.startsWith(n)));function gr(e){const r=a.useRef(e);r.current=e,a.useEffect(()=>{const t=o=>{o&&o.unsubscribe()},n=!e.disabled&&r.current.subject.subscribe({next:r.current.callback});return()=>t(n)},[e.disabled])}function no(e){const r=pr(),{control:t=r.control,disabled:n,name:o,exact:i}=e||{},[u,s]=a.useState(t._formState),p=a.useRef({isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),c=a.useRef(o),g=a.useRef(!0);c.current=o;const b=a.useCallback(m=>g.current&&gn(c.current,m.name,i)&&pn(m,p.current)&&s({...t._formState,...m}),[t,i]);return gr({disabled:n,callback:b,subject:t._subjects.state}),a.useEffect(()=>(g.current=!0,()=>{g.current=!1}),[]),mn(u,t._proxyFormState,p.current,!1)}var he=e=>typeof e=="string",bn=(e,r,t,n)=>{const o=Array.isArray(e);return he(e)?(n&&r.watch.add(e),E(t,e)):o?e.map(i=>(n&&r.watch.add(i),E(t,i))):(n&&(r.watchAll=!0),t)},At=e=>typeof e=="function",br=e=>{for(const r in e)if(At(e[r]))return!0;return!1};function ao(e){const r=pr(),{control:t=r.control,name:n,defaultValue:o,disabled:i,exact:u}=e||{},s=a.useRef(n);s.current=n;const p=a.useCallback(b=>{if(gn(s.current,b.name,u)){const m=bn(s.current,t._names,b.values||t._formValues);g(ee(s.current)||oe(m)&&!br(m)?{...m}:Array.isArray(m)?[...m]:ee(m)?o:m)}},[t,u,o]);gr({disabled:i,subject:t._subjects.watch,callback:p});const[c,g]=a.useState(ee(o)?t._getWatch(n):o);return a.useEffect(()=>{t._removeUnmounted()}),c}function be(e){const r=pr(),{name:t,control:n=r.control,shouldUnregister:o}=e,i=fn(n._names.array,t),u=ao({control:n,name:t,defaultValue:E(n._formValues,t,E(n._defaultValues,t,e.defaultValue)),exact:!0}),s=no({control:n,name:t}),p=a.useRef(n.register(t,{...e.rules,value:u}));return a.useEffect(()=>{const c=(g,b)=>{const m=E(n._fields,g);m&&(m._f.mount=b)};return c(t,!0),()=>{const g=n._options.shouldUnregister||o;(i?g&&!n._stateFlags.action:g)?n.unregister(t):c(t,!1)}},[t,n,i,o]),{field:{name:t,value:u,onChange:a.useCallback(c=>{p.current.onChange({target:{value:dn(c),name:t},type:xt.CHANGE})},[t]),onBlur:a.useCallback(()=>{p.current.onBlur({target:{value:E(n._formValues,t),name:t},type:xt.BLUR})},[t,n]),ref:a.useCallback(c=>{const g=E(n._fields,t);c&&g&&c.focus&&(g._f.ref={focus:()=>c.focus(),select:()=>c.select(),setCustomValidity:b=>c.setCustomValidity(b),reportValidity:()=>c.reportValidity()})},[t,n._fields])},formState:s,fieldState:Object.defineProperties({},{invalid:{get:()=>!!E(s.errors,t)},isDirty:{get:()=>!!E(s.dirtyFields,t)},isTouched:{get:()=>!!E(s.touchedFields,t)},error:{get:()=>E(s.errors,t)}})}}const ke=e=>e.render(be(e));var xn=(e,r,t,n,o)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[n]:o||!0}}:{},xr=e=>/^\w*$/.test(e),yn=e=>at(e.replace(/["|']|\]/g,"").split(/\.|\[/));function Z(e,r,t){let n=-1;const o=xr(r)?[r]:yn(r),i=o.length,u=i-1;for(;++n<i;){const s=o[n];let p=t;if(n!==u){const c=e[s];p=oe(c)||Array.isArray(c)?c:isNaN(+o[n+1])?{}:[]}e[s]=p,e=e[s]}return e}const Xt=(e,r,t)=>{for(const n of t||Object.keys(e)){const o=E(e,n);if(o){const{_f:i,...u}=o;if(i&&r(i.name)){if(i.ref.focus&&ee(i.ref.focus()))break;if(i.refs){i.refs[0].focus();break}}else oe(u)&&Xt(u,r)}}};var Cr=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length)))),oo=(e,r,t)=>{const n=at(E(e,t));return Z(n,"root",r[t]),Z(e,t,n),e},yt=e=>typeof e=="boolean",yr=e=>e.type==="file",gt=e=>he(e)||a.isValidElement(e),vr=e=>e.type==="radio",vt=e=>e instanceof RegExp;const Sr={value:!1,isValid:!1},Rr={value:!0,isValid:!0};var vn=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ee(e[0].attributes.value)?ee(e[0].value)||e[0].value===""?Rr:{value:e[0].value,isValid:!0}:Rr:Sr}return Sr};const Pr={isValid:!1,value:null};var hn=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,Pr):Pr;function Tr(e,r,t="validate"){if(gt(e)||Array.isArray(e)&&e.every(gt)||yt(e)&&!e)return{type:t,message:gt(e)?e:"",ref:r}}var Ue=e=>oe(e)&&!vt(e)?e:{value:e,message:""},jr=async(e,r,t,n,o)=>{const{ref:i,refs:u,required:s,maxLength:p,minLength:c,min:g,max:b,pattern:m,validate:v,name:w,valueAsNumber:L,mount:U,disabled:T}=e._f;if(!U||T)return{};const M=u?u[0]:i,N=_=>{n&&M.reportValidity&&(M.setCustomValidity(yt(_)?"":_||" "),M.reportValidity())},O={},D=vr(i),Y=nt(i),j=D||Y,P=(L||yr(i))&&!i.value||r===""||Array.isArray(r)&&!r.length,R=xn.bind(null,w,t,O),K=(_,S,B,V=De.maxLength,z=De.minLength)=>{const se=_?S:B;O[w]={type:_?V:z,message:se,ref:i,...R(_?V:z,se)}};if(o?!Array.isArray(r)||!r.length:s&&(!j&&(P||ie(r))||yt(r)&&!r||Y&&!vn(u).isValid||D&&!hn(u).isValid)){const{value:_,message:S}=gt(s)?{value:!!s,message:s}:Ue(s);if(_&&(O[w]={type:De.required,message:S,ref:M,...R(De.required,S)},!t))return N(S),O}if(!P&&(!ie(g)||!ie(b))){let _,S;const B=Ue(b),V=Ue(g);if(!ie(r)&&!isNaN(r)){const z=i.valueAsNumber||+r;ie(B.value)||(_=z>B.value),ie(V.value)||(S=z<V.value)}else{const z=i.valueAsDate||new Date(r);he(B.value)&&(_=z>new Date(B.value)),he(V.value)&&(S=z<new Date(V.value))}if((_||S)&&(K(!!_,B.message,V.message,De.max,De.min),!t))return N(O[w].message),O}if((p||c)&&!P&&(he(r)||o&&Array.isArray(r))){const _=Ue(p),S=Ue(c),B=!ie(_.value)&&r.length>_.value,V=!ie(S.value)&&r.length<S.value;if((B||V)&&(K(B,_.message,S.message),!t))return N(O[w].message),O}if(m&&!P&&he(r)){const{value:_,message:S}=Ue(m);if(vt(_)&&!r.match(_)&&(O[w]={type:De.pattern,message:S,ref:i,...R(De.pattern,S)},!t))return N(S),O}if(v){if(At(v)){const _=await v(r),S=Tr(_,M);if(S&&(O[w]={...S,...R(De.validate,S.message)},!t))return N(S.message),O}else if(oe(v)){let _={};for(const S in v){if(!de(_)&&!t)break;const B=Tr(await v[S](r),M,S);B&&(_={...B,...R(S,B.message)},N(B.message),t&&(O[w]=_))}if(!de(_)&&(O[w]={ref:M,..._},!t))return O}}return N(!0),O},Jt=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ce(e){let r;const t=Array.isArray(e);if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(Jt&&(e instanceof Blob||e instanceof FileList))&&(t||oe(e))){r=t?[]:{};for(const n in e){if(At(e[n])){r=e;break}r[n]=Ce(e[n])}}else return e;return r}var Ir=e=>({isOnSubmit:!e||e===me.onSubmit,isOnBlur:e===me.onBlur,isOnChange:e===me.onChange,isOnAll:e===me.all,isOnTouch:e===me.onTouched});function io(e,r){const t=r.slice(0,-1).length;let n=0;for(;n<t;)e=ee(e)?n++:e[r[n++]];return e}function lo(e){for(const r in e)if(!ee(e[r]))return!1;return!0}function le(e,r){const t=xr(r)?[r]:yn(r),n=t.length==1?e:io(e,t),o=t[t.length-1];let i;n&&delete n[o];for(let u=0;u<t.slice(0,-1).length;u++){let s=-1,p;const c=t.slice(0,-(u+1)),g=c.length-1;for(u>0&&(i=e);++s<c.length;){const b=c[s];p=p?p[b]:e[b],g===s&&(oe(p)&&de(p)||Array.isArray(p)&&lo(p))&&(i?delete i[b]:delete e[b]),i=p}}return e}function Ut(){let e=[];return{get observers(){return e},next:o=>{for(const i of e)i.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(i=>i!==o)}}),unsubscribe:()=>{e=[]}}}var ht=e=>ie(e)||!cn(e);function ze(e,r){if(ht(e)||ht(r))return e===r;if(Be(e)&&Be(r))return e.getTime()===r.getTime();const t=Object.keys(e),n=Object.keys(r);if(t.length!==n.length)return!1;for(const o of t){const i=e[o];if(!n.includes(o))return!1;if(o!=="ref"){const u=r[o];if(Be(i)&&Be(u)||oe(i)&&oe(u)||Array.isArray(i)&&Array.isArray(u)?!ze(i,u):i!==u)return!1}}return!0}var Qt=e=>{const r=e?e.ownerDocument:0,t=r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement;return e instanceof t},En=e=>e.type==="select-multiple",so=e=>vr(e)||nt(e),Bt=e=>Qt(e)&&e.isConnected;function Et(e,r={}){const t=Array.isArray(e);if(oe(e)||t)for(const n in e)Array.isArray(e[n])||oe(e[n])&&!br(e[n])?(r[n]=Array.isArray(e[n])?[]:{},Et(e[n],r[n])):ie(e[n])||(r[n]=!0);return r}function kn(e,r,t){const n=Array.isArray(e);if(oe(e)||n)for(const o in e)Array.isArray(e[o])||oe(e[o])&&!br(e[o])?ee(r)||ht(t[o])?t[o]=Array.isArray(e[o])?Et(e[o],[]):{...Et(e[o])}:kn(e[o],ie(r)?{}:r[o],t[o]):t[o]=!ze(e[o],r[o]);return t}var zt=(e,r)=>kn(e,r,Et(r)),wn=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:n})=>ee(e)?e:r?e===""||ie(e)?NaN:+e:t&&he(e)?new Date(e):n?n(e):e;function Ht(e){const r=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):r.disabled))return yr(r)?r.files:vr(r)?hn(e.refs).value:En(r)?[...r.selectedOptions].map(({value:t})=>t):nt(r)?vn(e.refs).value:wn(ee(r.value)?e.ref.value:r.value,e)}var uo=(e,r,t,n)=>{const o={};for(const i of e){const u=E(r,i);u&&Z(o,i,u._f)}return{criteriaMode:t,names:[...e],fields:o,shouldUseNativeValidation:n}},Xe=e=>ee(e)?void 0:vt(e)?e.source:oe(e)?vt(e.value)?e.value.source:e.value:e,co=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Vr(e,r,t){const n=E(e,t);if(n||xr(t))return{error:n,name:t};const o=t.split(".");for(;o.length;){const i=o.join("."),u=E(r,i),s=E(e,i);if(u&&!Array.isArray(u)&&t!==i)return{name:t};if(s&&s.type)return{name:i,error:s};o.pop()}return{name:t}}var fo=(e,r,t,n,o)=>o.isOnAll?!1:!t&&o.isOnTouch?!(r||e):(t?n.isOnBlur:o.isOnBlur)?!e:(t?n.isOnChange:o.isOnChange)?e:!0,mo=(e,r)=>!at(E(e,r)).length&&le(e,r);const po={mode:me.onSubmit,reValidateMode:me.onChange,shouldFocusError:!0};function go(e={}){let r={...po,...e},t={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},n={},o=Ce(r.defaultValues)||{},i=r.shouldUnregister?{}:Ce(o),u={action:!1,mount:!1,watch:!1},s={mount:new Set,unMount:new Set,array:new Set,watch:new Set},p,c=0,g={};const b={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={watch:Ut(),array:Ut(),state:Ut()},v=Ir(r.mode),w=Ir(r.reValidateMode),L=r.criteriaMode===me.all,U=l=>d=>{clearTimeout(c),c=window.setTimeout(l,d)},T=async l=>{let d=!1;return b.isValid&&(d=r.resolver?de((await j()).errors):await R(n,!0),!l&&d!==t.isValid&&(t.isValid=d,m.state.next({isValid:d}))),d},M=(l,d=[],f,k,F=!0,x=!0)=>{if(k&&f){if(u.action=!0,x&&Array.isArray(E(n,l))){const A=f(E(n,l),k.argA,k.argB);F&&Z(n,l,A)}if(b.errors&&x&&Array.isArray(E(t.errors,l))){const A=f(E(t.errors,l),k.argA,k.argB);F&&Z(t.errors,l,A),mo(t.errors,l)}if(b.touchedFields&&x&&Array.isArray(E(t.touchedFields,l))){const A=f(E(t.touchedFields,l),k.argA,k.argB);F&&Z(t.touchedFields,l,A)}b.dirtyFields&&(t.dirtyFields=zt(o,i)),m.state.next({isDirty:_(l,d),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else Z(i,l,d)},N=(l,d)=>{Z(t.errors,l,d),m.state.next({errors:t.errors})},O=(l,d,f,k)=>{const F=E(n,l);if(F){const x=E(i,l,ee(f)?E(o,l):f);ee(x)||k&&k.defaultChecked||d?Z(i,l,d?x:Ht(F._f)):V(l,x),u.mount&&T()}},D=(l,d,f,k,F)=>{let x=!1;const A={name:l},q=E(t.touchedFields,l);if(b.isDirty){const re=t.isDirty;t.isDirty=A.isDirty=_(),x=re!==A.isDirty}if(b.dirtyFields&&(!f||k)){const re=E(t.dirtyFields,l);ze(E(o,l),d)?le(t.dirtyFields,l):Z(t.dirtyFields,l,!0),A.dirtyFields=t.dirtyFields,x=x||re!==E(t.dirtyFields,l)}return f&&!q&&(Z(t.touchedFields,l,f),A.touchedFields=t.touchedFields,x=x||b.touchedFields&&q!==f),x&&F&&m.state.next(A),x?A:{}},Y=async(l,d,f,k)=>{const F=E(t.errors,l),x=b.isValid&&t.isValid!==d;if(e.delayError&&f?(p=U(()=>N(l,f)),p(e.delayError)):(clearTimeout(c),p=null,f?Z(t.errors,l,f):le(t.errors,l)),(f?!ze(F,f):F)||!de(k)||x){const A={...k,...x?{isValid:d}:{},errors:t.errors,name:l};t={...t,...A},m.state.next(A)}g[l]--,b.isValidating&&!Object.values(g).some(A=>A)&&(m.state.next({isValidating:!1}),g={})},j=async l=>r.resolver?await r.resolver({...i},r.context,uo(l||s.mount,n,r.criteriaMode,r.shouldUseNativeValidation)):{},P=async l=>{const{errors:d}=await j();if(l)for(const f of l){const k=E(d,f);k?Z(t.errors,f,k):le(t.errors,f)}else t.errors=d;return d},R=async(l,d,f={valid:!0})=>{for(const k in l){const F=l[k];if(F){const{_f:x,...A}=F;if(x){const q=s.array.has(x.name),re=await jr(F,E(i,x.name),L,r.shouldUseNativeValidation,q);if(re[x.name]&&(f.valid=!1,d))break;!d&&(E(re,x.name)?q?oo(t.errors,re,x.name):Z(t.errors,x.name,re[x.name]):le(t.errors,x.name))}A&&await R(A,d,f)}}return f.valid},K=()=>{for(const l of s.unMount){const d=E(n,l);d&&(d._f.refs?d._f.refs.every(f=>!Bt(f)):!Bt(d._f.ref))&&xe(l)}s.unMount=new Set},_=(l,d)=>(l&&d&&Z(i,l,d),!ze(G(),o)),S=(l,d,f)=>{const k={...u.mount?i:ee(d)?o:he(l)?{[l]:d}:d};return bn(l,s,k,f)},B=l=>at(E(u.mount?i:o,l,e.shouldUnregister?E(o,l,[]):[])),V=(l,d,f={})=>{const k=E(n,l);let F=d;if(k){const x=k._f;x&&(!x.disabled&&Z(i,l,wn(d,x)),F=Jt&&Qt(x.ref)&&ie(d)?"":d,En(x.ref)?[...x.ref.options].forEach(A=>A.selected=F.includes(A.value)):x.refs?nt(x.ref)?x.refs.length>1?x.refs.forEach(A=>!A.disabled&&(A.checked=Array.isArray(F)?!!F.find(q=>q===A.value):F===A.value)):x.refs[0]&&(x.refs[0].checked=!!F):x.refs.forEach(A=>A.checked=A.value===F):yr(x.ref)?x.ref.value="":(x.ref.value=F,x.ref.type||m.watch.next({name:l})))}(f.shouldDirty||f.shouldTouch)&&D(l,F,f.shouldTouch,f.shouldDirty,!0),f.shouldValidate&&$(l)},z=(l,d,f)=>{for(const k in d){const F=d[k],x=`${l}.${k}`,A=E(n,x);(s.array.has(l)||!ht(F)||A&&!A._f)&&!Be(F)?z(x,F,f):V(x,F,f)}},se=(l,d,f={})=>{const k=E(n,l),F=s.array.has(l),x=Ce(d);Z(i,l,x),F?(m.array.next({name:l,values:i}),(b.isDirty||b.dirtyFields)&&f.shouldDirty&&(t.dirtyFields=zt(o,i),m.state.next({name:l,dirtyFields:t.dirtyFields,isDirty:_(l,x)}))):k&&!k._f&&!ie(x)?z(l,x,f):V(l,x,f),Cr(l,s)&&m.state.next({}),m.watch.next({name:l})},W=async l=>{const d=l.target;let f=d.name;const k=E(n,f);if(k){let F,x;const A=d.type?Ht(k._f):dn(l),q=l.type===xt.BLUR||l.type===xt.FOCUS_OUT,re=!co(k._f)&&!r.resolver&&!E(t.errors,f)&&!k._f.deps||fo(q,E(t.touchedFields,f),t.isSubmitted,w,v),we=Cr(f,s,q);Z(i,f,A),q?(k._f.onBlur&&k._f.onBlur(l),p&&p(0)):k._f.onChange&&k._f.onChange(l);const _e=D(f,A,q,!1),St=!de(_e)||we;if(!q&&m.watch.next({name:f,type:l.type}),re)return St&&m.state.next({name:f,...we?{}:_e});if(!q&&we&&m.state.next({}),g[f]=(g[f],1),m.state.next({isValidating:!0}),r.resolver){const{errors:ut}=await j([f]),Rt=Vr(t.errors,n,f),h=Vr(ut,n,Rt.name||f);F=h.error,f=h.name,x=de(ut)}else F=(await jr(k,E(i,f),L,r.shouldUseNativeValidation))[f],x=await T(!0);k._f.deps&&$(k._f.deps),Y(f,x,F,_e)}},$=async(l,d={})=>{let f,k;const F=pt(l);if(m.state.next({isValidating:!0}),r.resolver){const x=await P(ee(l)?l:F);f=de(x),k=l?!F.some(A=>E(x,A)):f}else l?(k=(await Promise.all(F.map(async x=>{const A=E(n,x);return await R(A&&A._f?{[x]:A}:A)}))).every(Boolean),!(!k&&!t.isValid)&&T()):k=f=await R(n);return m.state.next({...!he(l)||b.isValid&&f!==t.isValid?{}:{name:l},...r.resolver?{isValid:f}:{},errors:t.errors,isValidating:!1}),d.shouldFocus&&!k&&Xt(n,x=>E(t.errors,x),l?F:s.mount),k},G=l=>{const d={...o,...u.mount?i:{}};return ee(l)?d:he(l)?E(d,l):l.map(f=>E(d,f))},it=(l,d)=>({invalid:!!E((d||t).errors,l),isDirty:!!E((d||t).dirtyFields,l),isTouched:!!E((d||t).touchedFields,l),error:E((d||t).errors,l)}),lt=l=>{l?pt(l).forEach(d=>le(t.errors,d)):t.errors={},m.state.next({errors:t.errors})},Ne=(l,d,f)=>{const k=(E(n,l,{_f:{}})._f||{}).ref;Z(t.errors,l,{...d,ref:k}),m.state.next({name:l,errors:t.errors,isValid:!1}),f&&f.shouldFocus&&k&&k.focus&&k.focus()},st=(l,d)=>At(l)?m.watch.subscribe({next:f=>l(S(void 0,d),f)}):S(l,d,!0),xe=(l,d={})=>{for(const f of l?pt(l):s.mount)s.mount.delete(f),s.array.delete(f),E(n,f)&&(d.keepValue||(le(n,f),le(i,f)),!d.keepError&&le(t.errors,f),!d.keepDirty&&le(t.dirtyFields,f),!d.keepTouched&&le(t.touchedFields,f),!r.shouldUnregister&&!d.keepDefaultValue&&le(o,f));m.watch.next({}),m.state.next({...t,...d.keepDirty?{isDirty:_()}:{}}),!d.keepIsValid&&T()},Me=(l,d={})=>{let f=E(n,l);const k=yt(d.disabled);return Z(n,l,{_f:{...f&&f._f?f._f:{ref:{name:l}},name:l,mount:!0,...d}}),s.mount.add(l),f?k&&Z(i,l,d.disabled?void 0:E(i,l,Ht(f._f))):O(l,!0,d.value),{...k?{disabled:d.disabled}:{},...r.shouldUseNativeValidation?{required:!!d.required,min:Xe(d.min),max:Xe(d.max),minLength:Xe(d.minLength),maxLength:Xe(d.maxLength),pattern:Xe(d.pattern)}:{},name:l,onChange:W,onBlur:W,ref:F=>{if(F){Me(l,d),f=E(n,l);const x=ee(F.value)&&F.querySelectorAll&&F.querySelectorAll("input,select,textarea")[0]||F,A=so(x),q=f._f.refs||[];if(A?q.find(re=>re===x):x===f._f.ref)return;Z(n,l,{_f:{...f._f,...A?{refs:[...q.filter(Bt),x,...Array.isArray(E(o,l))?[{}]:[]],ref:{type:x.type,name:l}}:{ref:x}}}),O(l,!1,void 0,x)}else f=E(n,l,{}),f._f&&(f._f.mount=!1),(r.shouldUnregister||d.shouldUnregister)&&!(fn(s.array,l)&&u.action)&&s.unMount.add(l)}}};return{control:{register:Me,unregister:xe,getFieldState:it,_executeSchema:j,_getWatch:S,_getDirty:_,_updateValid:T,_removeUnmounted:K,_updateFieldArray:M,_getFieldArray:B,_subjects:m,_proxyFormState:b,get _fields(){return n},get _formValues(){return i},get _stateFlags(){return u},set _stateFlags(l){u=l},get _defaultValues(){return o},get _names(){return s},set _names(l){s=l},get _formState(){return t},set _formState(l){t=l},get _options(){return r},set _options(l){r={...r,...l}}},trigger:$,register:Me,handleSubmit:(l,d)=>async f=>{f&&(f.preventDefault&&f.preventDefault(),f.persist&&f.persist());let k=!0,F=Ce(i);m.state.next({isSubmitting:!0});try{if(r.resolver){const{errors:x,values:A}=await j();t.errors=x,F=A}else await R(n);de(t.errors)?(m.state.next({errors:{},isSubmitting:!0}),await l(F,f)):(d&&await d({...t.errors},f),r.shouldFocusError&&Xt(n,x=>E(t.errors,x),s.mount))}catch(x){throw k=!1,x}finally{t.isSubmitted=!0,m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:de(t.errors)&&k,submitCount:t.submitCount+1,errors:t.errors})}},watch:st,setValue:se,getValues:G,reset:(l,d={})=>{const f=l||o,k=Ce(f),F=l&&!de(l)?k:o;if(d.keepDefaultValues||(o=f),!d.keepValues){if(d.keepDirtyValues)for(const x of s.mount)E(t.dirtyFields,x)?Z(F,x,E(i,x)):se(x,E(F,x));else{if(Jt&&ee(l))for(const x of s.mount){const A=E(n,x);if(A&&A._f){const q=Array.isArray(A._f.refs)?A._f.refs[0]:A._f.ref;try{if(Qt(q)){q.closest("form").reset();break}}catch{}}}n={}}i=e.shouldUnregister?d.keepDefaultValues?Ce(o):{}:k,m.array.next({values:F}),m.watch.next({values:F})}s={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!b.isValid||!!d.keepIsValid,u.watch=!!e.shouldUnregister,m.state.next({submitCount:d.keepSubmitCount?t.submitCount:0,isDirty:d.keepDirty||d.keepDirtyValues?t.isDirty:!!(d.keepDefaultValues&&!ze(l,o)),isSubmitted:d.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:d.keepDirty||d.keepDirtyValues?t.dirtyFields:d.keepDefaultValues&&l?zt(o,l):{},touchedFields:d.keepTouched?t.touchedFields:{},errors:d.keepErrors?t.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},resetField:(l,d={})=>{E(n,l)&&(ee(d.defaultValue)?se(l,E(o,l)):(se(l,d.defaultValue),Z(o,l,d.defaultValue)),d.keepTouched||le(t.touchedFields,l),d.keepDirty||(le(t.dirtyFields,l),t.isDirty=d.defaultValue?_(l,E(o,l)):_()),d.keepError||(le(t.errors,l),b.isValid&&T()),m.state.next({...t}))},clearErrors:lt,unregister:xe,setError:Ne,setFocus:(l,d={})=>{const f=E(n,l)._f,k=f.refs?f.refs[0]:f.ref;k.focus(),d.shouldSelect&&k.select()},getFieldState:it}}function bo(e={}){const r=a.useRef(),[t,n]=a.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}});r.current?r.current.control._options=e:r.current={...go(e),formState:t};const o=r.current.control,i=a.useCallback(u=>{pn(u,o._proxyFormState,!0)&&(o._formState={...o._formState,...u},n({...o._formState}))},[o]);return gr({subject:o._subjects.state,callback:i}),a.useEffect(()=>{o._stateFlags.mount||(o._proxyFormState.isValid&&o._updateValid(),o._stateFlags.mount=!0),o._stateFlags.watch&&(o._stateFlags.watch=!1,o._subjects.state.next({})),o._removeUnmounted()}),r.current.formState=mn(t,o._proxyFormState),r.current}const Fe=({error:e})=>e?a.createElement("div",{className:"flex flex-col gap-y-1"},(e==null?void 0:e.message)&&a.createElement("em",{className:"form-error"},e.message),(e==null?void 0:e.types)&&Object.values(e.types).map((r,t)=>a.createElement("em",{key:t,className:"form-error"},r))):null,xo=e=>{var s;const{fieldState:r,field:t}=be({...e}),[n,o]=y.exports.useState("");if(!e.list)return null;const i=n===""?e.list:e.list.filter(p=>p.country.toLowerCase().includes(n.toLowerCase().trim())),u=(s=e.list.find(p=>p.country===t.value))==null?void 0:s.countryId;return a.createElement("div",null,a.createElement(ke,{...e,render:({field:p})=>a.createElement(Ge,{nullable:!0,...p},a.createElement("div",{className:"relative"},a.createElement(Ge.Label,{className:"label"},e.label,e.required&&a.createElement("span",{className:"text-wine-400 ml-1"},"*")),a.createElement("div",{className:"flex flex-row items-center gap-2"},a.createElement("div",{className:`f32 flag pointer-events-none absolute left-2 select-none ${u?u.toLowerCase():""}`}),a.createElement(Ge.Input,{name:p.name+"Term",autoComplete:"off",placeholder:"land",className:"text-input flex-1 pl-12",onChange:c=>o(c.target.value)})),i.length>0&&a.createElement(or,null,a.createElement(Ge.Options,{className:"dropdown"},i.map(c=>a.createElement(Ge.Option,{className:({active:g,selected:b})=>`cursor-default flex items-center leading-4 rounded text-sm gap-2 select-none py-2 px-4 ${g&&!b?"bg-slate-200 dark:bg-gray-700/40 text-black dark:text-gray-300":""} ${b?"bg-wine-500 dark:bg-wine-400 text-white":""}`,key:c.countryId,value:c.country},a.createElement("div",{className:`f32 flag pointer-events-none select-none ${c.countryId.toLowerCase()}`}),a.createElement("div",null,c.country)))))))}),a.createElement(Fe,{error:r.error}))},Je=e=>{const{fieldState:r}=be({...e});return a.createElement("div",null,a.createElement(ke,{...e,render:({field:t})=>a.createElement(Ye,{as:"div",className:"relative",...t},a.createElement(Ye.Label,{className:"label"},e.label),a.createElement(Ye.Button,{className:({open:n})=>`btn-white rounded-full min-w-min flex flex-row gap-3 items-center h-10 sm:h-12 ${n?"bg-white ring-4 ring-wine-300 border-white ring-opacity-50":""}`},a.createElement(Fr,{faded:t.value===0,percent:Ar[t.value].percent,size:"1.6rem"}),a.createElement("div",{className:`${t.value===0?"text-slate-500":""}`},_r[e.type][t.value])),a.createElement(or,null,a.createElement(Ye.Options,{className:"dropdown"},Ar.map((n,o)=>a.createElement(Ye.Option,{key:o,className:({active:i,selected:u})=>`relative cursor-default flex items-center leading-4 rounded text-sm gap-2 select-none py-2 px-4 ${i&&!u?"bg-slate-200 dark:bg-gray-700/40 text-black dark:text-gray-300":""} ${u?"bg-wine-500 dark:bg-wine-400 text-white":""}`,value:n.value},a.createElement(Fr,{percent:n.percent,size:"1.75rem"}),a.createElement("div",null,_r[e.type][o]))))))}),a.createElement(Fe,{error:r.error}))},yo=({allowEnter:e,value:r,onChange:t,hasError:n,maxLength:o,focus:i,placeholder:u,numeric:s})=>{const p=g=>{!e&&g.code==="Enter"&&g.preventDefault()},c=g=>{const b=o?g.target.value.slice(0,o):g.target.value;if(b){t(s?+b?+b:0:b);return}t(null)};return a.createElement("input",{onKeyDown:g=>p(g),autoComplete:"off",className:`text-input ${n?"border-wine-200 bg-wine-25 text-wine-900 placeholder:text-transparent":""}`,onChange:g=>c(g),autoFocus:i,value:r!=null?r:"",placeholder:u,inputMode:s?"decimal":"text",type:s?"number":"text"})},ae=e=>{const{fieldState:r}=be({...e});return a.createElement("div",null,a.createElement("label",{className:"label",htmlFor:e.name},e.label,e.required&&a.createElement("span",{className:"text-wine-400 ml-1"},"*")),a.createElement(ke,{...e,render:({field:{value:t,ref:n,...o}})=>{var i;return a.createElement("div",{className:"relative"},e.textarea?a.createElement("textarea",{autoComplete:"off",className:`text-input h-auto resize-none py-0.5 ${r.error?"border-wine-200 bg-wine-25 text-wine-900 placeholder:text-transparent":""}`,...o,value:t||"",placeholder:e.placeholder,rows:e.rows,maxLength:e.maxLength}):a.createElement(yo,{allowEnter:e.allowEnter,maxLength:e.maxLength,placeholder:e.placeholder,focus:e.focus,hasError:!!r.error,numeric:(i=e.numeric)!=null?i:!1,value:t,...o}),e.definition&&a.createElement("span",{className:"pointer-events-none absolute right-1.5 top-1.5 h-5 select-none rounded bg-slate-100 px-2 text-sm leading-5 text-slate-800 dark:bg-white/20 dark:text-gray-300"},e.definition))}}),a.createElement(Fe,{error:r.error}))},Nr={name:"",type:"",year:null,price:null,volume:null,alcoholContent:null,country:null,region:null,subRegion:null,productId:null,grapes:null,recommendedFood:null,manufacturerName:null,storagePotential:null,colour:null,odour:null,taste:null,freshness:0,fullness:0,bitterness:0,sweetness:0,tannins:0,file:null,resetImage:!1,userDetails:{quantity:1,purchaseLocation:null,purchaseDate:null,drinkingWindowMin:null,drinkingWindowMax:null,userNote:null,favorite:!1,score:null,userRating:null}},vo=({onChange:e,value:r,placeholder:t,name:n,onBlur:o,minValue:i,maxValue:u,dropDownMaxValue:s,dropDownMinValue:p,hasError:c})=>{const[g,b]=y.exports.useState(!1),m=y.exports.useRef(null);Kn(m,()=>b(!1));const w=s-p,L=T=>{const M=parseInt(T.target.value.replace(/\D/g,""));M>=i&&M<=u?e(M):e(null),o&&o()},U=T=>{isNaN(T)||e(T),b(!1)};return a.createElement(Lr,{as:"div",ref:m,className:`${g?"relative z-10":"relative"}`},a.createElement("input",{placeholder:t,autoComplete:"off",name:n,type:"number",inputMode:"numeric",value:r||"",onChange:T=>L(T),onBlur:()=>setTimeout(()=>b(!1),150),onFocus:()=>b(!0),className:`text-input ${c?"border-wine-200 bg-wine-25 text-wine-900 placeholder:text-transparent":""}`}),a.createElement(or,{isOpen:g},a.createElement(Lr.Panel,{static:!0},a.createElement("div",{className:"dropdown"},a.createElement("div",{className:"text-muted border-b border-slate-200 px-4 pb-0.5 text-sm dark:border-gray-700"},"Skriv inn ett \xE5r, eller velg \xE5r nedenfor."),[...Array(w)].map((T,M)=>{const N=p+M;return a.createElement("div",{onClick:()=>U(N),className:`cursor-default select-none gap-2 rounded py-2 px-4 text-sm focus:blur   ${N===r?"bg-wine-500 dark:bg-wine-400 text-white":"hover:bg-slate-200 hover:text-black hover:dark:bg-gray-700/40 hover:dark:text-gray-300"}`,key:M},N)})))))},Kt=e=>{const{fieldState:r}=be({...e});return a.createElement("div",null,a.createElement("label",{className:"label",htmlFor:e.name},e.label),a.createElement(ke,{...e,render:({field:{ref:t,...n}})=>a.createElement(vo,{...n,hasError:!!r.error,minValue:e.minValue,maxValue:e.maxValue,dropDownMinValue:e.dropDownMinValue,dropDownMaxValue:e.dropDownMaxValue,placeholder:e.placeholder})}),a.createElement(Fe,{error:r.error}))},ho=new Date,_t=new Date;_t.setDate(ho.getDate()+1);_t.setHours(0,0,0,0);const dt=e=>e===0?null:e,Eo=e=>!e||e<=_t,ko=(e,r)=>e===null||r===null||e<r,wo=I.object({name:I.string({required_error:"Navn er p\xE5krevd.",invalid_type_error:"Navn er p\xE5krevd og m\xE5 minst v\xE6re 3 bokstaver."}).trim().min(3,"Navn p\xE5 vin m\xE5 minst v\xE6re 3 bokstaver.").max(120,"Navn p\xE5 vin kan max v\xE6re 120 bokstaver."),type:I.string({required_error:"Type er p\xE5krevd.",invalid_type_error:"Type er p\xE5krevd og m\xE5 minst v\xE6re 2 bokstaver."}).trim().min(2,"Type m\xE5 minst v\xE6re 2 bokstaver.").max(20,"Type kan max v\xE6re 20 bokstaver."),year:I.number({invalid_type_error:"\xC5rgang er ugyldig."}).int("\xC5rgang m\xE5 v\xE6re et heltall.").min(0,"\xC5rgang kan kun v\xE6re mellom 0 og 3000.").max(3e3,"\xC5rgang kan kun v\xE6re mellom 0 og 3000.").nullable().transform(dt),price:I.number({invalid_type_error:"Pris er ugyldig."}).int("Pris m\xE5 v\xE6re et heltall.").max(1e6,"Pris kan max v\xE6re 1 000 000 kr.").min(0).nullable().transform(dt),alcoholContent:I.number({invalid_type_error:"Alkoholdinnhold er ugyldig."}).max(100,"Alkoholinnhold kan kun v\xE6re mellom 0 og 100 prosent.").min(0,"Alkoholinnhold kan kun v\xE6re mellom 0 og 100 prosent.").nullable().transform(dt),volume:I.number({invalid_type_error:"Volum er ugyldig."}).max(100,"Volum kan kun v\xE6re mellom 0 og 100 liter.").min(0,"Volum kan kun v\xE6re mellom 0 og 100 liter.").nullable().transform(dt),bitterness:I.number({invalid_type_error:"Verdien er ugyldig."}).min(0,"Verdien til Bitterhet m\xE5 v\xE6re et tall mellom 0 og 12.").max(12,"Verdien til Bitterhet m\xE5 v\xE6re et tall mellom 0 og 12."),sweetness:I.number({invalid_type_error:"Verdien er ugyldig."}).min(0,"Verdien til S\xF8dme m\xE5 v\xE6re et tall mellom 0 og 12.").max(12,"Verdien til S\xF8dme m\xE5 v\xE6re et tall mellom 0 og 12."),freshness:I.number({invalid_type_error:"Verdien er ugyldig."}).min(0,"Verdien til Ferskhet m\xE5 v\xE6re et tall mellom 0 og 12.").max(12,"Verdien til Ferskhet m\xE5 v\xE6re et tall mellom 0 og 12."),fullness:I.number({invalid_type_error:"Verdien er ugyldig."}).min(0,"Verdien til Fylde m\xE5 v\xE6re et tall mellom 0 og 12.").max(12,"Verdien til Fylde m\xE5 v\xE6re et tall mellom 0 og 12."),tannins:I.number({invalid_type_error:"Verdien er ugyldig."}).min(0,"Verdien til Tanninsk m\xE5 v\xE6re et tall mellom 0 og 12.").max(12,"Verdien til Tanninsk m\xE5 v\xE6re et tall mellom 0 og 12."),country:I.string({invalid_type_error:"Land er ugyldig."}).trim().max(70,"Land kan max v\xE6re 70 bokstaver.").nullable(),region:I.string({invalid_type_error:"Distrikt er ugyldig."}).trim().max(70,"Distrikt kan max v\xE6re 70 bokstaver.").nullable(),subRegion:I.string({invalid_type_error:"Underdistrikt er ugyldig."}).trim().max(70,"Underdistrikt kan max v\xE6re 70 bokstaver.").nullable(),manufacturerName:I.string({invalid_type_error:"Produsent er ugyldig."}).trim().max(70,"Produsent kan max v\xE6re 70 bokstaver.").nullable(),storagePotential:I.string({invalid_type_error:"Lagringsgrad er ugyldig."}).trim().max(70,"Lagringsgrad kan max v\xE6re 70 bokstaver.").nullable(),productId:I.string({invalid_type_error:"Produktnummer er ugyldig."}).trim().max(70,"Produktnummer kan max v\xE6re 24 bokstaver.").nullable(),taste:I.string({invalid_type_error:"Smak er ugyldig."}).trim().max(500,"Smak kan max v\xE6re 500 bokstaver.").nullable(),grapes:I.array(I.string(),{invalid_type_error:"R\xE5stoff er ugyldig."}).nullable(),recommendedFood:I.array(I.string(),{invalid_type_error:"Passer til er ugyldig."}).nullable(),odour:I.string({invalid_type_error:"Duft er ugyldig."}).trim().max(500,"Duft kan max v\xE6re 500 bokstaver.").nullable(),colour:I.string({invalid_type_error:"Farge er ugyldig."}).trim().max(500,"Farge kan max v\xE6re 500 bokstaver.").nullable(),resetImage:I.boolean().default(!1).optional(),file:I.instanceof(File).nullable().optional().refine(e=>!e||(e==null?void 0:e.size)<=2097152,"St\xF8rrelsen p\xE5 filen er for stor, max st\xF8rrelse er 2MB.").refine(e=>!e||["image/jpeg","image/jpg","image/png"].includes(e==null?void 0:e.type),"Denne filtypen st\xF8ttes ikke, filtyper som er st\xF8ttet er: 'jpg, jpeg, png'."),userDetails:I.object({quantity:I.number({required_error:"Antall er p\xE5krevd",invalid_type_error:"Antall er ugyldig."}).int("Antall m\xE5 v\xE6re et heltall").min(0,"Antall m\xE5 v\xE6re mellom 0 og 1000.").max(1e3,"Antall m\xE5 v\xE6re mellom 0 og 1000."),score:I.number({invalid_type_error:"Karakter er ugyldig."}).int("Karakter m\xE5 v\xE6re et heltall").min(50,"Karakter kan kun v\xE6re mellom 50 og 100.").max(100,"Karakter kan kun v\xE6re mellom 50 og 100.").nullable(),drinkingWindowMin:I.number({invalid_type_error:"drikkevindu-fra er ugyldig."}).min(0,"Drikkevindu m\xE5 v\xE6re mellom 0 og 3000.").max(3e3,"Drikkevindu m\xE5 v\xE6re mellom 0 og 3000.").nullable(),drinkingWindowMax:I.number({invalid_type_error:"Drikkevindu-til er ugyldig."}).min(0,"Drikkevindu-til m\xE5 v\xE6re h\xF8yere eller lik drikkevindu-fra.").max(3e3,"Drikkevindu m\xE5 v\xE6re mellom 0 og 3000.").nullable(),userRating:I.number({invalid_type_error:"Vurdering er ugyldig."}).int("Vurdering m\xE5 v\xE6re et heltall").min(0,"Vurdering m\xE5 v\xE6re ett tall mellom 0 og 10.").max(10,"Vurdering m\xE5 v\xE6re ett tall mellom 0 og 10.").nullable(),userNote:I.string({invalid_type_error:"Dine notater er ugyldig."}).trim().max(500,"Dine notater kan max v\xE6re 500 bokstaver.").nullable(),purchaseDate:I.date({invalid_type_error:"Kj\xF8psdato er ugyldig."}).nullable().refine(Eo,`Kj\xF8psdato m\xE5 v\xE6re mindre enn ${Qn(_t)}`),purchaseLocation:I.string({invalid_type_error:"Kj\xF8pested er ugyldig."}).trim().max(70,"Kj\xF8pested kan max v\xE6re 70 bokstaver.").nullable(),favorite:I.boolean().default(!1)}).refine(e=>ko(e.drinkingWindowMin,e.drinkingWindowMax),{message:"Drikkevindu-til m\xE5 v\xE6re h\xF8yere eller lik drikkevindu-fra.",path:["drinkingWindowMax"]})});var H={exports:{}},Do="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Fo=Do,Ao=Fo;function Dn(){}function Fn(){}Fn.resetWarningCache=Dn;var _o=function(){function e(n,o,i,u,s,p){if(p!==Ao){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function r(){return e}var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:Fn,resetWarningCache:Dn};return t.PropTypes=t,t};H.exports=_o();var Lo=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function ot(e,r){var t=Oo(e);if(typeof t.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof r=="string"?r:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return t}function Oo(e){var r=e.name,t=r&&r.lastIndexOf(".")!==-1;if(t&&!e.type){var n=r.split(".").pop().toLowerCase(),o=Lo.get(n);o&&Object.defineProperty(e,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return e}var Co=[".DS_Store","Thumbs.db"];function So(e){return He(this,void 0,void 0,function(){return Ke(this,function(r){return kt(e)&&Ro(e.dataTransfer)?[2,Io(e.dataTransfer,e.type)]:Po(e)?[2,To(e)]:Array.isArray(e)&&e.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,jo(e)]:[2,[]]})})}function Ro(e){return kt(e)}function Po(e){return kt(e)&&kt(e.target)}function kt(e){return typeof e=="object"&&e!==null}function To(e){return er(e.target.files).map(function(r){return ot(r)})}function jo(e){return He(this,void 0,void 0,function(){var r;return Ke(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return r=t.sent(),[2,r.map(function(n){return ot(n)})]}})})}function Io(e,r){return He(this,void 0,void 0,function(){var t,n;return Ke(this,function(o){switch(o.label){case 0:return e.items?(t=er(e.items).filter(function(i){return i.kind==="file"}),r!=="drop"?[2,t]:[4,Promise.all(t.map(Vo))]):[3,2];case 1:return n=o.sent(),[2,Mr(An(n))];case 2:return[2,Mr(er(e.files).map(function(i){return ot(i)}))]}})})}function Mr(e){return e.filter(function(r){return Co.indexOf(r.name)===-1})}function er(e){if(e===null)return[];for(var r=[],t=0;t<e.length;t++){var n=e[t];r.push(n)}return r}function Vo(e){if(typeof e.webkitGetAsEntry!="function")return Wr(e);var r=e.webkitGetAsEntry();return r&&r.isDirectory?_n(r):Wr(e)}function An(e){return e.reduce(function(r,t){return kr(kr([],wr(r),!1),wr(Array.isArray(t)?An(t):[t]),!1)},[])}function Wr(e){var r=e.getAsFile();if(!r)return Promise.reject("".concat(e," is not a File"));var t=ot(r);return Promise.resolve(t)}function No(e){return He(this,void 0,void 0,function(){return Ke(this,function(r){return[2,e.isDirectory?_n(e):Mo(e)]})})}function _n(e){var r=e.createReader();return new Promise(function(t,n){var o=[];function i(){var u=this;r.readEntries(function(s){return He(u,void 0,void 0,function(){var p,c,g;return Ke(this,function(b){switch(b.label){case 0:if(s.length)return[3,5];b.label=1;case 1:return b.trys.push([1,3,,4]),[4,Promise.all(o)];case 2:return p=b.sent(),t(p),[3,4];case 3:return c=b.sent(),n(c),[3,4];case 4:return[3,6];case 5:g=Promise.all(s.map(No)),o.push(g),i(),b.label=6;case 6:return[2]}})})},function(s){n(s)})}i()})}function Mo(e){return He(this,void 0,void 0,function(){return Ke(this,function(r){return[2,new Promise(function(t,n){e.file(function(o){var i=ot(o,e.fullPath);t(i)},function(o){n(o)})})]})})}var Wo=function(e,r){if(e&&r){var t=Array.isArray(r)?r:r.split(","),n=e.name||"",o=(e.type||"").toLowerCase(),i=o.replace(/\/.*$/,"");return t.some(function(u){var s=u.trim().toLowerCase();return s.charAt(0)==="."?n.toLowerCase().endsWith(s):s.endsWith("/*")?i===s.replace(/\/.*$/,""):o===s})}return!0};function $r(e){return Bo(e)||Uo(e)||On(e)||$o()}function $o(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uo(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Bo(e){if(Array.isArray(e))return tr(e)}function Ur(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Br(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ur(Object(t),!0).forEach(function(n){Ln(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ur(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ln(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Qe(e,r){return Ko(e)||Ho(e,r)||On(e,r)||zo()}function zo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function On(e,r){if(!!e){if(typeof e=="string")return tr(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return tr(e,r)}}function tr(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Ho(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,u,s;try{for(t=t.call(e);!(o=(u=t.next()).done)&&(n.push(u.value),!(r&&n.length===r));o=!0);}catch(p){i=!0,s=p}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw s}}return n}}function Ko(e){if(Array.isArray(e))return e}var qo="file-invalid-type",Zo="file-too-large",Yo="file-too-small",Go="too-many-files",Xo=function(r){r=Array.isArray(r)&&r.length===1?r[0]:r;var t=Array.isArray(r)?"one of ".concat(r.join(", ")):r;return{code:qo,message:"File type must be ".concat(t)}},zr=function(r){return{code:Zo,message:"File is larger than ".concat(r," ").concat(r===1?"byte":"bytes")}},Hr=function(r){return{code:Yo,message:"File is smaller than ".concat(r," ").concat(r===1?"byte":"bytes")}},Jo={code:Go,message:"Too many files"};function Cn(e,r){var t=e.type==="application/x-moz-file"||Wo(e,r);return[t,t?null:Xo(r)]}function Sn(e,r,t){if(Se(e.size))if(Se(r)&&Se(t)){if(e.size>t)return[!1,zr(t)];if(e.size<r)return[!1,Hr(r)]}else{if(Se(r)&&e.size<r)return[!1,Hr(r)];if(Se(t)&&e.size>t)return[!1,zr(t)]}return[!0,null]}function Se(e){return e!=null}function Qo(e){var r=e.files,t=e.accept,n=e.minSize,o=e.maxSize,i=e.multiple,u=e.maxFiles,s=e.validator;return!i&&r.length>1||i&&u>=1&&r.length>u?!1:r.every(function(p){var c=Cn(p,t),g=Qe(c,1),b=g[0],m=Sn(p,n,o),v=Qe(m,1),w=v[0],L=s?s(p):null;return b&&w&&!L})}function wt(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function ft(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(r){return r==="Files"||r==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Kr(e){e.preventDefault()}function ei(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function ti(e){return e.indexOf("Edge/")!==-1}function ri(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return ei(e)||ti(e)}function ve(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(n){for(var o=arguments.length,i=new Array(o>1?o-1:0),u=1;u<o;u++)i[u-1]=arguments[u];return r.some(function(s){return!wt(n)&&s&&s.apply(void 0,[n].concat(i)),wt(n)})}}function ni(){return"showOpenFilePicker"in window}function ai(e){if(Se(e)){var r=Object.entries(e).filter(function(t){var n=Qe(t,2),o=n[0],i=n[1],u=!0;return Rn(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),u=!1),(!Array.isArray(i)||!i.every(Pn))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),u=!1),u}).reduce(function(t,n){var o=Qe(n,2),i=o[0],u=o[1];return Br(Br({},t),{},Ln({},i,u))},{});return[{accept:r}]}return e}function oi(e){if(Se(e))return Object.entries(e).reduce(function(r,t){var n=Qe(t,2),o=n[0],i=n[1];return[].concat($r(r),[o],$r(i))},[]).filter(function(r){return Rn(r)||Pn(r)}).join(",")}function ii(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function li(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function Rn(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function Pn(e){return/^.*\.[\w]+$/.test(e)}var si=["children"],ui=["open"],ci=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],di=["refKey","onChange","onClick"];function fi(e){return gi(e)||pi(e)||Tn(e)||mi()}function mi(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pi(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gi(e){if(Array.isArray(e))return rr(e)}function qt(e,r){return yi(e)||xi(e,r)||Tn(e,r)||bi()}function bi(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tn(e,r){if(!!e){if(typeof e=="string")return rr(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return rr(e,r)}}function rr(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function xi(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,u,s;try{for(t=t.call(e);!(o=(u=t.next()).done)&&(n.push(u.value),!(r&&n.length===r));o=!0);}catch(p){i=!0,s=p}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw s}}return n}}function yi(e){if(Array.isArray(e))return e}function qr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function J(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?qr(Object(t),!0).forEach(function(n){nr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):qr(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function nr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Dt(e,r){if(e==null)return{};var t=vi(e,r),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],!(r.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(t[n]=e[n]))}return t}function vi(e,r){if(e==null)return{};var t={},n=Object.keys(e),o,i;for(i=0;i<n.length;i++)o=n[i],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}var hr=y.exports.forwardRef(function(e,r){var t=e.children,n=Dt(e,si),o=In(n),i=o.open,u=Dt(o,ui);return y.exports.useImperativeHandle(r,function(){return{open:i}},[i]),a.createElement(y.exports.Fragment,null,t(J(J({},u),{},{open:i})))});hr.displayName="Dropzone";var jn={disabled:!1,getFilesFromEvent:So,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};hr.defaultProps=jn;hr.propTypes={children:H.exports.func,accept:H.exports.objectOf(H.exports.arrayOf(H.exports.string)),multiple:H.exports.bool,preventDropOnDocument:H.exports.bool,noClick:H.exports.bool,noKeyboard:H.exports.bool,noDrag:H.exports.bool,noDragEventsBubbling:H.exports.bool,minSize:H.exports.number,maxSize:H.exports.number,maxFiles:H.exports.number,disabled:H.exports.bool,getFilesFromEvent:H.exports.func,onFileDialogCancel:H.exports.func,onFileDialogOpen:H.exports.func,useFsAccessApi:H.exports.bool,autoFocus:H.exports.bool,onDragEnter:H.exports.func,onDragLeave:H.exports.func,onDragOver:H.exports.func,onDrop:H.exports.func,onDropAccepted:H.exports.func,onDropRejected:H.exports.func,onError:H.exports.func,validator:H.exports.func};var ar={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function In(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=J(J({},jn),e),t=r.accept,n=r.disabled,o=r.getFilesFromEvent,i=r.maxSize,u=r.minSize,s=r.multiple,p=r.maxFiles,c=r.onDragEnter,g=r.onDragLeave,b=r.onDragOver,m=r.onDrop,v=r.onDropAccepted,w=r.onDropRejected,L=r.onFileDialogCancel,U=r.onFileDialogOpen,T=r.useFsAccessApi,M=r.autoFocus,N=r.preventDropOnDocument,O=r.noClick,D=r.noKeyboard,Y=r.noDrag,j=r.noDragEventsBubbling,P=r.onError,R=r.validator,K=y.exports.useMemo(function(){return oi(t)},[t]),_=y.exports.useMemo(function(){return ai(t)},[t]),S=y.exports.useMemo(function(){return typeof U=="function"?U:Zr},[U]),B=y.exports.useMemo(function(){return typeof L=="function"?L:Zr},[L]),V=y.exports.useRef(null),z=y.exports.useRef(null),se=y.exports.useReducer(hi,ar),W=qt(se,2),$=W[0],G=W[1],it=$.isFocused,lt=$.isFileDialogActive,Ne=y.exports.useRef(typeof window<"u"&&window.isSecureContext&&T&&ni()),st=function(){!Ne.current&&lt&&setTimeout(function(){if(z.current){var C=z.current.files;C.length||(G({type:"closeDialog"}),B())}},300)};y.exports.useEffect(function(){return window.addEventListener("focus",st,!1),function(){window.removeEventListener("focus",st,!1)}},[z,lt,B,Ne]);var xe=y.exports.useRef([]),Me=function(C){V.current&&V.current.contains(C.target)||(C.preventDefault(),xe.current=[])};y.exports.useEffect(function(){return N&&(document.addEventListener("dragover",Kr,!1),document.addEventListener("drop",Me,!1)),function(){N&&(document.removeEventListener("dragover",Kr),document.removeEventListener("drop",Me))}},[V,N]),y.exports.useEffect(function(){return!n&&M&&V.current&&V.current.focus(),function(){}},[V,M,n]);var Ae=y.exports.useCallback(function(h){P?P(h):console.error(h)},[P]),Lt=y.exports.useCallback(function(h){h.preventDefault(),h.persist(),_e(h),xe.current=[].concat(fi(xe.current),[h.target]),ft(h)&&Promise.resolve(o(h)).then(function(C){if(!(wt(h)&&!j)){var te=C.length,ne=te>0&&Qo({files:C,accept:K,minSize:u,maxSize:i,multiple:s,maxFiles:p,validator:R}),ce=te>0&&!ne;G({isDragAccept:ne,isDragReject:ce,isDragActive:!0,type:"setDraggedFiles"}),c&&c(h)}}).catch(function(C){return Ae(C)})},[o,c,Ae,j,K,u,i,s,p,R]),Ot=y.exports.useCallback(function(h){h.preventDefault(),h.persist(),_e(h);var C=ft(h);if(C&&h.dataTransfer)try{h.dataTransfer.dropEffect="copy"}catch{}return C&&b&&b(h),!1},[b,j]),Ct=y.exports.useCallback(function(h){h.preventDefault(),h.persist(),_e(h);var C=xe.current.filter(function(ne){return V.current&&V.current.contains(ne)}),te=C.indexOf(h.target);te!==-1&&C.splice(te,1),xe.current=C,!(C.length>0)&&(G({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),ft(h)&&g&&g(h))},[V,g,j]),l=y.exports.useCallback(function(h,C){var te=[],ne=[];h.forEach(function(ce){var Ze=Cn(ce,K),We=qt(Ze,2),Pt=We[0],Tt=We[1],jt=Sn(ce,u,i),ct=qt(jt,2),It=ct[0],Vt=ct[1],Nt=R?R(ce):null;if(Pt&&It&&!Nt)te.push(ce);else{var Mt=[Tt,Vt];Nt&&(Mt=Mt.concat(Nt)),ne.push({file:ce,errors:Mt.filter(function(Nn){return Nn})})}}),(!s&&te.length>1||s&&p>=1&&te.length>p)&&(te.forEach(function(ce){ne.push({file:ce,errors:[Jo]})}),te.splice(0)),G({acceptedFiles:te,fileRejections:ne,type:"setFiles"}),m&&m(te,ne,C),ne.length>0&&w&&w(ne,C),te.length>0&&v&&v(te,C)},[G,s,K,u,i,p,m,v,w,R]),d=y.exports.useCallback(function(h){h.preventDefault(),h.persist(),_e(h),xe.current=[],ft(h)&&Promise.resolve(o(h)).then(function(C){wt(h)&&!j||l(C,h)}).catch(function(C){return Ae(C)}),G({type:"reset"})},[o,l,Ae,j]),f=y.exports.useCallback(function(){if(Ne.current){G({type:"openDialog"}),S();var h={multiple:s,types:_};window.showOpenFilePicker(h).then(function(C){return o(C)}).then(function(C){l(C,null),G({type:"closeDialog"})}).catch(function(C){ii(C)?(B(C),G({type:"closeDialog"})):li(C)?(Ne.current=!1,z.current?(z.current.value=null,z.current.click()):Ae(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Ae(C)});return}z.current&&(G({type:"openDialog"}),S(),z.current.value=null,z.current.click())},[G,S,B,T,l,Ae,_,s]),k=y.exports.useCallback(function(h){!V.current||!V.current.isEqualNode(h.target)||(h.key===" "||h.key==="Enter"||h.keyCode===32||h.keyCode===13)&&(h.preventDefault(),f())},[V,f]),F=y.exports.useCallback(function(){G({type:"focus"})},[]),x=y.exports.useCallback(function(){G({type:"blur"})},[]),A=y.exports.useCallback(function(){O||(ri()?setTimeout(f,0):f())},[O,f]),q=function(C){return n?null:C},re=function(C){return D?null:q(C)},we=function(C){return Y?null:q(C)},_e=function(C){j&&C.stopPropagation()},St=y.exports.useMemo(function(){return function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=h.refKey,te=C===void 0?"ref":C,ne=h.role,ce=h.onKeyDown,Ze=h.onFocus,We=h.onBlur,Pt=h.onClick,Tt=h.onDragEnter,jt=h.onDragOver,ct=h.onDragLeave,It=h.onDrop,Vt=Dt(h,ci);return J(J(nr({onKeyDown:re(ve(ce,k)),onFocus:re(ve(Ze,F)),onBlur:re(ve(We,x)),onClick:q(ve(Pt,A)),onDragEnter:we(ve(Tt,Lt)),onDragOver:we(ve(jt,Ot)),onDragLeave:we(ve(ct,Ct)),onDrop:we(ve(It,d)),role:typeof ne=="string"&&ne!==""?ne:"presentation"},te,V),!n&&!D?{tabIndex:0}:{}),Vt)}},[V,k,F,x,A,Lt,Ot,Ct,d,D,Y,n]),ut=y.exports.useCallback(function(h){h.stopPropagation()},[]),Rt=y.exports.useMemo(function(){return function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=h.refKey,te=C===void 0?"ref":C,ne=h.onChange,ce=h.onClick,Ze=Dt(h,di),We=nr({accept:K,multiple:s,type:"file",style:{display:"none"},onChange:q(ve(ne,d)),onClick:q(ve(ce,ut)),tabIndex:-1},te,z);return J(J({},We),Ze)}},[z,t,s,d,n]);return J(J({},$),{},{isFocused:it&&!n,getRootProps:St,getInputProps:Rt,rootRef:V,inputRef:z,open:q(f)})}function hi(e,r){switch(r.type){case"focus":return J(J({},e),{},{isFocused:!0});case"blur":return J(J({},e),{},{isFocused:!1});case"openDialog":return J(J({},ar),{},{isFileDialogActive:!0});case"closeDialog":return J(J({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return J(J({},e),{},{isDragActive:r.isDragActive,isDragAccept:r.isDragAccept,isDragReject:r.isDragReject});case"setFiles":return J(J({},e),{},{acceptedFiles:r.acceptedFiles,fileRejections:r.fileRejections});case"reset":return J({},ar);default:return e}}function Zr(){}const Yr=2097152,Ei=({onChange:e,value:r})=>{const t=y.exports.useCallback(c=>{e(c?c[0]:null)},[e]),{getRootProps:n,getInputProps:o,isDragActive:i,isDragReject:u,fileRejections:s}=In({onDrop:t,multiple:!1,minSize:0,maxSize:Yr,accept:{"image/png":[".png"],"image/jpg":[".jpg"],"image/jpeg":[".jpeg"]}}),p=s.length>0&&s[0].file.size>=Yr;return a.createElement("div",null,r&&a.createElement("div",{className:"flex flex-wrap items-end justify-between gap-2"},a.createElement("button",{className:"btn-white w-auto",onClick:c=>{c.preventDefault(),e(null)}},"Fjern bilde"),(r==null?void 0:r.name)&&a.createElement("div",{className:"text-green-wine-500 dark:text-green-wine-200 flex flex-row items-center gap-x-2 text-sm"},a.createElement(ga,{size:"1.5rem",weight:"duotone"}),r.name)),a.createElement("div",{className:"my-2 cursor-pointer text-center text-sm",...n()},a.createElement("input",{...o()}),i?a.createElement("p",{className:`${u?"text-wine-500 dark:text-wine-400 dark:border-wine-400 border-wine-500 border":"border-green-wine-500 text-green-wine-500 dark:border-green-wine-300 dark:text-green-wine-300 border"} flex flex-col items-center rounded border border-dashed bg-slate-50 p-4 py-4 font-medium shadow-lg dark:bg-gray-900 `},u?"Denne filtypen st\xF8ttes ikke, filtyper som er st\xF8ttet er: 'jpg, jpeg, png'.":a.createElement(Or,{size:"1.75rem",className:"animate-bounce",weight:"duotone"})):a.createElement("div",{className:"text-muted rounded border border-dashed border-slate-300 bg-slate-50 p-4 py-4 text-center hover:border-slate-500 hover:bg-slate-100 dark:border-gray-700 dark:bg-gray-900 dark:hover:border-gray-600"},a.createElement("div",{className:"flex flex-row items-center justify-center gap-2"},a.createElement(Or,{size:"1.75rem",weight:"duotone"}),"Trykk her, eller dra et bilde hit"),p?a.createElement("strong",{className:"text-wine-500 dark:text-wine-300 mt-2 block font-medium"},"St\xF8rrelsen p\xE5 filen er for stor, max st\xF8rrelse er 2MB."):a.createElement("p",{className:"mt-0.5 text-xs opacity-60"},"(Max 2MB)"))))},ki=e=>{const{fieldState:r}=be({...e});return a.createElement("div",null,a.createElement("label",{className:"label",htmlFor:e.name},e.label),a.createElement(ke,{...e,render:({field:{ref:t,value:n,...o}})=>a.createElement(Ei,{value:n,...o})}),a.createElement(Fe,{error:r.error}))},wi=({value:e,onChange:r})=>{const t=o=>{if(o.preventDefault(),!e){r(1);return}if(e>=10)return;const i=e+1;r(i)},n=o=>{if(o.preventDefault(),!e||e<=0)return;if(e===1){r(null);return}const i=e-1;r(i)};return a.createElement("div",{className:"flex flex-row items-center gap-2"},a.createElement("button",{type:"button",onClick:n,className:"btn-white flex h-10 w-10 items-center justify-center rounded-full"},"-"),a.createElement("div",{className:"relative flex items-center self-stretch"},a.createElement(ia,{onClick:r,stars:e||0,size:"1.8rem"}),a.createElement("span",{className:"absolute -top-2.5 w-full select-none text-center text-sm text-gray-500"},e&&e/2)),a.createElement("button",{type:"button",onClick:t,className:"btn-white flex h-10 w-10 items-center justify-center rounded-full"},"+"))},Di=e=>{const{fieldState:r}=be({...e});return a.createElement("div",null,a.createElement("label",{className:"label",htmlFor:e.name},e.label),a.createElement(ke,{...e,render:({field:{ref:t,...n}})=>a.createElement(wi,{...n})}),a.createElement(Fe,{error:r.error}))},Fi=({isOpen:e,setIsOpen:r,getValues:t})=>{const[n,o]=y.exports.useState(t);return y.exports.useEffect(()=>{!e||(o(t()),console.log("Update values"))},[t,e]),n?a.createElement(ea,{title:"Forh\xE5ndsvisning av vin",description:n==null?void 0:n.name,isOpen:e,setIsOpen:r,xl:!0},a.createElement(aa,{wine:n})):null},Ai=({file:e,productId:r,wine:t,...n})=>{const[o,i]=y.exports.useState(null),{field:u}=be({...n});return y.exports.useEffect(()=>{const s=()=>{i(ra(r,300))};e?i(URL.createObjectURL(e)):t.imageByUser&&!u.value?i(t.pictureUrl):u.value&&r||t.productId!==r?s():t.pictureUrl?i(t.pictureUrl):r&&s()},[t,r,e,u.value]),a.createElement("div",{className:"mb-4 select-none rounded bg-white p-2 shadow md:mb-0"},a.createElement("img",{className:"mx-auto h-64 w-64 object-scale-down",src:o||ta,alt:"Bilde av en vin."}),t.imageByUser&&r&&!e&&a.createElement(ke,{...n,render:({field:{value:s,onChange:p,...c}})=>a.createElement("div",{className:"mt-2 flex flex-row items-center gap-2"},a.createElement(tn,{...c,checked:s,onChange:p,className:`${s?"bg-wine-500":"bg-slate-200 hover:bg-slate-300"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-100`},a.createElement("span",{className:`${s?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 rounded-full bg-white  transition ease-in-out`})),a.createElement("span",{className:"text-sm font-medium text-gray-700"},"Tilbakestill bilde"))}))},_i=e=>{const{fieldState:r}=be({...e});return a.createElement("div",null,a.createElement("label",{className:"label",htmlFor:e.name},e.label),a.createElement(ke,{...e,render:({field:{value:t,onChange:n,...o}})=>a.createElement("div",{className:""},a.createElement(tn,{...o,checked:t,onChange:n,className:`${t?"bg-blue-wine-500 dark:bg-blue-wine-500 hover:bg-blue-wine-600":"bg-slate-200 hover:bg-slate-300 dark:bg-gray-900 dark:hover:bg-gray-900/80"} relative inline-flex h-10 w-full rounded-full transition-colors duration-100`},a.createElement("span",{className:`${t?"translate-x-full":"translate-x-0"} inline-flex h-full w-1/2 items-center p-1 transition ease-in-out  `},a.createElement("p",{className:`flex w-full items-center justify-center gap-x-1 rounded-full bg-white py-1 ${t?" dark:bg-blue-wine-light-3":"dark:bg-gray-700"}`},t?"Ja":"Nei"))))}),a.createElement(Fe,{error:r.error}))},Li=e=>{const{fieldState:r}=be({...e});return a.createElement("div",null,a.createElement("label",{className:"label",htmlFor:e.name},e.label),a.createElement(ke,{...e,render:({field:{onChange:t,value:n}})=>a.createElement(oa,{hereafter:e.hereafter,onChange:t,value:n,text:e.text})}),a.createElement(Fe,{error:r.error}))},Oi=({value:e,onChange:r,min:t,max:n,error:o})=>{var b;const[i,u]=y.exports.useState(""),[s,p]=y.exports.useState(null),c=m=>{if(m.code==="Enter"||m.code==="Comma"){m.preventDefault();const v=i.trim();if(v.length<t){p(`Verdien m\xE5 minst v\xE6re p\xE5 ${t} bokstaver.`);return}else if(e!=null&&e.some(w=>w.toLowerCase()===v.toLowerCase())){p("Verdien m\xE5 v\xE6re unik.");return}if(e){if(e.length>=n){p(`Listen kan max ha en lengde p\xE5 ${n}.`);return}r([...e,v])}else r([v]);p(null),u("")}},g=m=>{var v;r((v=e==null?void 0:e.filter(w=>w!==m))!=null?v:[])};return a.createElement("div",null,e&&a.createElement("ul",{className:"i-flex-row mb-1.5 flex-wrap gap-y-2"},e.map((m,v)=>a.createElement("li",{className:`bg-blue-wine-300 dark:bg-blue-wine-500 i-flex-row cursor-pointer rounded-full py-1
                px-3 text-sm font-medium text-white hover:opacity-70 ${(o==null?void 0:o.types)&&Object.values(o.types).some(w=>{if(!w)return!1;const L=w.toString(),U=L.slice(L.indexOf("'")+1,L.lastIndexOf("'"));return U===m?U:!1})?"bg-wine-400 animate-pulse":""}`,onClick:()=>g(m),key:v},m,a.createElement(la,{size:"1.1rem"})))),a.createElement("div",{className:"relative"},a.createElement("input",{placeholder:"trykk enter eller komma for \xE5 legge til verdi til listen",value:i,onChange:m=>{u(m.target.value),p(null)},autoComplete:"off",type:"text",onKeyDown:m=>c(m),className:`text-input ${s||(o==null?void 0:o.types)?"border-wine-200 bg-wine-25 text-wine-900 placeholder:text-transparent":""}`}),s&&a.createElement("em",{className:"text-wine-500 dark:text-wine-300 block text-sm italic"},s),a.createElement("small",{className:"text-muted absolute right-0 -bottom-2/4 z-0 text-xs"},`${(b=e==null?void 0:e.length)!=null?b:0}/${n}`)))},Gr=e=>{const{fieldState:r}=be({...e});return a.createElement("div",null,a.createElement("label",{className:"label",htmlFor:e.name},e.label),a.createElement(ke,{...e,render:({field:{ref:t,...n}})=>a.createElement(Oi,{...n,min:e.min,max:e.max,error:r.error})}),a.createElement(Fe,{error:r.error}))};var Xr=function(e,r,t){if(e&&"reportValidity"in e){var n=E(t,r);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},Vn=function(e,r){var t=function(o){var i=r.fields[o];i&&i.ref&&"reportValidity"in i.ref?Xr(i.ref,o,e):i.refs&&i.refs.forEach(function(u){return Xr(u,o,e)})};for(var n in r.fields)t(n)},Ci=function(e,r){r.shouldUseNativeValidation&&Vn(e,r);var t={};for(var n in e){var o=E(r.fields,n);Z(t,n,Object.assign(e[n],{ref:o&&o.ref}))}return t},Si=function(e,r){for(var t={};e.length;){var n=e[0],o=n.code,i=n.message,u=n.path.join(".");if(!t[u])if("unionErrors"in n){var s=n.unionErrors[0].errors[0];t[u]={message:s.message,type:s.code}}else t[u]={message:i,type:o};if("unionErrors"in n&&n.unionErrors.forEach(function(g){return g.errors.forEach(function(b){return e.push(b)})}),r){var p=t[u].types,c=p&&p[n.code];t[u]=xn(u,r,t,o,c?[].concat(c,n.message):n.message)}e.shift()}return t},Ri=function(e,r,t){return t===void 0&&(t={}),function(n,o,i){try{return Promise.resolve(function(u,s){try{var p=Promise.resolve(e[t.mode==="sync"?"parse":"parseAsync"](n,r)).then(function(c){return i.shouldUseNativeValidation&&Vn({},i),{errors:{},values:t.rawValues?n:c}})}catch(c){return s(c)}return p&&p.then?p.then(void 0,s):p}(0,function(u){return{values:{},errors:u.isEmpty?{}:Ci(Si(u.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)}}))}catch(u){return Promise.reject(u)}}};const Pi=["name","type","volume","price","storagePotential","region","subRegion","year","alcoholContent","manufacturerName","country","file"],Ti=["freshness","fullness","bitterness","sweetness","tannins","grapes","colour","recommendedFood","odour","taste"],ji=["quantity","purchaseDate","drinkingWindowMin","drinkingWindowMax","purchaseLocation","userNote","favorite","score","userRating"],Jr=[Pi,Ti,ji],Ii=["Vindetaljer","Smaksdetaljer","Brukerdetaljer"],Zt={hide:{opacity:0,translateY:-8,transition:{duration:.2,ease:"linear"}},show:{opacity:1,translateY:0,transition:{duration:.2,ease:"linear"}}},qi=({onSubmit:e,serverErrors:r,wine:t,setDeleteModalIsOpen:n})=>{const{data:o,...i}=sa(),[u,s]=y.exports.useState(!1),[p,c]=y.exports.useState(!1),[g,b]=y.exports.useState(0),{handleSubmit:m,control:v,reset:w,setError:L,watch:U,getValues:T,setValue:M,formState:{isSubmitting:N,errors:O,isValid:D}}=bo({mode:"all",defaultValues:Nr,shouldUseNativeValidation:!1,resolver:Ri(wo)}),Y=U("file",null);y.exports.useEffect(()=>{if(!!r)for(const[R,K]of Object.entries(r))if(R in Nr||R.includes("userDetails.")){let _=R;if(_.includes("userDetails.")){const S=_.charAt(_.indexOf(".")+1);_="userDetails."+S.toLowerCase()+_.split(`.${S}`)[1]}L(_,{types:{...K}})}else console.log({key:R,value:K}),qn.error("Ukjent error!")},[r,L]),y.exports.useEffect(()=>{if(!t)return;const R={...t,userDetails:{...t.userDetails,purchaseDate:t.userDetails.purchaseDate?new Date(t.userDetails.purchaseDate):null}};w(R)},[t,w]);const j=(R,K=!1)=>{const _=K?O.userDetails:O;if(!_||Object.keys(_).length===0)return 0;let S=0;return R.forEach(B=>_.hasOwnProperty(B)?S+=1:null),S},P=async R=>{var S,B;if(!o){await e(R);return}const K=((B=(S=o==null?void 0:o.find(V=>{var z,se;return((z=V.country)==null?void 0:z.toLowerCase())===((se=R.country)==null?void 0:se.toLowerCase())}))==null?void 0:S.countryId)==null?void 0:B.toLowerCase())||null,_={...R,countryId:K};await e(_)};return a.createElement(a.Fragment,null,a.createElement(Fi,{setIsOpen:s,isOpen:u,getValues:T}),a.createElement(ua,{setIsOpen:c,productId:t==null?void 0:t.productId,isOpen:p,setValues:w,getValues:T,setValue:M}),a.createElement("div",{className:"block-less-muted mt-6 rounded-lg p-4 md:p-8 "},a.createElement(Oe.Group,{selectedIndex:g,onChange:b},a.createElement("div",{className:"mb-6 flex flex-col items-start justify-between gap-x-2 gap-y-4 lg:flex-row lg:items-center"},a.createElement(Oe.List,{className:"xts:flex-row inline-flex w-full max-w-lg flex-col gap-x-1 gap-y-2"},Ii.map((R,K)=>a.createElement(Oe,{key:K,className:({selected:_})=>`relative rounded-t flex-1 border dark:border-gray-700 focus:outline-none focus:ring-0 md:px-8 px-4 py-4 text-sm select-none font-medium ${_?" text-wine-500 border-b-wine-500 dark:text-white bg-white dark:bg-gray-700/80 border-b-2 dark:border-b-wine-500":"text-gray-700 hover:border-gray-300 dark:bg-gray-800/70 bg-white dark:text-gray-300 dark:hover:text-gray-200 dark:hover:border-gray-600 dark:hover:bg-gray-800/60 hover:text-black "}`},!!j(Jr[K],K===2)&&a.createElement("div",{className:"text-wine-400 dark:text-wine-300 pointer-events-none absolute -top-4 left-0 w-full animate-bounce"},a.createElement("div",{className:"border-wine-400 inline-flex flex-row items-center justify-center gap-x-1 rounded bg-slate-200/40 py-2 px-4 backdrop-blur-sm dark:bg-gray-800/40"},a.createElement(ha,{size:"1.5rem",weight:"duotone"}),j(Jr[K],K===2))),R))),a.createElement("button",{onClick:()=>c(!0),className:"btn-secondary xs:w-auto flex h-12 w-full flex-row items-center justify-center gap-x-2 rounded-full"},a.createElement(ma,{size:"1.5rem"}),"Hent fra Vinmonopolet")),a.createElement("div",{className:"relative my-6 border-t border-slate-200 dark:border-gray-700"},T("productId")&&a.createElement("span",{className:"dark:bg-gray-950 bg-slate-25 absolute right-4 -top-3 px-1 text-sm text-slate-400"},a.createElement("span",{className:"select-none"},"produktId: "),T("productId"))),a.createElement("form",{autoComplete:"off",onSubmit:m(R=>P(R))},a.createElement(Oe.Panels,null,a.createElement(na,{initial:!1},a.createElement(Oe.Panel,{key:0,as:Wt.div,initial:"hide",animate:"show",variants:Zt,className:"flex flex-col gap-y-4 sm:gap-y-6 lg:gap-y-8"},a.createElement("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2"},a.createElement(ae,{required:!0,control:v,name:"name",label:"Navn",placeholder:"navn p\xE5 vin"}),a.createElement(ae,{control:v,name:"storagePotential",label:"Lagringsgrad",placeholder:"lagringsgrad"})),a.createElement("div",{className:"flex-row items-center gap-4 md:flex"},a.createElement(Ai,{file:Y,wine:{pictureUrl:t==null?void 0:t.pictureUrl,imageByUser:t==null?void 0:t.imageByUser,productId:t==null?void 0:t.productId},productId:T("productId"),name:"resetImage",control:v}),a.createElement("div",{className:"grid flex-1 grid-cols-1 gap-4 sm:grid-cols-2 sm:gap-y-6 lg:grid-cols-3 lg:gap-y-8"},a.createElement(ae,{required:!0,control:v,name:"type",label:"Type",placeholder:"Vintype"}),a.createElement(Kt,{control:v,minValue:0,maxValue:3e3,dropDownMinValue:new Date().getFullYear()-10,dropDownMaxValue:new Date().getFullYear()+1,name:"year",label:"\xC5rgang",placeholder:"\xE5rgang"}),a.createElement(ae,{control:v,name:"volume",label:"Volum",numeric:!0,maxLength:10,definition:"liter",placeholder:"volum"}),a.createElement(ae,{control:v,name:"price",numeric:!0,maxLength:10,label:"Pris",definition:"kr",placeholder:"pris"}),a.createElement(ae,{control:v,name:"alcoholContent",numeric:!0,maxLength:10,label:"Alkoholdinnhold",definition:"%",placeholder:"alkoholinnhold"}),a.createElement(ae,{control:v,name:"manufacturerName",label:"Produsent",placeholder:"produsent"}),i.isLoading?a.createElement("div",{className:"flex flex-col items-center justify-center space-x-4"},a.createElement(Zn,{height:"2rem",width:"2.5rem",className:"mx-4",fill:"gray"}),a.createElement("span",{className:"text-sm text-slate-500"},"Laster land...")):a.createElement(a.Fragment,null,o?a.createElement(xo,{name:"country",label:"Land",control:v,list:o}):a.createElement(ae,{control:v,name:"country",label:"Land",placeholder:"land"})),a.createElement(ae,{control:v,name:"region",label:"Distrikt",placeholder:"distrikt"}),a.createElement(ae,{control:v,name:"subRegion",label:"Underdistrikt",placeholder:"underdistrikt"}))),a.createElement("div",null,a.createElement(ki,{name:"file",label:"Velg bilde",control:v}))),a.createElement(Oe.Panel,{as:Wt.div,key:1,initial:"hide",animate:"show",variants:Zt,className:"flex flex-col gap-y-4 sm:gap-y-6 lg:gap-y-8"},a.createElement("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5"},a.createElement(Je,{control:v,name:"freshness",type:"freshness",label:"Ferskhet"}),a.createElement(Je,{label:"Fylde",type:"fullness",name:"fullness",control:v}),a.createElement(Je,{label:"Bitterhet",type:"bitterness",name:"bitterness",control:v}),a.createElement(Je,{label:"S\xF8dme",type:"sweetness",name:"sweetness",control:v}),a.createElement(Je,{label:"Tanninsk",type:"tannins",name:"tannins",control:v})),a.createElement(Gr,{label:"Passer til",min:3,max:12,name:"recommendedFood",control:v}),a.createElement(Gr,{label:"R\xE5stoff",min:5,max:12,name:"grapes",control:v}),a.createElement("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2"},a.createElement(ae,{textarea:!0,rows:4,maxLength:500,control:v,name:"colour",label:"Farge",placeholder:"farge"}),a.createElement(ae,{textarea:!0,rows:4,maxLength:500,control:v,name:"odour",label:"Duft",placeholder:"duft"})),a.createElement(ae,{textarea:!0,rows:4,maxLength:500,control:v,name:"taste",label:"Smak",placeholder:"smak"})),a.createElement(Oe.Panel,{as:Wt.div,key:2,initial:"hide",animate:"show",variants:Zt,className:"flex flex-col gap-y-4 sm:gap-y-6 lg:gap-y-8"},a.createElement("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2"},a.createElement(ae,{control:v,name:"userDetails.quantity",label:"Antall",numeric:!0,maxLength:4,placeholder:"antall"}),a.createElement(ae,{control:v,name:"userDetails.purchaseLocation",label:"Kj\xF8pested",placeholder:"kj\xF8pested"})),a.createElement("div",{className:"grid grid-cols-1 gap-4 gap-y-4 sm:grid-cols-2 sm:gap-y-6 lg:grid-cols-3 lg:gap-y-8"},a.createElement(ae,{control:v,name:"userDetails.score",numeric:!0,maxLength:3,label:"Karakter (50-100)",placeholder:"karakter"}),a.createElement(Kt,{control:v,minValue:0,maxValue:3e3,dropDownMinValue:new Date().getFullYear()-5,dropDownMaxValue:new Date().getFullYear()+5,name:"userDetails.drinkingWindowMin",label:"Drikkevindu (fra)",placeholder:"\xE5r fra"}),a.createElement(Kt,{control:v,minValue:0,maxValue:3e3,dropDownMinValue:new Date().getFullYear()-5,dropDownMaxValue:new Date().getFullYear()+10,name:"userDetails.drinkingWindowMax",label:"Drikkevindu (til)",placeholder:"\xE5r til"}),a.createElement(_i,{control:v,name:"userDetails.favorite",label:"Favoritt"}),a.createElement(Di,{control:v,name:"userDetails.userRating",label:"Din vurdering"}),a.createElement(Li,{control:v,name:"userDetails.purchaseDate",label:"Dato kj\xF8pt",text:"Velg dato",hereafter:!1})),a.createElement(ae,{textarea:!0,rows:5,maxLength:500,control:v,name:"userDetails.userNote",label:"Dine notater",placeholder:"notater"})))),a.createElement("div",{className:"my-6 border-t border-slate-200 dark:border-gray-700"}),a.createElement("div",{className:"flex flex-col gap-y-4 gap-x-2 sm:grid sm:grid-cols-2 md:flex md:flex-row"},a.createElement(Yn,{className:"btn-white i-flex-row disabled-btn w-auto justify-center rounded-full px-5",to:-1},a.createElement(Gn,{size:"1.5rem"}),"Avbryt"),a.createElement("button",{className:"btn-white i-flex-row disabled-btn w-auto justify-center rounded-full px-5",disabled:!D,type:"button",onClick:()=>s(!0)},a.createElement(xa,{size:"1.5rem"}),"Forh\xE5ndsvis"),a.createElement("i",{className:"hidden flex-1 md:block"}),n&&a.createElement(Dr,{isPrimary:!1,disabled:N,type:"button",className:"i-flex-row disabled-btn w-auto justify-center rounded-full px-5",onClick:()=>n(!0)},a.createElement(ca,{size:"1.5rem"}),"Slett"),a.createElement(Dr,{disabled:!D,loading:N,className:`justify-center ${t?"":"col-span-2"}`,loadingText:t?"Oppdaterer vin...":"Legger til vin...",type:"submit"},t?a.createElement(da,{size:"1.5rem"}):a.createElement(Xn,{size:"1.5rem"}),t?"Lagre endringer":"Legg til"))))))};export{qi as C};
