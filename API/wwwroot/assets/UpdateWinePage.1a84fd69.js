import{k as f,r as l,aN as g,R as e,au as S,S as v,w,E as x}from"./index.0af769d6.js";import{T as O}from"./Title.50255c60.js";import{C as h}from"./CreateOrUpdate.3ad7a2a8.js";import{u as k}from"./useFetchSingleWine.5abb1bd0.js";import{P as I,D as N}from"./DeleteWineModal.777c3d2e.js";import"./PlusCircle.esm.f32a2fd9.js";import"./vinmonopolet.70217cca.js";import"./Check.esm.e5c01eef.js";import"./DatePicker.b11d9df1.js";import"./Score.45e3327b.js";import"./Time.f353a048.js";import"./index.12e70f9d.js";import"./VinmonopoletModal.8da49849.js";import"./Trash.esm.06623f90.js";import"./FloppyDisk.esm.d10c7ae1.js";const H=()=>{const m=f(),{wine:n,id:r,status:a}=k(),[p,o]=l.exports.useState(!1),[c]=g(),[u,d]=l.exports.useState(null);if(r){if(a.isLoading)return e.createElement(v,{text:"Laster..."});if(a.isError)return e.createElement(w,{message:`Kunne ikke finne vinen med id: ${r}`})}else return e.createElement(S,null);const E=async s=>{console.log(s),await c({id:r,data:s}).unwrap().then(()=>{x.success("Oppdaterte vin!"),m(-1)}).catch(t=>{var i;console.error("Update wine error",t),(i=t==null?void 0:t.data)!=null&&i.errors&&d(t.data.errors)})};return e.createElement("div",null,e.createElement(O,{title:"Rediger Vin",border:!0,Icon:I},e.createElement("p",null,"Trykk p\xE5",e.createElement("strong",{className:"mx-1"},"Hent fra Vinmonopolet"),"for \xE5 hente vininformasjon fra Vinmonopolet.")),a.isSuccess&&n&&e.createElement(e.Fragment,null,e.createElement(h,{setDeleteModalIsOpen:o,onSubmit:E,wine:n,serverErrors:u}),e.createElement(N,{isOpen:p,shouldNavigate:!0,setIsOpen:o,wineToDelete:{id:n.wineId,name:n.name}})))};export{H as default};
