import{R as e,r as o,I as H,a as w,aH as D,E as W}from"./index.17c2ccaa.js";import{L as C,M as $}from"./vinmonopolet.91dfde03.js";import{m as I}from"./index.12e70f9d.js";import{j as y,C as q}from"./Check.esm.6c9fee71.js";var l=new Map;l.set("bold",function(t){return e.createElement(e.Fragment,null,e.createElement("polyline",{points:"86 110 128 152 170 110",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),e.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"152",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),e.createElement("path",{d:"M216,152v56a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V152",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});l.set("duotone",function(t){return e.createElement(e.Fragment,null,e.createElement("polyline",{points:"86 110 128 152 170 110",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),e.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"152",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),e.createElement("path",{d:"M216,152v56a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V152",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});l.set("fill",function(){return e.createElement(e.Fragment,null,e.createElement("path",{d:"M80.3,115.7a8.2,8.2,0,0,1-1.7-8.7,8,8,0,0,1,7.4-5h34V40a8,8,0,0,1,16,0v62h34a8,8,0,0,1,7.4,5,8.2,8.2,0,0,1-1.7,8.7l-42,42a8.2,8.2,0,0,1-11.4,0ZM216,144a8,8,0,0,0-8,8v56H48V152a8,8,0,0,0-16,0v56a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V152A8,8,0,0,0,216,144Z"}))});l.set("light",function(t){return e.createElement(e.Fragment,null,e.createElement("polyline",{points:"86 110 128 152 170 110",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),e.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"152",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),e.createElement("path",{d:"M216,152v56a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V152",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});l.set("thin",function(t){return e.createElement(e.Fragment,null,e.createElement("polyline",{points:"86 110 128 152 170 110",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),e.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"152",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),e.createElement("path",{d:"M216,152v56a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V152",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});l.set("regular",function(t){return e.createElement(e.Fragment,null,e.createElement("polyline",{points:"86 110 128 152 170 110",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),e.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"152",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),e.createElement("path",{d:"M216,152v56a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V152",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var z=function(r,i){return w(r,i,l)},M=o.exports.forwardRef(function(t,r){return e.createElement(H,Object.assign({ref:r},t,{renderPath:z}))});M.displayName="DownloadSimple";const A=M;var s=new Map;s.set("bold",function(t){return e.createElement(e.Fragment,null,e.createElement("line",{x1:"80",y1:"128",x2:"176",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),e.createElement("path",{d:"M104,176H64a48,48,0,0,1,0-96h40",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),e.createElement("path",{d:"M152,176h40a48,48,0,0,0,0-96H152",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});s.set("duotone",function(t){return e.createElement(e.Fragment,null,e.createElement("line",{x1:"80",y1:"128",x2:"176",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),e.createElement("path",{d:"M104,176H64a48,48,0,0,1,0-96h40",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),e.createElement("path",{d:"M152,176h40a48,48,0,0,0,0-96H152",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});s.set("fill",function(){return e.createElement(e.Fragment,null,e.createElement("path",{d:"M72,128a8,8,0,0,0,8,8h96a8,8,0,0,0,0-16H80A8,8,0,0,0,72,128Z"}),e.createElement("path",{d:"M104,168H64a40,40,0,0,1,0-80h40a8,8,0,0,0,0-16H64a56,56,0,0,0,0,112h40a8,8,0,0,0,0-16Z"}),e.createElement("path",{d:"M192,72H152a8,8,0,0,0,0,16h40a40,40,0,0,1,0,80H152a8,8,0,0,0,0,16h40a56,56,0,0,0,0-112Z"}))});s.set("light",function(t){return e.createElement(e.Fragment,null,e.createElement("line",{x1:"80",y1:"128",x2:"176",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),e.createElement("path",{d:"M104,176H64a48,48,0,0,1,0-96h40",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),e.createElement("path",{d:"M152,176h40a48,48,0,0,0,0-96H152",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});s.set("thin",function(t){return e.createElement(e.Fragment,null,e.createElement("line",{x1:"80",y1:"128",x2:"176",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),e.createElement("path",{d:"M104,176H64a48,48,0,0,1,0-96h40",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),e.createElement("path",{d:"M152,176h40a48,48,0,0,0,0-96H152",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});s.set("regular",function(t){return e.createElement(e.Fragment,null,e.createElement("line",{x1:"80",y1:"128",x2:"176",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),e.createElement("path",{d:"M104,176H64a48,48,0,0,1,0-96h40",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),e.createElement("path",{d:"M152,176h40a48,48,0,0,0,0-96H152",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var R=function(r,i){return w(r,i,s)},V=o.exports.forwardRef(function(t,r){return e.createElement(H,Object.assign({ref:r},t,{renderPath:R}))});V.displayName="LinkSimpleHorizontal";const Z=V,B=D.injectEndpoints({endpoints:t=>({getVinmonopoletCountries:t.query({query:()=>"vinmonopolet/countries"}),getVinmonopoletWine:t.query({query:r=>`vinmonopolet/${r}`})})}),{useGetVinmonopoletCountriesQuery:Y,useGetVinmonopoletWineQuery:K}=B,G=t=>t?/^\d+$/.test(t):!1,_=I.string({required_error:"Varenummer/link kan ikke v\xE6re tom."}).trim().min(2,"Varenummer/link m\xE5 minst ha 2 bokstaver.").transform(t=>t.includes("vinmonopolet.no/")&&t.includes("/p/")?t.split("/p/")[1]:t).refine(G,{message:"Varenummer/link er ugyldig!"}),Q=[{value:1,title:"Alle verdier",description:"Henter og erstatter alle verdier"},{value:2,title:"Kun pris",description:"Erstatter kun verdien til pris"},{value:3,title:"Ignorer brukerdetaljer",description:"Henter og erstatter alle verdier untatt brukerdetaljer"}],T=({setValues:t,productId:r,setIsOpen:i,setValue:d,getValues:c,isWishlist:m})=>{const[h,f]=o.exports.useState(!0),[F,N]=o.exports.useState(""),{data:u,...a}=K(F,{skip:h}),[E,x]=o.exports.useState(r||""),[L,v]=o.exports.useState(null),[g,S]=o.exports.useState(1);o.exports.useEffect(()=>{var n;if(a.isError&&a.error&&"data"in a.error){const p=(n=a.error.data.title)!=null?n:"Kunne ikke hente data fra vinmonopolet.";v(p),W.error(p),x(""),f(!0)}},[a.isError,a.error]);const b=o.exports.useCallback(n=>{if(m)t(n);else if(d&&c)switch(g){case 1:t(n);break;case 2:d("price",n.price);break;case 3:const{userDetails:k,...p}=n;t({...p,userDetails:c("userDetails")});break;default:t(n);break}},[c,g,m,d,t]);o.exports.useEffect(()=>{if(u&&a.isSuccess){const n={...u,file:null,resetImage:!1,userDetails:{...u.userDetails,purchaseDate:null}};W.success(`Hentet ${u.name}`),b(n),console.log(u),f(!0),i(!1)}},[u,a.isSuccess,b,i]);const P=n=>{n.code==="Enter"&&j()},j=async()=>{const n=_.safeParse(E);n.success?(N(n.data),f(!1)):v(n.error.errors[0].message)};return e.createElement(e.Fragment,null,e.createElement("div",{className:"mb-4"},e.createElement("a",{className:"btn-secondary i-flex-row h-12 justify-center rounded-full underline",href:"https://www.vinmonopolet.no/search/?q=:relevance&searchType=product",target:"_blank",rel:"noreferrer"},e.createElement(Z,{size:"1.75rem"}),"G\xE5 til Vinmonopolet.no")),e.createElement("div",{className:"block-less-muted space-y-6 rounded-lg p-4"},e.createElement("div",null,e.createElement("label",{htmlFor:"vinmonopoletProductId",className:"label"},"Varenummer/Link"),e.createElement("input",{className:`text-input text h-12 px-3 text-lg ${L?"border-wine-500 bg-wine-25":""}`,type:"text",name:"vinmonopoletProductId",value:E,autoComplete:"off",placeholder:"Varenummer",onKeyDown:P,onChange:n=>x(n.target.value)}),L&&e.createElement("em",{className:"form-error"},L)),!m&&e.createElement(y,{className:"space-y-1",value:g,onChange:S},e.createElement(y.Label,{className:"label"},"Velg verdier"),Q.map(n=>e.createElement(y.Option,{key:n.value,value:n.value},({checked:k})=>e.createElement("div",{className:`btn-white rounded p-3 font-normal 
                ${k?"bg-blue-wine-500 active:bg-blue-wine-500 dark:bg-blue-wine-500 dark:hover:bg-blue-wine-500 border-blue-wine-500 dark:border-blue-wine-200 border text-slate-50":""} flex cursor-pointer select-none flex-row items-center gap-x-2`},e.createElement("div",{className:"flex-1"},e.createElement("p",{className:"font-medium"},n.title),e.createElement("p",{className:"text-sm font-normal opacity-60"},n.description)),k&&e.createElement("div",{className:"rounded-full border-2 border-white p-0.5"},e.createElement(q,{size:"1.2rem",weight:"bold"})))))),e.createElement(C,{loadingText:"Henter vin...",disabled:E.length<2,loading:a.isLoading,onClick:j,className:"h-12 w-full justify-center rounded-full"},e.createElement(A,{size:"1.5rem"}),"Hent vin")))},ee=({isOpen:t,setIsOpen:r,setValues:i,setValue:d,getValues:c,productId:m,isWishlist:h=!1})=>e.createElement($,{title:"Hent vin fra Vinmonopolet",description:"Fyll inn varenummer eller link fra Vinmonopolet",isOpen:t,setIsOpen:r,xl:!0},e.createElement(T,{setIsOpen:r,setValue:d,getValues:c,productId:m,isWishlist:h,setValues:i}));export{ee as V,Y as u};
