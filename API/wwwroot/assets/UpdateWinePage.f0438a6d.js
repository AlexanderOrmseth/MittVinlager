import{j as r,F as o,a as e,r as l,I as y,b as W,i as j,aL as g,as as v,E as M}from"./index.57bc95c5.js";import{S}from"./Spinner.c39aca91.js";import{T as w}from"./Title.6637844d.js";import{C as H}from"./CreateOrUpdate.dcb6b418.js";import{u as E}from"./useFetchSingleWine.5297a137.js";import{E as V}from"./ErrorBox.31aa4503.js";import{D as I}from"./DeleteWineModal.62c229e6.js";import"./switch.32fa0799.js";import"./vinmonopolet.d46070d2.js";import"./radio-group.f6f390ad.js";import"./DatePicker.6ac16d0c.js";import"./Score.1e624618.js";import"./Time.6ef7f1df.js";import"./index.07dfb635.js";import"./VinmonopoletModal.bb92edb7.js";import"./Link.esm.6f67bc97.js";import"./Trash.esm.8068837d.js";var i=new Map;i.set("bold",function(n){return r(o,{children:[e("path",{d:"M96,216H48a8,8,0,0,1-8-8V163.3a7.9,7.9,0,0,1,2.3-5.6l120-120a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,1,0,11.4Z",fill:"none",stroke:n,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),e("line",{x1:"136",y1:"64",x2:"192",y2:"120",fill:"none",stroke:n,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),e("line",{x1:"216",y1:"216",x2:"96",y2:"216",fill:"none",stroke:n,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"})]})});i.set("duotone",function(n){return r(o,{children:[e("path",{d:"M192,120,136,64l26.3-26.3a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,1,0,11.4Z",opacity:"0.2"}),e("path",{d:"M96,216H48a8,8,0,0,1-8-8V163.3a7.9,7.9,0,0,1,2.3-5.6l120-120a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,1,0,11.4Z",fill:"none",stroke:n,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),e("line",{x1:"136",y1:"64",x2:"192",y2:"120",fill:"none",stroke:n,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),e("line",{x1:"216",y1:"216",x2:"96",y2:"216",fill:"none",stroke:n,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"})]})});i.set("fill",function(){return e(o,{children:e("path",{d:"M216,208H115.3l82.4-82.3h0L224,99.3a15.9,15.9,0,0,0,0-22.6L179.3,32a16.1,16.1,0,0,0-22.6,0L36.7,152A15.9,15.9,0,0,0,32,163.3V208a16,16,0,0,0,16,16H216a8,8,0,0,0,0-16ZM48,163.3l96-96L188.7,112l-96,96H48Z"})})});i.set("light",function(n){return r(o,{children:[e("path",{d:"M96,216H48a8,8,0,0,1-8-8V163.3a7.9,7.9,0,0,1,2.3-5.6l120-120a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,1,0,11.4Z",fill:"none",stroke:n,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),e("line",{x1:"136",y1:"64",x2:"192",y2:"120",fill:"none",stroke:n,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),e("line",{x1:"216",y1:"216",x2:"96",y2:"216",fill:"none",stroke:n,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"})]})});i.set("thin",function(n){return r(o,{children:[e("path",{d:"M96,216H48a8,8,0,0,1-8-8V163.3a7.9,7.9,0,0,1,2.3-5.6l120-120a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,1,0,11.4Z",fill:"none",stroke:n,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),e("line",{x1:"136",y1:"64",x2:"192",y2:"120",fill:"none",stroke:n,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),e("line",{x1:"216",y1:"216",x2:"96",y2:"216",fill:"none",stroke:n,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"})]})});i.set("regular",function(n){return r(o,{children:[e("path",{d:"M96,216H48a8,8,0,0,1-8-8V163.3a7.9,7.9,0,0,1,2.3-5.6l120-120a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,1,0,11.4Z",fill:"none",stroke:n,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),e("line",{x1:"216",y1:"216",x2:"96",y2:"216",fill:"none",stroke:n,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),e("line",{x1:"136",y1:"64",x2:"192",y2:"120",fill:"none",stroke:n,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"})]})});var P=function(t,s){return W(t,s,i)},k=l.exports.forwardRef(function(n,t){return e(y,{...Object.assign({ref:t},n,{renderPath:P})})});k.displayName="PencilSimpleLine";const Z=k,Q=()=>{const n=j(),{wine:t,id:s,status:d}=E(),[c,u]=l.exports.useState(!1),[h]=g(),[f,L]=l.exports.useState(null);if(s){if(d.isLoading)return e(S,{text:"Laster..."});if(d.isError)return e(V,{message:`Kunne ikke finne vinen med id: ${s}`})}else return e(v,{});const m=async x=>{if(!s){console.log("Id was undefined or null");return}await h({id:s,data:x}).unwrap().then(()=>{M.success("Oppdaterte vin!",{position:"bottom-right"}),n(-1)}).catch(a=>{var p;if(console.error("Update wine error",a),(p=a==null?void 0:a.data)!=null&&p.errors){L(a.data.errors);return}console.error("Update wine error",a)})};return r("div",{children:[e(w,{title:"Rediger Vin",border:!0,Icon:Z,children:e("p",{children:'Her kan du legge til vin. Trykk p\xE5 "Hent fra Vinmonopolet" knappen for \xE5 hente vin fra Vinmonopolet.no.'})}),d.isSuccess&&t&&r(o,{children:[e(H,{setDeleteModalIsOpen:u,onSubmit:m,wine:t,serverErrors:f}),e(I,{isOpen:c,shouldNavigate:!0,setIsOpen:u,wineToDelete:{id:t.wineId,name:t.name}})]})]})};export{Q as default};
