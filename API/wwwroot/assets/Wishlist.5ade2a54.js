import{R as e,r as u,I as h,a as L,aB as y}from"./index.a6714b1f.js";import{I as E}from"./InfoBox.fae141ba.js";import{S as x}from"./Spinner.856c3ab4.js";import{V as f}from"./VinmonopoletModal.8b55deef.js";import{T as W}from"./Title.f2b24be4.js";import{W as g}from"./WineListItem.28d98650.js";import{d as j,b as m,a as k,v,L as b}from"./vinmonopolet.14fbe23b.js";import{T as I}from"./Trash.esm.6fc117c9.js";import"./Info.esm.41945937.js";import"./Link.esm.53893658.js";import"./radio-group.389c2a8c.js";var s=new Map;s.set("bold",function(t){return e.createElement(e.Fragment,null,e.createElement("path",{d:"M138.7,175.5l-19.2,52.1a8,8,0,0,1-15,0L85.3,175.5a8.1,8.1,0,0,0-4.8-4.8L28.4,151.5a8,8,0,0,1,0-15l52.1-19.2a8.1,8.1,0,0,0,4.8-4.8l19.2-52.1a8,8,0,0,1,15,0l19.2,52.1a8.1,8.1,0,0,0,4.8,4.8l52.1,19.2a8,8,0,0,1,0,15l-52.1,19.2A8.1,8.1,0,0,0,138.7,175.5Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),e.createElement("line",{x1:"176",y1:"16",x2:"176",y2:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),e.createElement("line",{x1:"200",y1:"40",x2:"152",y2:"40",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),e.createElement("line",{x1:"224",y1:"72",x2:"224",y2:"104",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),e.createElement("line",{x1:"240",y1:"88",x2:"208",y2:"88",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});s.set("duotone",function(t){return e.createElement(e.Fragment,null,e.createElement("path",{d:"M138.7,175.5l-19.2,52.1a8,8,0,0,1-15,0L85.3,175.5a8.1,8.1,0,0,0-4.8-4.8L28.4,151.5a8,8,0,0,1,0-15l52.1-19.2a8.1,8.1,0,0,0,4.8-4.8l19.2-52.1a8,8,0,0,1,15,0l19.2,52.1a8.1,8.1,0,0,0,4.8,4.8l52.1,19.2a8,8,0,0,1,0,15l-52.1,19.2A8.1,8.1,0,0,0,138.7,175.5Z",opacity:"0.2"}),e.createElement("path",{d:"M138.7,175.5l-19.2,52.1a8,8,0,0,1-15,0L85.3,175.5a8.1,8.1,0,0,0-4.8-4.8L28.4,151.5a8,8,0,0,1,0-15l52.1-19.2a8.1,8.1,0,0,0,4.8-4.8l19.2-52.1a8,8,0,0,1,15,0l19.2,52.1a8.1,8.1,0,0,0,4.8,4.8l52.1,19.2a8,8,0,0,1,0,15l-52.1,19.2A8.1,8.1,0,0,0,138.7,175.5Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),e.createElement("line",{x1:"176",y1:"16",x2:"176",y2:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),e.createElement("line",{x1:"200",y1:"40",x2:"152",y2:"40",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),e.createElement("line",{x1:"224",y1:"72",x2:"224",y2:"104",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),e.createElement("line",{x1:"240",y1:"88",x2:"208",y2:"88",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});s.set("fill",function(){return e.createElement(e.Fragment,null,e.createElement("path",{d:"M208.9,144a15.8,15.8,0,0,1-10.5,15l-52.2,19.2L127,230.4a16,16,0,0,1-30,0L77.8,178.2,25.6,159a16,16,0,0,1,0-30l52.2-19.2L97,57.6a16,16,0,0,1,30,0l19.2,52.2L198.4,129A15.8,15.8,0,0,1,208.9,144ZM152,48h16V64a8,8,0,0,0,16,0V48h16a8,8,0,0,0,0-16H184V16a8,8,0,0,0-16,0V32H152a8,8,0,0,0,0,16Zm88,32h-8V72a8,8,0,0,0-16,0v8h-8a8,8,0,0,0,0,16h8v8a8,8,0,0,0,16,0V96h8a8,8,0,0,0,0-16Z"}))});s.set("light",function(t){return e.createElement(e.Fragment,null,e.createElement("path",{d:"M138.7,175.5l-19.2,52.1a8,8,0,0,1-15,0L85.3,175.5a8.1,8.1,0,0,0-4.8-4.8L28.4,151.5a8,8,0,0,1,0-15l52.1-19.2a8.1,8.1,0,0,0,4.8-4.8l19.2-52.1a8,8,0,0,1,15,0l19.2,52.1a8.1,8.1,0,0,0,4.8,4.8l52.1,19.2a8,8,0,0,1,0,15l-52.1,19.2A8.1,8.1,0,0,0,138.7,175.5Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),e.createElement("line",{x1:"176",y1:"16",x2:"176",y2:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),e.createElement("line",{x1:"200",y1:"40",x2:"152",y2:"40",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),e.createElement("line",{x1:"224",y1:"72",x2:"224",y2:"104",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),e.createElement("line",{x1:"240",y1:"88",x2:"208",y2:"88",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});s.set("thin",function(t){return e.createElement(e.Fragment,null,e.createElement("path",{d:"M138.7,175.5l-19.2,52.1a8,8,0,0,1-15,0L85.3,175.5a8.1,8.1,0,0,0-4.8-4.8L28.4,151.5a8,8,0,0,1,0-15l52.1-19.2a8.1,8.1,0,0,0,4.8-4.8l19.2-52.1a8,8,0,0,1,15,0l19.2,52.1a8.1,8.1,0,0,0,4.8,4.8l52.1,19.2a8,8,0,0,1,0,15l-52.1,19.2A8.1,8.1,0,0,0,138.7,175.5Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),e.createElement("line",{x1:"176",y1:"16",x2:"176",y2:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),e.createElement("line",{x1:"200",y1:"40",x2:"152",y2:"40",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),e.createElement("line",{x1:"224",y1:"72",x2:"224",y2:"104",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),e.createElement("line",{x1:"240",y1:"88",x2:"208",y2:"88",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});s.set("regular",function(t){return e.createElement(e.Fragment,null,e.createElement("path",{d:"M138.7,175.5l-19.2,52.1a8,8,0,0,1-15,0L85.3,175.5a8.1,8.1,0,0,0-4.8-4.8L28.4,151.5a8,8,0,0,1,0-15l52.1-19.2a8.1,8.1,0,0,0,4.8-4.8l19.2-52.1a8,8,0,0,1,15,0l19.2,52.1a8.1,8.1,0,0,0,4.8,4.8l52.1,19.2a8,8,0,0,1,0,15l-52.1,19.2A8.1,8.1,0,0,0,138.7,175.5Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),e.createElement("line",{x1:"176",y1:"16",x2:"176",y2:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),e.createElement("line",{x1:"200",y1:"40",x2:"152",y2:"40",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),e.createElement("line",{x1:"224",y1:"72",x2:"224",y2:"104",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),e.createElement("line",{x1:"240",y1:"88",x2:"208",y2:"88",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var S=function(n,l){return L(n,l,s)},p=u.exports.forwardRef(function(t,n){return e.createElement(h,Object.assign({ref:n},t,{renderPath:S}))});p.displayName="Sparkle";const T=p,N=y.injectEndpoints({endpoints:t=>({getWishlist:t.query({query:()=>({url:"wishlist",method:"GET"}),providesTags:n=>n?[...n.map(({id:l})=>({type:"Wishlist",id:l})),{type:"Wishlist",id:"LIST"}]:[{type:"Wishlist",id:"LIST"}]}),deleteWishlistItem:t.mutation({query(n){return{url:`/wishlist/${n}`,method:"DELETE"}},invalidatesTags:(n,l,i)=>[{type:"Wishlist",id:i}]}),addWishlistItem:t.mutation({query(n){return{url:"/wishlist",method:"POST",body:n}},invalidatesTags:[{type:"Wishlist",id:"LIST"}]})})}),{useGetWishlistQuery:F,useAddWishlistItemMutation:M,useDeleteWishlistItemMutation:A}=N,C=({items:t})=>{const[n,{isLoading:l,isSuccess:i,isError:o}]=A(),c=async r=>{await n(r).unwrap().then(a=>console.log(a)).catch(a=>console.log(a))};return e.createElement("ul",{className:"flex-1 p-4 block-less-muted space-y-2"},t.map(r=>e.createElement(g,{key:r.id,name:r.name,pictureUrl:r.pictureUrl,externalLink:!0,to:j(r.productId)},e.createElement("div",{className:"flex-1 mb-2 text-sm flex items-center gap-2 comma"},e.createElement("p",null,r.type),r.country&&e.createElement("p",null,r.country),!!r.price&&e.createElement("p",null,m(r.price)),!!r.alcoholContent&&e.createElement("p",null,k(r.alcoholContent))),e.createElement("button",{disabled:l,onClick:()=>c(r.id),className:"btn-white flex flex-row items-center gap-x-2 py-1.5 w-auto disabled:opacity-50 disabled:cursor-not-allowed"},e.createElement(I,{size:"1.5rem",weight:"duotone",className:"text-wine-500 dark:text-wine-400"}),"Slett"))))},V=({wine:t,setWine:n})=>{const[l,{isLoading:i,isSuccess:o,isError:c}]=M();if(!t)return null;const r=async()=>{if(!t.productId)return;const a={name:t.name,productId:t.productId,type:t.type,alcoholContent:t.alcoholContent,country:t.country,price:t.price};await l(a).unwrap().then(d=>console.log(d)).catch(d=>console.error(d)),n(null)};return e.createElement("div",{className:"p-4 bg-white block-muted text-center basis-96"},e.createElement("h3",{className:"font-bold text-blue-wine-500 dark:text-blue-wine-25 mb-2"},t.name),e.createElement("img",{className:"object-scale-down mx-auto pointer-events-none select-none rounded w-36 h-36",src:v(t.productId,200),alt:`Bilde av en vin: ${t.name}`}),e.createElement("div",{className:"grid text-muted my-3 grid-cols-2 gap-2"},e.createElement("p",null,t.type),e.createElement("p",null,k(t.alcoholContent)),e.createElement("p",null,t.country),e.createElement("p",null,m(t.price))),e.createElement(b,{loading:i,disabled:!t,onClick:r,loadingText:"Legger til vin...",className:"w-full justify-center"},"Legg til"))},z=()=>{const[t,n]=u.exports.useState(!1),[l,i]=u.exports.useState(null),{data:o,isLoading:c,isSuccess:r}=F(),a=!!(o!=null&&o.length);return e.createElement(e.Fragment,null,e.createElement(f,{isWishlist:!0,setValues:i,isOpen:t,setIsOpen:n}),e.createElement("div",{className:"space-y-4"},e.createElement(W,{title:"\xD8nskeliste",Icon:T,border:!0},e.createElement("p",null,"Her kan du legge til vin i egen \xF8nskeliste. Du kan max ha 10 vin i \xF8nskelisten.")),e.createElement("button",{type:"button",onClick:()=>n(!0),disabled:c||o!=null&&(o==null?void 0:o.length)>=10,className:"btn-secondary w-full h-12 rounded-full disabled-btn"},"Hent vin"),c?e.createElement(x,{text:"Laster..."}):e.createElement(e.Fragment,null,!a&&e.createElement(E,{message:" Du har ingen vin i \xF8nskelisten. Trykk p\xE5 hent vin for \xE5 legge til en vin."}),e.createElement("div",{className:"flex gap-4 items-start flex-row"},e.createElement(V,{setWine:i,wine:l}),a&&e.createElement(C,{items:o})))))};export{z as default};
