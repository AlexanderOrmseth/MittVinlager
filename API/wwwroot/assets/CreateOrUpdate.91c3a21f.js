import{R as a,r as b,I as et,a as tt,H as pe,v as Q,z as Le,M as fe,W as Nn,ab as Mn,V as Yt,af as Wn,_ as ge,y as Ee,Q as Re,ag as Xr,ac as Jr,S as bt,U as $n,an as Un,t as mt,ah as hr,ak as ue,Y as X,Z as zn,al as Bn,am as Gt,A as $e,B as ye,D as Qr,aD as Hn,aE as Kn,aF as He,aG as Ke,a8 as Er,a0 as kr,X as qn,m as Wt,T as Zn,L as Yn,aH as Gn}from"./index.f0d72e0c.js";import{i as or,r as Ye,u as en,H as Xn,P as Jn}from"./switch.a587125a.js";import{e as Qn}from"./radio-group.67cb8a77.js";import{h as tn,s as rn,c as ea,M as ta,p as ra,v as na,A as aa,L as wr}from"./vinmonopolet.a7605b4a.js";import{T as Dr,l as Fr,t as Ar,W as oa,D as ia}from"./DatePicker.b98ad4f3.js";import{m as V,F as la}from"./index.5b1262bf.js";import{S as sa}from"./Score.8c4f5bc1.js";import{u as ua,V as ca}from"./VinmonopoletModal.4ef434d2.js";import{T as da}from"./Trash.esm.277657a0.js";var Pe=new Map;Pe.set("bold",function(e){return a.createElement(a.Fragment,null,a.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),a.createElement("polyline",{points:"144 56 216 128 144 200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Pe.set("duotone",function(e){return a.createElement(a.Fragment,null,a.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a.createElement("polyline",{points:"144 56 216 128 144 200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Pe.set("fill",function(){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M221.7,133.7l-72,72A8.3,8.3,0,0,1,144,208a8.5,8.5,0,0,1-3.1-.6A8,8,0,0,1,136,200V136H40a8,8,0,0,1,0-16h96V56a8,8,0,0,1,4.9-7.4,8.4,8.4,0,0,1,8.8,1.7l72,72A8.1,8.1,0,0,1,221.7,133.7Z"}))});Pe.set("light",function(e){return a.createElement(a.Fragment,null,a.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),a.createElement("polyline",{points:"144 56 216 128 144 200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Pe.set("thin",function(e){return a.createElement(a.Fragment,null,a.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),a.createElement("polyline",{points:"144 56 216 128 144 200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Pe.set("regular",function(e){return a.createElement(a.Fragment,null,a.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a.createElement("polyline",{points:"144 56 216 128 144 200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var fa=function(r,t){return tt(r,t,Pe)},nn=b.exports.forwardRef(function(e,r){return a.createElement(et,Object.assign({ref:r},e,{renderPath:fa}))});nn.displayName="ArrowRight";const ma=nn;var Te=new Map;Te.set("bold",function(e){return a.createElement(a.Fragment,null,a.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),a.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Te.set("duotone",function(e){return a.createElement(a.Fragment,null,a.createElement("circle",{cx:"128",cy:"128",r:"96",opacity:"0.2"}),a.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Te.set("fill",function(){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.2,104.2,0,0,0,128,24Zm49.5,85.8-58.6,56a8.1,8.1,0,0,1-5.6,2.2,7.7,7.7,0,0,1-5.5-2.2l-29.3-28a8,8,0,1,1,11-11.6l23.8,22.7,53.2-50.7a8,8,0,0,1,11,11.6Z"}))});Te.set("light",function(e){return a.createElement(a.Fragment,null,a.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),a.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Te.set("thin",function(e){return a.createElement(a.Fragment,null,a.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),a.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Te.set("regular",function(e){return a.createElement(a.Fragment,null,a.createElement("polyline",{points:"172 104 113.3 160 84 132",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var pa=function(r,t){return tt(r,t,Te)},an=b.exports.forwardRef(function(e,r){return a.createElement(et,Object.assign({ref:r},e,{renderPath:pa}))});an.displayName="CheckCircle";const ga=an;var je=new Map;je.set("bold",function(e){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,56C48,56,16,128,16,128s32,72,112,72,112-72,112-72S208,56,128,56Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),a.createElement("circle",{cx:"128",cy:"128",r:"32",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});je.set("duotone",function(e){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,56C48,56,16,128,16,128s32,72,112,72,112-72,112-72S208,56,128,56Zm0,112a40,40,0,1,1,40-40A40,40,0,0,1,128,168Z",opacity:"0.2"}),a.createElement("path",{d:"M128,56C48,56,16,128,16,128s32,72,112,72,112-72,112-72S208,56,128,56Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a.createElement("circle",{cx:"128",cy:"128",r:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});je.set("fill",function(){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M247.3,124.8c-.3-.8-8.8-19.6-27.6-38.5C194.6,61.3,162.9,48,128,48S61.4,61.3,36.3,86.3C17.5,105.2,9,124,8.7,124.8a7.9,7.9,0,0,0,0,6.4c.3.8,8.8,19.6,27.6,38.5C61.4,194.7,93.1,208,128,208s66.6-13.3,91.7-38.3c18.8-18.9,27.3-37.7,27.6-38.5A7.9,7.9,0,0,0,247.3,124.8ZM128,92a36,36,0,1,1-36,36A36,36,0,0,1,128,92Z"}))});je.set("light",function(e){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,56C48,56,16,128,16,128s32,72,112,72,112-72,112-72S208,56,128,56Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),a.createElement("circle",{cx:"128",cy:"128",r:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});je.set("thin",function(e){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,56C48,56,16,128,16,128s32,72,112,72,112-72,112-72S208,56,128,56Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),a.createElement("circle",{cx:"128",cy:"128",r:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});je.set("regular",function(e){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,56C48,56,16,128,16,128s32,72,112,72,112-72,112-72S208,56,128,56Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a.createElement("circle",{cx:"128",cy:"128",r:"40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var ba=function(r,t){return tt(r,t,je)},on=b.exports.forwardRef(function(e,r){return a.createElement(et,Object.assign({ref:r},e,{renderPath:ba}))});on.displayName="Eye";const xa=on;var Ie=new Map;Ie.set("bold",function(e){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M152,224l-44.7-67a3.9,3.9,0,0,0-6.6,0L79.8,188.4a4,4,0,0,1-6.7-.1l-9.7-15.1a4.1,4.1,0,0,0-6.8,0L24,224Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),a.createElement("polyline",{points:"148 32 148 92 208 92",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),a.createElement("path",{d:"M196,224h4a8,8,0,0,0,8-8V88L152,32H56a8,8,0,0,0-8,8v88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ie.set("duotone",function(e){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M152,224l-44.7-67a3.9,3.9,0,0,0-6.6,0L79.8,188.4a4,4,0,0,1-6.7-.1l-9.7-15.1a4.1,4.1,0,0,0-6.8,0L24,224Z",opacity:"0.2"}),a.createElement("polygon",{points:"152 32 152 88 208 88 152 32",opacity:"0.2"}),a.createElement("path",{d:"M152,224l-44.7-67a3.9,3.9,0,0,0-6.6,0L79.8,188.4a4,4,0,0,1-6.7-.1l-9.7-15.1a4.1,4.1,0,0,0-6.8,0L24,224Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a.createElement("polyline",{points:"152 32 152 88 208 88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a.createElement("path",{d:"M192,224h8a8,8,0,0,0,8-8V88L152,32H56a8,8,0,0,0-8,8v96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ie.set("fill",function(){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M213.7,82.3l-56-56A8.1,8.1,0,0,0,152,24H56A16,16,0,0,0,40,40v96a8,8,0,0,0,16,0V40h88V88a8,8,0,0,0,8,8h48V216h-8a8,8,0,0,0,0,16h8a16,16,0,0,0,16-16V88A8.1,8.1,0,0,0,213.7,82.3ZM160,80V51.3L188.7,80Zm-1.3,139.6a8.3,8.3,0,0,1,.4,8.2A8,8,0,0,1,152,232H24a8,8,0,0,1-7-4.2,7.9,7.9,0,0,1,.3-8.1l32.6-50.8a12,12,0,0,1,20.2,0l6.4,10L94,152.6a12,12,0,0,1,20,0Z"}))});Ie.set("light",function(e){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M152,224l-44.7-67a3.9,3.9,0,0,0-6.6,0L79.8,188.4a4,4,0,0,1-6.7-.1l-9.7-15.1a4.1,4.1,0,0,0-6.8,0L24,224Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),a.createElement("polyline",{points:"152 32 152 88 208 88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),a.createElement("path",{d:"M192,224h8a8,8,0,0,0,8-8V88L152,32H56a8,8,0,0,0-8,8v96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ie.set("thin",function(e){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M152,224l-44.7-67a3.9,3.9,0,0,0-6.6,0L79.8,188.4a4,4,0,0,1-6.7-.1l-9.7-15.1a4.1,4.1,0,0,0-6.8,0L24,224Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),a.createElement("polyline",{points:"152 32 152 88 208 88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),a.createElement("path",{d:"M192,224h8a8,8,0,0,0,8-8V88L152,32H56a8,8,0,0,0-8,8v96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ie.set("regular",function(e){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M152,224l-44.7-67a3.9,3.9,0,0,0-6.6,0L79.8,188.4a4,4,0,0,1-6.7-.1l-9.7-15.1a4.1,4.1,0,0,0-6.8,0L24,224Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a.createElement("polyline",{points:"152 32 152 88 208 88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a.createElement("path",{d:"M192,224h8a8,8,0,0,0,8-8V88L152,32H56a8,8,0,0,0-8,8v96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var ya=function(r,t){return tt(r,t,Ie)},ln=b.exports.forwardRef(function(e,r){return a.createElement(et,Object.assign({ref:r},e,{renderPath:ya}))});ln.displayName="FileImage";const _r=ln;var Ve=new Map;Ve.set("bold",function(e){return a.createElement(a.Fragment,null,a.createElement("line",{x1:"128",y1:"104",x2:"128",y2:"136",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),a.createElement("path",{d:"M114.2,40l-88,152A16,16,0,0,0,40,216H216a16,16,0,0,0,13.8-24l-88-152A15.9,15.9,0,0,0,114.2,40Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),a.createElement("circle",{cx:"128",cy:"176",r:"16"}))});Ve.set("duotone",function(e){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M114.2,40l-88,152A16,16,0,0,0,40,216H216a16,16,0,0,0,13.8-24l-88-152A15.9,15.9,0,0,0,114.2,40Z",opacity:"0.2"}),a.createElement("line",{x1:"128",y1:"112",x2:"128",y2:"144",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a.createElement("path",{d:"M114.2,40l-88,152A16,16,0,0,0,40,216H216a16,16,0,0,0,13.8-24l-88-152A15.9,15.9,0,0,0,114.2,40Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a.createElement("circle",{cx:"128",cy:"180",r:"12"}))});Ve.set("fill",function(){return a.createElement(a.Fragment,null,a.createElement("path",{d:"M236.7,188,148.8,36a24,24,0,0,0-41.6,0h0L19.3,188A23.9,23.9,0,0,0,40,224H216a23.9,23.9,0,0,0,20.7-36ZM120,104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm8,88a12,12,0,1,1,12-12A12,12,0,0,1,128,192Z"}))});Ve.set("light",function(e){return a.createElement(a.Fragment,null,a.createElement("line",{x1:"128",y1:"104",x2:"128",y2:"144",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),a.createElement("path",{d:"M114.2,40l-88,152A16,16,0,0,0,40,216H216a16,16,0,0,0,13.8-24l-88-152A15.9,15.9,0,0,0,114.2,40Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),a.createElement("circle",{cx:"128",cy:"180",r:"10"}))});Ve.set("thin",function(e){return a.createElement(a.Fragment,null,a.createElement("line",{x1:"128",y1:"104",x2:"128",y2:"144",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),a.createElement("path",{d:"M114.2,40l-88,152A16,16,0,0,0,40,216H216a16,16,0,0,0,13.8-24l-88-152A15.9,15.9,0,0,0,114.2,40Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),a.createElement("circle",{cx:"128",cy:"180",r:"8"}))});Ve.set("regular",function(e){return a.createElement(a.Fragment,null,a.createElement("line",{x1:"128",y1:"104",x2:"128",y2:"144",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a.createElement("path",{d:"M114.2,40l-88,152A16,16,0,0,0,40,216H216a16,16,0,0,0,13.8-24l-88-152A15.9,15.9,0,0,0,114.2,40Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),a.createElement("circle",{cx:"128",cy:"180",r:"12"}))});var va=function(r,t){return tt(r,t,Ve)},sn=b.exports.forwardRef(function(e,r){return a.createElement(et,Object.assign({ref:r},e,{renderPath:va}))});sn.displayName="Warning";const ha=sn;var Ea=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ea||{}),ka=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(ka||{}),wa=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(wa||{}),Da=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.RegisterOption=3]="RegisterOption",e[e.UnregisterOption=4]="UnregisterOption",e))(Da||{});function $t(e,r=t=>t){let t=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,n=Gt(r(e.options.slice()),i=>i.dataRef.current.domRef.current),o=t?n.indexOf(t):null;return o===-1&&(o=null),{options:n,activeOptionIndex:o}}let Fa={[1](e){return e.dataRef.current.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1}},[0](e){if(e.dataRef.current.disabled||e.comboboxState===0)return e;let r=e.activeOptionIndex,{isSelected:t}=e.dataRef.current,n=e.options.findIndex(o=>t(o.dataRef.current.value));return n!==-1&&(r=n),{...e,comboboxState:0,activeOptionIndex:r}},[2](e,r){var t;if(e.dataRef.current.disabled||e.dataRef.current.optionsRef.current&&!e.dataRef.current.optionsPropsRef.current.static&&e.comboboxState===1)return e;let n=$t(e);if(n.activeOptionIndex===null){let i=n.options.findIndex(u=>!u.dataRef.current.disabled);i!==-1&&(n.activeOptionIndex=i)}let o=Bn(r,{resolveItems:()=>n.options,resolveActiveIndex:()=>n.activeOptionIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled});return{...e,...n,activeOptionIndex:o,activationTrigger:(t=r.trigger)!=null?t:1}},[3]:(e,r)=>{let t={id:r.id,dataRef:r.dataRef},n=$t(e,i=>[...i,t]);e.activeOptionIndex===null&&e.dataRef.current.isSelected(r.dataRef.current.value)&&(n.activeOptionIndex=n.options.indexOf(t));let o={...e,...n,activationTrigger:1};return e.dataRef.current.__demoMode&&e.dataRef.current.value===void 0&&(o.activeOptionIndex=0),o},[4]:(e,r)=>{let t=$t(e,n=>{let o=n.findIndex(i=>i.id===r.id);return o!==-1&&n.splice(o,1),n});return{...e,...t,activationTrigger:1}}},ir=b.exports.createContext(null);ir.displayName="ComboboxActionsContext";function Ft(e){let r=b.exports.useContext(ir);if(r===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Ft),t}return r}let lr=b.exports.createContext(null);lr.displayName="ComboboxDataContext";function qe(e){let r=b.exports.useContext(lr);if(r===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,qe),t}return r}function Aa(e,r){return Le(r.type,Fa,e,r)}let _a=b.exports.Fragment,La=pe(function(e,r){let{name:t,value:n,onChange:o,disabled:i=!1,__demoMode:u=!1,nullable:s=!1,multiple:p=!1,...d}=e,[x,y]=b.exports.useReducer(Aa,{dataRef:b.exports.createRef(),comboboxState:u?0:1,options:[],activeOptionIndex:null,activationTrigger:1}),m=b.exports.useRef(!1),v=b.exports.useRef({static:!1,hold:!1}),w=b.exports.useRef({displayValue:void 0}),O=b.exports.useRef(null),U=b.exports.useRef(null),W=b.exports.useRef(null),T=b.exports.useRef(null),j=Q((M,$)=>M===$),L=b.exports.useCallback(M=>Le(D.mode,{[1]:()=>n.some($=>j($,M)),[0]:()=>j(n,M)}),[n]),D=b.exports.useMemo(()=>({...x,optionsPropsRef:v,inputPropsRef:w,labelRef:O,inputRef:U,buttonRef:W,optionsRef:T,value:n,disabled:i,mode:p?1:0,get activeOptionIndex(){if(m.current&&x.activeOptionIndex===null&&x.options.length>0){let M=x.options.findIndex($=>!$.dataRef.current.disabled);if(M!==-1)return M}return x.activeOptionIndex},compare:j,isSelected:L,nullable:s,__demoMode:u}),[n,i,p,s,u,x]);fe(()=>{x.dataRef.current=D},[D]),Nn([D.buttonRef,D.inputRef,D.optionsRef],()=>y({type:1}),D.comboboxState===0);let Y=b.exports.useMemo(()=>({open:D.comboboxState===0,disabled:i,activeIndex:D.activeOptionIndex,activeOption:D.activeOptionIndex===null?null:D.options[D.activeOptionIndex].dataRef.current.value}),[D,i]),I=b.exports.useCallback(()=>{var M;if(!D.inputRef.current)return;let $=w.current.displayValue;typeof $=="function"?D.inputRef.current.value=(M=$(n))!=null?M:"":typeof n=="string"?D.inputRef.current.value=n:D.inputRef.current.value=""},[n,D.inputRef,w]),R=Q(M=>{let $=D.options.find(G=>G.id===M);!$||(N($.dataRef.current.value),I())}),P=Q(()=>{if(D.activeOptionIndex!==null){let{dataRef:M,id:$}=D.options[D.activeOptionIndex];N(M.current.value),I(),y({type:2,focus:ue.Specific,id:$})}}),q=Q(()=>{y({type:0}),m.current=!0}),_=Q(()=>{y({type:1}),m.current=!1}),S=Q((M,$,G)=>(m.current=!1,M===ue.Specific?y({type:2,focus:ue.Specific,id:$,trigger:G}):y({type:2,focus:M,trigger:G}))),z=Q((M,$)=>(y({type:3,id:M,dataRef:$}),()=>y({type:4,id:M}))),N=Q(M=>Le(D.mode,{[0](){return o(M)},[1](){let $=D.value.slice(),G=$.indexOf(M);return G===-1?$.push(M):$.splice(G,1),o($)}})),B=b.exports.useMemo(()=>({onChange:N,registerOption:z,goToOption:S,closeCombobox:_,openCombobox:q,selectActiveOption:P,selectOption:R}),[]);fe(()=>{D.comboboxState===1&&I()},[I,D.comboboxState]),fe(I,[I]);let se=r===null?{}:{ref:r};return a.createElement(ir.Provider,{value:B},a.createElement(lr.Provider,{value:D},a.createElement(Mn,{value:Le(D.comboboxState,{[0]:Yt.Open,[1]:Yt.Closed})},t!=null&&n!=null&&Qn({[t]:n}).map(([M,$])=>a.createElement(tn,{features:rn.Hidden,...Wn({key:M,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:M,value:$})})),ge({ourProps:se,theirProps:d,slot:Y,defaultTag:_a,name:"Combobox"}))))}),Oa="input",Ca=pe(function(e,r){var t,n;let{value:o,onChange:i,displayValue:u,type:s="text",...p}=e,d=qe("Combobox.Input"),x=Ft("Combobox.Input"),y=Ee(d.inputRef,r),m=d.inputPropsRef,v=`headlessui-combobox-input-${Re()}`,w=Xr();fe(()=>{m.current.displayValue=u},[u,m]);let O=Q(L=>{switch(L.key){case X.Backspace:case X.Delete:if(d.mode!==0||!d.nullable)return;let D=L.currentTarget;w.requestAnimationFrame(()=>{D.value===""&&(x.onChange(null),d.optionsRef.current&&(d.optionsRef.current.scrollTop=0),x.goToOption(ue.Nothing))});break;case X.Enter:if(d.comboboxState!==0)return;if(L.preventDefault(),L.stopPropagation(),d.activeOptionIndex===null){x.closeCombobox();return}x.selectActiveOption(),d.mode===0&&x.closeCombobox();break;case X.ArrowDown:return L.preventDefault(),L.stopPropagation(),Le(d.comboboxState,{[0]:()=>{x.goToOption(ue.Next)},[1]:()=>{x.openCombobox()}});case X.ArrowUp:return L.preventDefault(),L.stopPropagation(),Le(d.comboboxState,{[0]:()=>{x.goToOption(ue.Previous)},[1]:()=>{x.openCombobox(),w.nextFrame(()=>{d.value||x.goToOption(ue.Last)})}});case X.Home:case X.PageUp:return L.preventDefault(),L.stopPropagation(),x.goToOption(ue.First);case X.End:case X.PageDown:return L.preventDefault(),L.stopPropagation(),x.goToOption(ue.Last);case X.Escape:return d.comboboxState!==0?void 0:(L.preventDefault(),d.optionsRef.current&&!d.optionsPropsRef.current.static&&L.stopPropagation(),x.closeCombobox());case X.Tab:if(d.comboboxState!==0)return;x.selectActiveOption(),x.closeCombobox();break}}),U=Q(L=>{x.openCombobox(),i==null||i(L)}),W=or(()=>{if(d.labelRef.current)return[d.labelRef.current.id].join(" ")},[d.labelRef.current]),T=b.exports.useMemo(()=>({open:d.comboboxState===0,disabled:d.disabled}),[d]),j={ref:y,id:v,role:"combobox",type:s,"aria-controls":(t=d.optionsRef.current)==null?void 0:t.id,"aria-expanded":d.disabled?void 0:d.comboboxState===0,"aria-activedescendant":d.activeOptionIndex===null||(n=d.options[d.activeOptionIndex])==null?void 0:n.id,"aria-multiselectable":d.mode===1?!0:void 0,"aria-labelledby":W,disabled:d.disabled,onKeyDown:O,onChange:U};return ge({ourProps:j,theirProps:p,slot:T,defaultTag:Oa,name:"Combobox.Input"})}),Sa="button",Ra=pe(function(e,r){var t;let n=qe("Combobox.Button"),o=Ft("Combobox.Button"),i=Ee(n.buttonRef,r),u=`headlessui-combobox-button-${Re()}`,s=Xr(),p=Q(w=>{switch(w.key){case X.ArrowDown:return w.preventDefault(),w.stopPropagation(),n.comboboxState===1&&o.openCombobox(),s.nextFrame(()=>{var O;return(O=n.inputRef.current)==null?void 0:O.focus({preventScroll:!0})});case X.ArrowUp:return w.preventDefault(),w.stopPropagation(),n.comboboxState===1&&(o.openCombobox(),s.nextFrame(()=>{n.value||o.goToOption(ue.Last)})),s.nextFrame(()=>{var O;return(O=n.inputRef.current)==null?void 0:O.focus({preventScroll:!0})});case X.Escape:return n.comboboxState!==0?void 0:(w.preventDefault(),n.optionsRef.current&&!n.optionsPropsRef.current.static&&w.stopPropagation(),o.closeCombobox(),s.nextFrame(()=>{var O;return(O=n.inputRef.current)==null?void 0:O.focus({preventScroll:!0})}));default:return}}),d=Q(w=>{if(zn(w.currentTarget))return w.preventDefault();n.comboboxState===0?o.closeCombobox():(w.preventDefault(),o.openCombobox()),s.nextFrame(()=>{var O;return(O=n.inputRef.current)==null?void 0:O.focus({preventScroll:!0})})}),x=or(()=>{if(n.labelRef.current)return[n.labelRef.current.id,u].join(" ")},[n.labelRef.current,u]),y=b.exports.useMemo(()=>({open:n.comboboxState===0,disabled:n.disabled}),[n]),m=e,v={ref:i,id:u,type:Jr(e,n.buttonRef),tabIndex:-1,"aria-haspopup":!0,"aria-controls":(t=n.optionsRef.current)==null?void 0:t.id,"aria-expanded":n.disabled?void 0:n.comboboxState===0,"aria-labelledby":x,disabled:n.disabled,onClick:d,onKeyDown:p};return ge({ourProps:v,theirProps:m,slot:y,defaultTag:Sa,name:"Combobox.Button"})}),Pa="label",Ta=pe(function(e,r){let t=qe("Combobox.Label"),n=`headlessui-combobox-label-${Re()}`,o=Ee(t.labelRef,r),i=Q(()=>{var s;return(s=t.inputRef.current)==null?void 0:s.focus({preventScroll:!0})}),u=b.exports.useMemo(()=>({open:t.comboboxState===0,disabled:t.disabled}),[t]);return ge({ourProps:{ref:o,id:n,onClick:i},theirProps:e,slot:u,defaultTag:Pa,name:"Combobox.Label"})}),ja="ul",Ia=bt.RenderStrategy|bt.Static,Va=pe(function(e,r){var t;let{hold:n=!1,...o}=e,i=qe("Combobox.Options"),u=Ee(i.optionsRef,r),s=`headlessui-combobox-options-${Re()}`,p=$n(),d=(()=>p!==null?p===Yt.Open:i.comboboxState===0)();fe(()=>{var v;i.optionsPropsRef.current.static=(v=e.static)!=null?v:!1},[i.optionsPropsRef,e.static]),fe(()=>{i.optionsPropsRef.current.hold=n},[i.optionsPropsRef,n]),Un({container:i.optionsRef.current,enabled:i.comboboxState===0,accept(v){return v.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:v.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(v){v.setAttribute("role","none")}});let x=or(()=>{var v,w,O;return(O=(v=i.labelRef.current)==null?void 0:v.id)!=null?O:(w=i.buttonRef.current)==null?void 0:w.id},[i.labelRef.current,i.buttonRef.current]),y=b.exports.useMemo(()=>({open:i.comboboxState===0}),[i]),m={"aria-activedescendant":i.activeOptionIndex===null||(t=i.options[i.activeOptionIndex])==null?void 0:t.id,"aria-labelledby":x,role:"listbox",id:s,ref:u};return ge({ourProps:m,theirProps:o,slot:y,defaultTag:ja,features:Ia,visible:d,name:"Combobox.Options"})}),Na="li",Ma=pe(function(e,r){var t,n;let{disabled:o=!1,value:i,...u}=e,s=qe("Combobox.Option"),p=Ft("Combobox.Option"),d=`headlessui-combobox-option-${Re()}`,x=s.activeOptionIndex!==null?s.options[s.activeOptionIndex].id===d:!1,y=s.isSelected(i),m=b.exports.useRef(null),v=mt({disabled:o,value:i,domRef:m,textValue:(n=(t=m.current)==null?void 0:t.textContent)==null?void 0:n.toLowerCase()}),w=Ee(r,m),O=Q(()=>p.selectOption(d));fe(()=>p.registerOption(d,v),[v,d]);let U=b.exports.useRef(!s.__demoMode);fe(()=>{if(!s.__demoMode)return;let Y=hr();return Y.requestAnimationFrame(()=>{U.current=!0}),Y.dispose},[]),fe(()=>{if(s.comboboxState!==0||!x||!U.current||s.activationTrigger===0)return;let Y=hr();return Y.requestAnimationFrame(()=>{var I,R;(R=(I=m.current)==null?void 0:I.scrollIntoView)==null||R.call(I,{block:"nearest"})}),Y.dispose},[m,x,s.comboboxState,s.activationTrigger,s.activeOptionIndex]);let W=Q(Y=>{var I;if(o)return Y.preventDefault();O(),s.mode===0&&(p.closeCombobox(),(I=s.inputRef.current)==null||I.focus({preventScroll:!0}))}),T=Q(()=>{if(o)return p.goToOption(ue.Nothing);p.goToOption(ue.Specific,d)}),j=Q(()=>{o||x||p.goToOption(ue.Specific,d,0)}),L=Q(()=>{o||!x||s.optionsPropsRef.current.hold||p.goToOption(ue.Nothing)}),D=b.exports.useMemo(()=>({active:x,selected:y,disabled:o}),[x,y,o]);return ge({ourProps:{id:d,ref:w,role:"option",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,"aria-selected":y===!0?!0:void 0,disabled:void 0,onClick:W,onFocus:T,onPointerMove:j,onMouseMove:j,onPointerLeave:L,onMouseLeave:L},theirProps:u,slot:D,defaultTag:Na,name:"Combobox.Option"})}),Ge=Object.assign(La,{Input:Ca,Button:Ra,Label:Ta,Options:Va,Option:Ma});function Wa({onFocus:e}){let[r,t]=b.exports.useState(!0);return r?a.createElement(tn,{as:"button",type:"button",features:rn.Focusable,onFocus:n=>{n.preventDefault();let o,i=50;function u(){if(i--<=0){o&&cancelAnimationFrame(o);return}if(e()){t(!1),cancelAnimationFrame(o);return}o=requestAnimationFrame(u)}o=requestAnimationFrame(u)}}):null}var $a=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e[e.ForceRerender=5]="ForceRerender",e))($a||{});let Ua={[0](e,r){let t=e.tabs.filter(i=>{var u;return!((u=i.current)!=null&&u.hasAttribute("disabled"))});if(r.index<0)return{...e,selectedIndex:e.tabs.indexOf(t[0])};if(r.index>e.tabs.length)return{...e,selectedIndex:e.tabs.indexOf(t[t.length-1])};let n=e.tabs.slice(0,r.index),o=[...e.tabs.slice(r.index),...n].find(i=>t.includes(i));return o?{...e,selectedIndex:e.tabs.indexOf(o)}:e},[1](e,r){return e.tabs.includes(r.tab)?e:{...e,tabs:Gt([...e.tabs,r.tab],t=>t.current)}},[2](e,r){return{...e,tabs:Gt(e.tabs.filter(t=>t!==r.tab),t=>t.current)}},[3](e,r){return e.panels.includes(r.panel)?e:{...e,panels:[...e.panels,r.panel]}},[4](e,r){return{...e,panels:e.panels.filter(t=>t!==r.panel)}},[5](e){return{...e}}},sr=b.exports.createContext(null);sr.displayName="TabsSSRContext";function ur(e){let r=b.exports.useContext(sr);if(r===null){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ur),t}return r}let cr=b.exports.createContext(null);cr.displayName="TabsDataContext";function rt(e){let r=b.exports.useContext(cr);if(r===null){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,rt),t}return r}let dr=b.exports.createContext(null);dr.displayName="TabsActionsContext";function fr(e){let r=b.exports.useContext(dr);if(r===null){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,fr),t}return r}function za(e,r){return Le(r.type,Ua,e,r)}let Ba=b.exports.Fragment,Ha=pe(function(e,r){let{defaultIndex:t=0,vertical:n=!1,manual:o=!1,onChange:i,selectedIndex:u=null,...s}=e;const p=n?"vertical":"horizontal",d=o?"manual":"auto";let x=Ee(r),[y,m]=b.exports.useReducer(za,{selectedIndex:u!=null?u:t,tabs:[],panels:[]}),v=b.exports.useMemo(()=>({selectedIndex:y.selectedIndex}),[y.selectedIndex]),w=mt(i||(()=>{})),O=mt(y.tabs),U=b.exports.useMemo(()=>({orientation:p,activation:d,...y}),[p,d,y]),W=mt(y.selectedIndex),T=b.exports.useMemo(()=>({registerTab(D){return m({type:1,tab:D}),()=>m({type:2,tab:D})},registerPanel(D){return m({type:3,panel:D}),()=>m({type:4,panel:D})},forceRerender(){m({type:5})},change(D){W.current!==D&&w.current(D),W.current=D,m({type:0,index:D})}}),[m]);fe(()=>{m({type:0,index:u!=null?u:t})},[u]);let j=b.exports.useRef({tabs:[],panels:[]}),L={ref:x};return a.createElement(sr.Provider,{value:j},a.createElement(dr.Provider,{value:T},a.createElement(cr.Provider,{value:U},U.tabs.length<=0&&a.createElement(Wa,{onFocus:()=>{var D,Y;for(let I of O.current)if(((D=I.current)==null?void 0:D.tabIndex)===0)return(Y=I.current)==null||Y.focus(),!0;return!1}}),ge({ourProps:L,theirProps:s,slot:v,defaultTag:Ba,name:"Tabs"}))))}),Ka="div",qa=pe(function(e,r){let{orientation:t,selectedIndex:n}=rt("Tab.List"),o=Ee(r);return ge({ourProps:{ref:o,role:"tablist","aria-orientation":t},theirProps:e,slot:{selectedIndex:n},defaultTag:Ka,name:"Tabs.List"})}),Za="button",Ya=pe(function(e,r){var t,n;let o=`headlessui-tabs-tab-${Re()}`,{orientation:i,activation:u,selectedIndex:s,tabs:p,panels:d}=rt("Tab"),x=fr("Tab"),y=ur("Tab"),m=b.exports.useRef(null),v=Ee(m,r,R=>{!R||x.forceRerender()});fe(()=>x.registerTab(m),[x,m]);let w=y.current.tabs.indexOf(o);w===-1&&(w=y.current.tabs.push(o)-1);let O=p.indexOf(m);O===-1&&(O=w);let U=O===s,W=Q(R=>{let P=p.map(q=>q.current).filter(Boolean);if(R.key===X.Space||R.key===X.Enter){R.preventDefault(),R.stopPropagation(),x.change(O);return}switch(R.key){case X.Home:case X.PageUp:return R.preventDefault(),R.stopPropagation(),$e(P,ye.First);case X.End:case X.PageDown:return R.preventDefault(),R.stopPropagation(),$e(P,ye.Last)}if(Le(i,{vertical(){if(R.key===X.ArrowUp)return $e(P,ye.Previous|ye.WrapAround);if(R.key===X.ArrowDown)return $e(P,ye.Next|ye.WrapAround)},horizontal(){if(R.key===X.ArrowLeft)return $e(P,ye.Previous|ye.WrapAround);if(R.key===X.ArrowRight)return $e(P,ye.Next|ye.WrapAround)}}))return R.preventDefault()}),T=Q(()=>{var R;(R=m.current)==null||R.focus()}),j=Q(()=>{var R;(R=m.current)==null||R.focus(),x.change(O)}),L=Q(R=>{R.preventDefault()}),D=b.exports.useMemo(()=>({selected:U}),[U]),Y=e,I={ref:v,onKeyDown:W,onFocus:u==="manual"?T:j,onMouseDown:L,onClick:j,id:o,role:"tab",type:Jr(e,m),"aria-controls":(n=(t=d[O])==null?void 0:t.current)==null?void 0:n.id,"aria-selected":U,tabIndex:U?0:-1};return ge({ourProps:I,theirProps:Y,slot:D,defaultTag:Za,name:"Tabs.Tab"})}),Ga="div",Xa=pe(function(e,r){let{selectedIndex:t}=rt("Tab.Panels"),n=Ee(r),o=b.exports.useMemo(()=>({selectedIndex:t}),[t]);return ge({ourProps:{ref:n},theirProps:e,slot:o,defaultTag:Ga,name:"Tabs.Panels"})}),Ja="div",Qa=bt.RenderStrategy|bt.Static,eo=pe(function(e,r){var t,n;let{selectedIndex:o,tabs:i,panels:u}=rt("Tab.Panel"),s=fr("Tab.Panel"),p=ur("Tab.Panel"),d=`headlessui-tabs-panel-${Re()}`,x=b.exports.useRef(null),y=Ee(x,r,T=>{!T||s.forceRerender()});fe(()=>s.registerPanel(x),[s,x]);let m=p.current.panels.indexOf(d);m===-1&&(m=p.current.panels.push(d)-1);let v=u.indexOf(x);v===-1&&(v=m);let w=v===o,O=b.exports.useMemo(()=>({selected:w}),[w]),U=e,W={ref:y,id:d,role:"tabpanel","aria-labelledby":(n=(t=i[v])==null?void 0:t.current)==null?void 0:n.id,tabIndex:w?0:-1};return ge({ourProps:W,theirProps:U,slot:O,defaultTag:Ja,features:Qa,visible:w,name:"Tabs.Panel"})}),Oe=Object.assign(Ya,{Group:Ha,List:qa,Panels:Xa,Panel:eo});var nt=e=>e.type==="checkbox",ze=e=>e instanceof Date,ie=e=>e==null;const un=e=>typeof e=="object";var oe=e=>!ie(e)&&!Array.isArray(e)&&un(e)&&!ze(e),cn=e=>oe(e)&&e.target?nt(e.target)?e.target.checked:e.target.value:e,to=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,dn=(e,r)=>e.has(to(r)),at=e=>Array.isArray(e)?e.filter(Boolean):[],ee=e=>e===void 0,E=(e,r,t)=>{if(!r||!oe(e))return t;const n=at(r.split(/[,[\].]+?/)).reduce((o,i)=>ie(o)?o:o[i],e);return ee(n)||n===e?ee(e[r])?t:e[r]:n};const xt={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},me={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},De={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ro=a.createContext(null),mr=()=>a.useContext(ro);var fn=(e,r,t,n=!0)=>{const o={};for(const i in e)Object.defineProperty(o,i,{get:()=>{const u=i;return r[u]!==me.all&&(r[u]=!n||me.all),t&&(t[u]=!0),e[u]}});return o},de=e=>oe(e)&&!Object.keys(e).length,mn=(e,r,t)=>{const{name:n,...o}=e;return de(o)||Object.keys(o).length>=Object.keys(r).length||Object.keys(o).find(i=>r[i]===(!t||me.all))},pt=e=>Array.isArray(e)?e:[e],pn=(e,r,t)=>t&&r?e===r:!e||!r||e===r||pt(e).some(n=>n&&(n.startsWith(r)||r.startsWith(n)));function pr(e){const r=a.useRef(e);r.current=e,a.useEffect(()=>{const t=o=>{o&&o.unsubscribe()},n=!e.disabled&&r.current.subject.subscribe({next:r.current.callback});return()=>t(n)},[e.disabled])}function no(e){const r=mr(),{control:t=r.control,disabled:n,name:o,exact:i}=e||{},[u,s]=a.useState(t._formState),p=a.useRef({isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=a.useRef(o),x=a.useRef(!0);d.current=o;const y=a.useCallback(m=>x.current&&pn(d.current,m.name,i)&&mn(m,p.current)&&s({...t._formState,...m}),[t,i]);return pr({disabled:n,callback:y,subject:t._subjects.state}),a.useEffect(()=>(x.current=!0,()=>{x.current=!1}),[]),fn(u,t._proxyFormState,p.current,!1)}var he=e=>typeof e=="string",gn=(e,r,t,n)=>{const o=Array.isArray(e);return he(e)?(n&&r.watch.add(e),E(t,e)):o?e.map(i=>(n&&r.watch.add(i),E(t,i))):(n&&(r.watchAll=!0),t)},At=e=>typeof e=="function",gr=e=>{for(const r in e)if(At(e[r]))return!0;return!1};function ao(e){const r=mr(),{control:t=r.control,name:n,defaultValue:o,disabled:i,exact:u}=e||{},s=a.useRef(n);s.current=n;const p=a.useCallback(y=>{if(pn(s.current,y.name,u)){const m=gn(s.current,t._names,y.values||t._formValues);x(ee(s.current)||oe(m)&&!gr(m)?{...m}:Array.isArray(m)?[...m]:ee(m)?o:m)}},[t,u,o]);pr({disabled:i,subject:t._subjects.watch,callback:p});const[d,x]=a.useState(ee(o)?t._getWatch(n):o);return a.useEffect(()=>{t._removeUnmounted()}),d}function be(e){const r=mr(),{name:t,control:n=r.control,shouldUnregister:o}=e,i=dn(n._names.array,t),u=ao({control:n,name:t,defaultValue:E(n._formValues,t,E(n._defaultValues,t,e.defaultValue)),exact:!0}),s=no({control:n,name:t}),p=a.useRef(n.register(t,{...e.rules,value:u}));return a.useEffect(()=>{const d=(x,y)=>{const m=E(n._fields,x);m&&(m._f.mount=y)};return d(t,!0),()=>{const x=n._options.shouldUnregister||o;(i?x&&!n._stateFlags.action:x)?n.unregister(t):d(t,!1)}},[t,n,i,o]),{field:{name:t,value:u,onChange:a.useCallback(d=>{p.current.onChange({target:{value:cn(d),name:t},type:xt.CHANGE})},[t]),onBlur:a.useCallback(()=>{p.current.onBlur({target:{value:E(n._formValues,t),name:t},type:xt.BLUR})},[t,n]),ref:a.useCallback(d=>{const x=E(n._fields,t);d&&x&&d.focus&&(x._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:y=>d.setCustomValidity(y),reportValidity:()=>d.reportValidity()})},[t,n._fields])},formState:s,fieldState:Object.defineProperties({},{invalid:{get:()=>!!E(s.errors,t)},isDirty:{get:()=>!!E(s.dirtyFields,t)},isTouched:{get:()=>!!E(s.touchedFields,t)},error:{get:()=>E(s.errors,t)}})}}const ke=e=>e.render(be(e));var bn=(e,r,t,n,o)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[n]:o||!0}}:{},br=e=>/^\w*$/.test(e),xn=e=>at(e.replace(/["|']|\]/g,"").split(/\.|\[/));function Z(e,r,t){let n=-1;const o=br(r)?[r]:xn(r),i=o.length,u=i-1;for(;++n<i;){const s=o[n];let p=t;if(n!==u){const d=e[s];p=oe(d)||Array.isArray(d)?d:isNaN(+o[n+1])?{}:[]}e[s]=p,e=e[s]}return e}const Xt=(e,r,t)=>{for(const n of t||Object.keys(e)){const o=E(e,n);if(o){const{_f:i,...u}=o;if(i&&r(i.name)){if(i.ref.focus&&ee(i.ref.focus()))break;if(i.refs){i.refs[0].focus();break}}else oe(u)&&Xt(u,r)}}};var Lr=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length)))),oo=(e,r,t)=>{const n=at(E(e,t));return Z(n,"root",r[t]),Z(e,t,n),e},yt=e=>typeof e=="boolean",xr=e=>e.type==="file",gt=e=>he(e)||a.isValidElement(e),yr=e=>e.type==="radio",vt=e=>e instanceof RegExp;const Or={value:!1,isValid:!1},Cr={value:!0,isValid:!0};var yn=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ee(e[0].attributes.value)?ee(e[0].value)||e[0].value===""?Cr:{value:e[0].value,isValid:!0}:Cr:Or}return Or};const Sr={isValid:!1,value:null};var vn=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,Sr):Sr;function Rr(e,r,t="validate"){if(gt(e)||Array.isArray(e)&&e.every(gt)||yt(e)&&!e)return{type:t,message:gt(e)?e:"",ref:r}}var Ue=e=>oe(e)&&!vt(e)?e:{value:e,message:""},Pr=async(e,r,t,n,o)=>{const{ref:i,refs:u,required:s,maxLength:p,minLength:d,min:x,max:y,pattern:m,validate:v,name:w,valueAsNumber:O,mount:U,disabled:W}=e._f;if(!U||W)return{};const T=u?u[0]:i,j=_=>{n&&T.reportValidity&&(T.setCustomValidity(yt(_)?"":_||" "),T.reportValidity())},L={},D=yr(i),Y=nt(i),I=D||Y,R=(O||xr(i))&&!i.value||r===""||Array.isArray(r)&&!r.length,P=bn.bind(null,w,t,L),q=(_,S,z,N=De.maxLength,B=De.minLength)=>{const se=_?S:z;L[w]={type:_?N:B,message:se,ref:i,...P(_?N:B,se)}};if(o?!Array.isArray(r)||!r.length:s&&(!I&&(R||ie(r))||yt(r)&&!r||Y&&!yn(u).isValid||D&&!vn(u).isValid)){const{value:_,message:S}=gt(s)?{value:!!s,message:s}:Ue(s);if(_&&(L[w]={type:De.required,message:S,ref:T,...P(De.required,S)},!t))return j(S),L}if(!R&&(!ie(x)||!ie(y))){let _,S;const z=Ue(y),N=Ue(x);if(!ie(r)&&!isNaN(r)){const B=i.valueAsNumber||+r;ie(z.value)||(_=B>z.value),ie(N.value)||(S=B<N.value)}else{const B=i.valueAsDate||new Date(r);he(z.value)&&(_=B>new Date(z.value)),he(N.value)&&(S=B<new Date(N.value))}if((_||S)&&(q(!!_,z.message,N.message,De.max,De.min),!t))return j(L[w].message),L}if((p||d)&&!R&&(he(r)||o&&Array.isArray(r))){const _=Ue(p),S=Ue(d),z=!ie(_.value)&&r.length>_.value,N=!ie(S.value)&&r.length<S.value;if((z||N)&&(q(z,_.message,S.message),!t))return j(L[w].message),L}if(m&&!R&&he(r)){const{value:_,message:S}=Ue(m);if(vt(_)&&!r.match(_)&&(L[w]={type:De.pattern,message:S,ref:i,...P(De.pattern,S)},!t))return j(S),L}if(v){if(At(v)){const _=await v(r),S=Rr(_,T);if(S&&(L[w]={...S,...P(De.validate,S.message)},!t))return j(S.message),L}else if(oe(v)){let _={};for(const S in v){if(!de(_)&&!t)break;const z=Rr(await v[S](r),T,S);z&&(_={...z,...P(S,z.message)},j(z.message),t&&(L[w]=_))}if(!de(_)&&(L[w]={ref:T,..._},!t))return L}}return j(!0),L},Jt=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ce(e){let r;const t=Array.isArray(e);if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(Jt&&(e instanceof Blob||e instanceof FileList))&&(t||oe(e))){r=t?[]:{};for(const n in e){if(At(e[n])){r=e;break}r[n]=Ce(e[n])}}else return e;return r}var Tr=e=>({isOnSubmit:!e||e===me.onSubmit,isOnBlur:e===me.onBlur,isOnChange:e===me.onChange,isOnAll:e===me.all,isOnTouch:e===me.onTouched});function io(e,r){const t=r.slice(0,-1).length;let n=0;for(;n<t;)e=ee(e)?n++:e[r[n++]];return e}function lo(e){for(const r in e)if(!ee(e[r]))return!1;return!0}function le(e,r){const t=br(r)?[r]:xn(r),n=t.length==1?e:io(e,t),o=t[t.length-1];let i;n&&delete n[o];for(let u=0;u<t.slice(0,-1).length;u++){let s=-1,p;const d=t.slice(0,-(u+1)),x=d.length-1;for(u>0&&(i=e);++s<d.length;){const y=d[s];p=p?p[y]:e[y],x===s&&(oe(p)&&de(p)||Array.isArray(p)&&lo(p))&&(i?delete i[y]:delete e[y]),i=p}}return e}function Ut(){let e=[];return{get observers(){return e},next:o=>{for(const i of e)i.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(i=>i!==o)}}),unsubscribe:()=>{e=[]}}}var ht=e=>ie(e)||!un(e);function Be(e,r){if(ht(e)||ht(r))return e===r;if(ze(e)&&ze(r))return e.getTime()===r.getTime();const t=Object.keys(e),n=Object.keys(r);if(t.length!==n.length)return!1;for(const o of t){const i=e[o];if(!n.includes(o))return!1;if(o!=="ref"){const u=r[o];if(ze(i)&&ze(u)||oe(i)&&oe(u)||Array.isArray(i)&&Array.isArray(u)?!Be(i,u):i!==u)return!1}}return!0}var Qt=e=>{const r=e?e.ownerDocument:0,t=r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement;return e instanceof t},hn=e=>e.type==="select-multiple",so=e=>yr(e)||nt(e),zt=e=>Qt(e)&&e.isConnected;function Et(e,r={}){const t=Array.isArray(e);if(oe(e)||t)for(const n in e)Array.isArray(e[n])||oe(e[n])&&!gr(e[n])?(r[n]=Array.isArray(e[n])?[]:{},Et(e[n],r[n])):ie(e[n])||(r[n]=!0);return r}function En(e,r,t){const n=Array.isArray(e);if(oe(e)||n)for(const o in e)Array.isArray(e[o])||oe(e[o])&&!gr(e[o])?ee(r)||ht(t[o])?t[o]=Array.isArray(e[o])?Et(e[o],[]):{...Et(e[o])}:En(e[o],ie(r)?{}:r[o],t[o]):t[o]=!Be(e[o],r[o]);return t}var Bt=(e,r)=>En(e,r,Et(r)),kn=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:n})=>ee(e)?e:r?e===""||ie(e)?NaN:+e:t&&he(e)?new Date(e):n?n(e):e;function Ht(e){const r=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):r.disabled))return xr(r)?r.files:yr(r)?vn(e.refs).value:hn(r)?[...r.selectedOptions].map(({value:t})=>t):nt(r)?yn(e.refs).value:kn(ee(r.value)?e.ref.value:r.value,e)}var uo=(e,r,t,n)=>{const o={};for(const i of e){const u=E(r,i);u&&Z(o,i,u._f)}return{criteriaMode:t,names:[...e],fields:o,shouldUseNativeValidation:n}},Xe=e=>ee(e)?void 0:vt(e)?e.source:oe(e)?vt(e.value)?e.value.source:e.value:e,co=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function jr(e,r,t){const n=E(e,t);if(n||br(t))return{error:n,name:t};const o=t.split(".");for(;o.length;){const i=o.join("."),u=E(r,i),s=E(e,i);if(u&&!Array.isArray(u)&&t!==i)return{name:t};if(s&&s.type)return{name:i,error:s};o.pop()}return{name:t}}var fo=(e,r,t,n,o)=>o.isOnAll?!1:!t&&o.isOnTouch?!(r||e):(t?n.isOnBlur:o.isOnBlur)?!e:(t?n.isOnChange:o.isOnChange)?e:!0,mo=(e,r)=>!at(E(e,r)).length&&le(e,r);const po={mode:me.onSubmit,reValidateMode:me.onChange,shouldFocusError:!0};function go(e={}){let r={...po,...e},t={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},n={},o=Ce(r.defaultValues)||{},i=r.shouldUnregister?{}:Ce(o),u={action:!1,mount:!1,watch:!1},s={mount:new Set,unMount:new Set,array:new Set,watch:new Set},p,d=0,x={};const y={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={watch:Ut(),array:Ut(),state:Ut()},v=Tr(r.mode),w=Tr(r.reValidateMode),O=r.criteriaMode===me.all,U=l=>c=>{clearTimeout(d),d=window.setTimeout(l,c)},W=async l=>{let c=!1;return y.isValid&&(c=r.resolver?de((await I()).errors):await P(n,!0),!l&&c!==t.isValid&&(t.isValid=c,m.state.next({isValid:c}))),c},T=(l,c=[],f,k,F=!0,g=!0)=>{if(k&&f){if(u.action=!0,g&&Array.isArray(E(n,l))){const A=f(E(n,l),k.argA,k.argB);F&&Z(n,l,A)}if(y.errors&&g&&Array.isArray(E(t.errors,l))){const A=f(E(t.errors,l),k.argA,k.argB);F&&Z(t.errors,l,A),mo(t.errors,l)}if(y.touchedFields&&g&&Array.isArray(E(t.touchedFields,l))){const A=f(E(t.touchedFields,l),k.argA,k.argB);F&&Z(t.touchedFields,l,A)}y.dirtyFields&&(t.dirtyFields=Bt(o,i)),m.state.next({isDirty:_(l,c),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else Z(i,l,c)},j=(l,c)=>{Z(t.errors,l,c),m.state.next({errors:t.errors})},L=(l,c,f,k)=>{const F=E(n,l);if(F){const g=E(i,l,ee(f)?E(o,l):f);ee(g)||k&&k.defaultChecked||c?Z(i,l,c?g:Ht(F._f)):N(l,g),u.mount&&W()}},D=(l,c,f,k,F)=>{let g=!1;const A={name:l},K=E(t.touchedFields,l);if(y.isDirty){const re=t.isDirty;t.isDirty=A.isDirty=_(),g=re!==A.isDirty}if(y.dirtyFields&&(!f||k)){const re=E(t.dirtyFields,l);Be(E(o,l),c)?le(t.dirtyFields,l):Z(t.dirtyFields,l,!0),A.dirtyFields=t.dirtyFields,g=g||re!==E(t.dirtyFields,l)}return f&&!K&&(Z(t.touchedFields,l,f),A.touchedFields=t.touchedFields,g=g||y.touchedFields&&K!==f),g&&F&&m.state.next(A),g?A:{}},Y=async(l,c,f,k)=>{const F=E(t.errors,l),g=y.isValid&&t.isValid!==c;if(e.delayError&&f?(p=U(()=>j(l,f)),p(e.delayError)):(clearTimeout(d),p=null,f?Z(t.errors,l,f):le(t.errors,l)),(f?!Be(F,f):F)||!de(k)||g){const A={...k,...g?{isValid:c}:{},errors:t.errors,name:l};t={...t,...A},m.state.next(A)}x[l]--,y.isValidating&&!Object.values(x).some(A=>A)&&(m.state.next({isValidating:!1}),x={})},I=async l=>r.resolver?await r.resolver({...i},r.context,uo(l||s.mount,n,r.criteriaMode,r.shouldUseNativeValidation)):{},R=async l=>{const{errors:c}=await I();if(l)for(const f of l){const k=E(c,f);k?Z(t.errors,f,k):le(t.errors,f)}else t.errors=c;return c},P=async(l,c,f={valid:!0})=>{for(const k in l){const F=l[k];if(F){const{_f:g,...A}=F;if(g){const K=s.array.has(g.name),re=await Pr(F,E(i,g.name),O,r.shouldUseNativeValidation,K);if(re[g.name]&&(f.valid=!1,c))break;!c&&(E(re,g.name)?K?oo(t.errors,re,g.name):Z(t.errors,g.name,re[g.name]):le(t.errors,g.name))}A&&await P(A,c,f)}}return f.valid},q=()=>{for(const l of s.unMount){const c=E(n,l);c&&(c._f.refs?c._f.refs.every(f=>!zt(f)):!zt(c._f.ref))&&xe(l)}s.unMount=new Set},_=(l,c)=>(l&&c&&Z(i,l,c),!Be(G(),o)),S=(l,c,f)=>{const k={...u.mount?i:ee(c)?o:he(l)?{[l]:c}:c};return gn(l,s,k,f)},z=l=>at(E(u.mount?i:o,l,e.shouldUnregister?E(o,l,[]):[])),N=(l,c,f={})=>{const k=E(n,l);let F=c;if(k){const g=k._f;g&&(!g.disabled&&Z(i,l,kn(c,g)),F=Jt&&Qt(g.ref)&&ie(c)?"":c,hn(g.ref)?[...g.ref.options].forEach(A=>A.selected=F.includes(A.value)):g.refs?nt(g.ref)?g.refs.length>1?g.refs.forEach(A=>!A.disabled&&(A.checked=Array.isArray(F)?!!F.find(K=>K===A.value):F===A.value)):g.refs[0]&&(g.refs[0].checked=!!F):g.refs.forEach(A=>A.checked=A.value===F):xr(g.ref)?g.ref.value="":(g.ref.value=F,g.ref.type||m.watch.next({name:l})))}(f.shouldDirty||f.shouldTouch)&&D(l,F,f.shouldTouch,f.shouldDirty,!0),f.shouldValidate&&$(l)},B=(l,c,f)=>{for(const k in c){const F=c[k],g=`${l}.${k}`,A=E(n,g);(s.array.has(l)||!ht(F)||A&&!A._f)&&!ze(F)?B(g,F,f):N(g,F,f)}},se=(l,c,f={})=>{const k=E(n,l),F=s.array.has(l),g=Ce(c);Z(i,l,g),F?(m.array.next({name:l,values:i}),(y.isDirty||y.dirtyFields)&&f.shouldDirty&&(t.dirtyFields=Bt(o,i),m.state.next({name:l,dirtyFields:t.dirtyFields,isDirty:_(l,g)}))):k&&!k._f&&!ie(g)?B(l,g,f):N(l,g,f),Lr(l,s)&&m.state.next({}),m.watch.next({name:l})},M=async l=>{const c=l.target;let f=c.name;const k=E(n,f);if(k){let F,g;const A=c.type?Ht(k._f):cn(l),K=l.type===xt.BLUR||l.type===xt.FOCUS_OUT,re=!co(k._f)&&!r.resolver&&!E(t.errors,f)&&!k._f.deps||fo(K,E(t.touchedFields,f),t.isSubmitted,w,v),we=Lr(f,s,K);Z(i,f,A),K?(k._f.onBlur&&k._f.onBlur(l),p&&p(0)):k._f.onChange&&k._f.onChange(l);const _e=D(f,A,K,!1),St=!de(_e)||we;if(!K&&m.watch.next({name:f,type:l.type}),re)return St&&m.state.next({name:f,...we?{}:_e});if(!K&&we&&m.state.next({}),x[f]=(x[f],1),m.state.next({isValidating:!0}),r.resolver){const{errors:ut}=await I([f]),Rt=jr(t.errors,n,f),h=jr(ut,n,Rt.name||f);F=h.error,f=h.name,g=de(ut)}else F=(await Pr(k,E(i,f),O,r.shouldUseNativeValidation))[f],g=await W(!0);k._f.deps&&$(k._f.deps),Y(f,g,F,_e)}},$=async(l,c={})=>{let f,k;const F=pt(l);if(m.state.next({isValidating:!0}),r.resolver){const g=await R(ee(l)?l:F);f=de(g),k=l?!F.some(A=>E(g,A)):f}else l?(k=(await Promise.all(F.map(async g=>{const A=E(n,g);return await P(A&&A._f?{[g]:A}:A)}))).every(Boolean),!(!k&&!t.isValid)&&W()):k=f=await P(n);return m.state.next({...!he(l)||y.isValid&&f!==t.isValid?{}:{name:l},...r.resolver?{isValid:f}:{},errors:t.errors,isValidating:!1}),c.shouldFocus&&!k&&Xt(n,g=>E(t.errors,g),l?F:s.mount),k},G=l=>{const c={...o,...u.mount?i:{}};return ee(l)?c:he(l)?E(c,l):l.map(f=>E(c,f))},it=(l,c)=>({invalid:!!E((c||t).errors,l),isDirty:!!E((c||t).dirtyFields,l),isTouched:!!E((c||t).touchedFields,l),error:E((c||t).errors,l)}),lt=l=>{l?pt(l).forEach(c=>le(t.errors,c)):t.errors={},m.state.next({errors:t.errors})},Ne=(l,c,f)=>{const k=(E(n,l,{_f:{}})._f||{}).ref;Z(t.errors,l,{...c,ref:k}),m.state.next({name:l,errors:t.errors,isValid:!1}),f&&f.shouldFocus&&k&&k.focus&&k.focus()},st=(l,c)=>At(l)?m.watch.subscribe({next:f=>l(S(void 0,c),f)}):S(l,c,!0),xe=(l,c={})=>{for(const f of l?pt(l):s.mount)s.mount.delete(f),s.array.delete(f),E(n,f)&&(c.keepValue||(le(n,f),le(i,f)),!c.keepError&&le(t.errors,f),!c.keepDirty&&le(t.dirtyFields,f),!c.keepTouched&&le(t.touchedFields,f),!r.shouldUnregister&&!c.keepDefaultValue&&le(o,f));m.watch.next({}),m.state.next({...t,...c.keepDirty?{isDirty:_()}:{}}),!c.keepIsValid&&W()},Me=(l,c={})=>{let f=E(n,l);const k=yt(c.disabled);return Z(n,l,{_f:{...f&&f._f?f._f:{ref:{name:l}},name:l,mount:!0,...c}}),s.mount.add(l),f?k&&Z(i,l,c.disabled?void 0:E(i,l,Ht(f._f))):L(l,!0,c.value),{...k?{disabled:c.disabled}:{},...r.shouldUseNativeValidation?{required:!!c.required,min:Xe(c.min),max:Xe(c.max),minLength:Xe(c.minLength),maxLength:Xe(c.maxLength),pattern:Xe(c.pattern)}:{},name:l,onChange:M,onBlur:M,ref:F=>{if(F){Me(l,c),f=E(n,l);const g=ee(F.value)&&F.querySelectorAll&&F.querySelectorAll("input,select,textarea")[0]||F,A=so(g),K=f._f.refs||[];if(A?K.find(re=>re===g):g===f._f.ref)return;Z(n,l,{_f:{...f._f,...A?{refs:[...K.filter(zt),g,...Array.isArray(E(o,l))?[{}]:[]],ref:{type:g.type,name:l}}:{ref:g}}}),L(l,!1,void 0,g)}else f=E(n,l,{}),f._f&&(f._f.mount=!1),(r.shouldUnregister||c.shouldUnregister)&&!(dn(s.array,l)&&u.action)&&s.unMount.add(l)}}};return{control:{register:Me,unregister:xe,getFieldState:it,_executeSchema:I,_getWatch:S,_getDirty:_,_updateValid:W,_removeUnmounted:q,_updateFieldArray:T,_getFieldArray:z,_subjects:m,_proxyFormState:y,get _fields(){return n},get _formValues(){return i},get _stateFlags(){return u},set _stateFlags(l){u=l},get _defaultValues(){return o},get _names(){return s},set _names(l){s=l},get _formState(){return t},set _formState(l){t=l},get _options(){return r},set _options(l){r={...r,...l}}},trigger:$,register:Me,handleSubmit:(l,c)=>async f=>{f&&(f.preventDefault&&f.preventDefault(),f.persist&&f.persist());let k=!0,F=Ce(i);m.state.next({isSubmitting:!0});try{if(r.resolver){const{errors:g,values:A}=await I();t.errors=g,F=A}else await P(n);de(t.errors)?(m.state.next({errors:{},isSubmitting:!0}),await l(F,f)):(c&&await c({...t.errors},f),r.shouldFocusError&&Xt(n,g=>E(t.errors,g),s.mount))}catch(g){throw k=!1,g}finally{t.isSubmitted=!0,m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:de(t.errors)&&k,submitCount:t.submitCount+1,errors:t.errors})}},watch:st,setValue:se,getValues:G,reset:(l,c={})=>{const f=l||o,k=Ce(f),F=l&&!de(l)?k:o;if(c.keepDefaultValues||(o=f),!c.keepValues){if(c.keepDirtyValues)for(const g of s.mount)E(t.dirtyFields,g)?Z(F,g,E(i,g)):se(g,E(F,g));else{if(Jt&&ee(l))for(const g of s.mount){const A=E(n,g);if(A&&A._f){const K=Array.isArray(A._f.refs)?A._f.refs[0]:A._f.ref;try{if(Qt(K)){K.closest("form").reset();break}}catch{}}}n={}}i=e.shouldUnregister?c.keepDefaultValues?Ce(o):{}:k,m.array.next({values:F}),m.watch.next({values:F})}s={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!y.isValid||!!c.keepIsValid,u.watch=!!e.shouldUnregister,m.state.next({submitCount:c.keepSubmitCount?t.submitCount:0,isDirty:c.keepDirty||c.keepDirtyValues?t.isDirty:!!(c.keepDefaultValues&&!Be(l,o)),isSubmitted:c.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:c.keepDirty||c.keepDirtyValues?t.dirtyFields:c.keepDefaultValues&&l?Bt(o,l):{},touchedFields:c.keepTouched?t.touchedFields:{},errors:c.keepErrors?t.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},resetField:(l,c={})=>{E(n,l)&&(ee(c.defaultValue)?se(l,E(o,l)):(se(l,c.defaultValue),Z(o,l,c.defaultValue)),c.keepTouched||le(t.touchedFields,l),c.keepDirty||(le(t.dirtyFields,l),t.isDirty=c.defaultValue?_(l,E(o,l)):_()),c.keepError||(le(t.errors,l),y.isValid&&W()),m.state.next({...t}))},clearErrors:lt,unregister:xe,setError:Ne,setFocus:(l,c={})=>{const f=E(n,l)._f,k=f.refs?f.refs[0]:f.ref;k.focus(),c.shouldSelect&&k.select()},getFieldState:it}}function bo(e={}){const r=a.useRef(),[t,n]=a.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}});r.current?r.current.control._options=e:r.current={...go(e),formState:t};const o=r.current.control,i=a.useCallback(u=>{mn(u,o._proxyFormState,!0)&&(o._formState={...o._formState,...u},n({...o._formState}))},[o]);return pr({subject:o._subjects.state,callback:i}),a.useEffect(()=>{o._stateFlags.mount||(o._proxyFormState.isValid&&o._updateValid(),o._stateFlags.mount=!0),o._stateFlags.watch&&(o._stateFlags.watch=!1,o._subjects.state.next({})),o._removeUnmounted()}),r.current.formState=fn(t,o._proxyFormState),r.current}const Fe=({error:e})=>e?a.createElement("div",{className:"flex flex-col gap-y-1"},(e==null?void 0:e.message)&&a.createElement("em",{className:"form-error"},e.message),(e==null?void 0:e.types)&&Object.values(e.types).map((r,t)=>a.createElement("em",{key:t,className:"form-error"},r))):null,xo=e=>{var s;const{fieldState:r,field:t}=be({...e}),[n,o]=b.exports.useState("");if(!e.list)return null;const i=n===""?e.list:e.list.filter(p=>p.country.toLowerCase().includes(n.toLowerCase().trim())),u=(s=e.list.find(p=>p.country===t.value))==null?void 0:s.countryId;return a.createElement("div",null,a.createElement(ke,{...e,render:({field:p})=>a.createElement(Ge,{nullable:!0,...p},a.createElement("div",{className:"relative z-10"},a.createElement(Ge.Label,{className:"label"},e.label,e.required&&a.createElement("span",{className:"text-wine-400 ml-1"},"*")),a.createElement("div",{className:"flex flex-row items-center gap-2"},a.createElement("div",{className:`f32 flag pointer-events-none absolute left-2 select-none ${u?u.toLowerCase():""}`}),a.createElement(Ge.Input,{name:p.name+"Term",autoComplete:"off",placeholder:"land",className:"text-input flex-1 pl-12",onChange:d=>o(d.target.value)})),i.length>0&&a.createElement(Qr,null,a.createElement(Ge.Options,{className:"dropdown"},i.map(d=>a.createElement(Ge.Option,{className:({active:x,selected:y})=>`cursor-default flex items-center leading-4 rounded text-sm gap-2 select-none py-2 px-4 ${x&&!y?"bg-slate-200 dark:bg-gray-700/40 text-black dark:text-gray-300":""} ${y?"bg-wine-500 dark:bg-wine-400 text-white":""}`,key:d.countryId,value:d.country},a.createElement("div",{className:`f32 flag pointer-events-none select-none ${d.countryId.toLowerCase()}`}),a.createElement("div",null,d.country)))))))}),a.createElement(Fe,{error:r.error}))},Je=e=>{const{fieldState:r}=be({...e});return a.createElement("div",null,a.createElement(ke,{...e,render:({field:t})=>a.createElement(Ye,{as:"div",className:"relative",...t},a.createElement(Ye.Label,{className:"label"},e.label),a.createElement(Ye.Button,{className:({open:n})=>`btn-white rounded-full min-w-min flex flex-row gap-3 items-center h-12 ${n?"bg-white ring-4 ring-wine-300 border-white ring-opacity-50":""}`},a.createElement(Dr,{percent:Fr[t.value].percent,size:"1.75rem"}),a.createElement("div",{className:`${t.value===0?"text-slate-500":""}`},Ar[e.type][t.value])),a.createElement(Qr,null,a.createElement(Ye.Options,{className:"dropdown"},Fr.map((n,o)=>a.createElement(Ye.Option,{key:o,className:({active:i,selected:u})=>`relative cursor-default flex items-center leading-4 rounded text-sm gap-2 select-none py-2 px-4 ${i&&!u?"bg-slate-200 dark:bg-gray-700/40 text-black dark:text-gray-300":""} ${u?"bg-wine-500 dark:bg-wine-400 text-white":""}`,value:n.value},a.createElement(Dr,{percent:n.percent,size:"1.75rem"}),a.createElement("div",null,Ar[e.type][o]))))))}),a.createElement(Fe,{error:r.error}))},ae=e=>{const{fieldState:r}=be({...e});return a.createElement("div",null,a.createElement("label",{className:"label",htmlFor:e.name},e.label,e.required&&a.createElement("span",{className:"text-wine-400 ml-1"},"*")),a.createElement(ke,{...e,render:({field:{value:t,ref:n,...o}})=>{var i;return a.createElement("div",{className:"relative"},e.textarea?a.createElement("textarea",{autoComplete:"off",className:`text-input h-auto resize-none py-0.5 ${r.error?"border-wine-200 bg-wine-25 text-wine-900 placeholder:text-transparent":""}`,...o,value:t||"",placeholder:e.placeholder,rows:e.rows,maxLength:e.maxLength}):a.createElement(Hn,{allowEnter:e.allowEnter,maxLength:e.maxLength,placeholder:e.placeholder,focus:e.focus,hasError:!!r.error,numeric:(i=e.numeric)!=null?i:!1,value:t,...o}),e.definition&&a.createElement("span",{className:"pointer-events-none absolute right-1.5 top-1.5 h-5 select-none rounded bg-slate-100 px-2 text-sm leading-5 text-slate-800 dark:bg-white/20 dark:text-gray-300"},e.definition))}}),a.createElement(Fe,{error:r.error}))},Ir={name:"",type:"",year:null,price:null,volume:null,alcoholContent:null,country:null,region:null,subRegion:null,productId:null,grapes:null,recommendedFood:null,manufacturerName:null,storagePotential:null,colour:null,odour:null,taste:null,freshness:0,fullness:0,bitterness:0,sweetness:0,tannins:0,file:null,resetImage:!1,userDetails:{quantity:1,purchaseLocation:null,purchaseDate:null,drinkingWindowMin:null,drinkingWindowMax:null,userNote:null,favorite:!1,score:null,userRating:null}},yo=({onChange:e,value:r,placeholder:t,name:n,onBlur:o,minValue:i,maxValue:u,dropDownMaxValue:s,dropDownMinValue:p,hasError:d})=>{const[x,y]=b.exports.useState(!1),m=b.exports.useRef(null);Kn(m,()=>y(!1));const w=s-p,O=T=>{const j=parseInt(T.target.value.replace(/\D/g,""));j>=i&&j<=u?e(j):e(null),o&&o()},U=T=>{isNaN(T)||e(T),y(!1)},W=T=>{T.code==="Enter"?T.preventDefault():T.key==="Tab"&&y(!1)};return a.createElement("div",{ref:m,className:"relative"},a.createElement("input",{placeholder:t,autoComplete:"off",name:n,type:"number",inputMode:"numeric",onKeyDown:T=>W(T),value:r||"",onChange:T=>O(T),onFocus:()=>y(!0),className:`text-input ${d?"border-wine-200 bg-wine-25 text-wine-900 placeholder:text-transparent":""}`}),x&&a.createElement("div",{className:"dropdown z-10"},a.createElement("div",{className:"text-muted border-b border-slate-200 px-4 pb-0.5 text-sm dark:border-gray-700"},"Skriv inn ett \xE5r, eller velg \xE5r nedenfor."),[...Array(w)].map((T,j)=>{const L=p+j;return a.createElement("div",{onClick:()=>U(L),className:`cursor-default select-none gap-2 rounded py-2 px-4 text-sm   ${L===r?"bg-wine-500 dark:bg-wine-400 text-white":"hover:bg-slate-200 hover:text-black hover:dark:bg-gray-700/40 hover:dark:text-gray-300"}`,key:j},L)})))},Kt=e=>{const{fieldState:r}=be({...e});return a.createElement("div",null,a.createElement("label",{className:"label",htmlFor:e.name},e.label),a.createElement(ke,{...e,render:({field:{ref:t,...n}})=>a.createElement(yo,{...n,hasError:!!r.error,minValue:e.minValue,maxValue:e.maxValue,dropDownMinValue:e.dropDownMinValue,dropDownMaxValue:e.dropDownMaxValue,placeholder:e.placeholder})}),a.createElement(Fe,{error:r.error}))},vo=new Date,_t=new Date;_t.setDate(vo.getDate()+1);_t.setHours(0,0,0,0);const dt=e=>e===0?null:e,ho=e=>!e||e<=_t,Eo=(e,r)=>e===null||r===null||e<r,ko=V.object({name:V.string({required_error:"Navn er p\xE5krevd.",invalid_type_error:"Navn er p\xE5krevd og m\xE5 minst v\xE6re 3 bokstaver."}).trim().min(3,"Navn p\xE5 vin m\xE5 minst v\xE6re 3 bokstaver.").max(120,"Navn p\xE5 vin kan max v\xE6re 120 bokstaver."),type:V.string({required_error:"Type er p\xE5krevd.",invalid_type_error:"Type er p\xE5krevd og m\xE5 minst v\xE6re 2 bokstaver."}).trim().min(2,"Type m\xE5 minst v\xE6re 2 bokstaver.").max(20,"Type kan max v\xE6re 20 bokstaver."),year:V.number({invalid_type_error:"\xC5rgang er ugyldig."}).int("\xC5rgang m\xE5 v\xE6re et heltall.").min(0,"\xC5rgang kan kun v\xE6re mellom 0 og 3000.").max(3e3,"\xC5rgang kan kun v\xE6re mellom 0 og 3000.").nullable().transform(dt),price:V.number({invalid_type_error:"Pris er ugyldig."}).int("Pris m\xE5 v\xE6re et heltall.").max(1e6,"Pris kan max v\xE6re 1 000 000 kr.").min(0).nullable().transform(dt),alcoholContent:V.number({invalid_type_error:"Alkoholdinnhold er ugyldig."}).max(100,"Alkoholinnhold kan kun v\xE6re mellom 0 og 100 prosent.").min(0,"Alkoholinnhold kan kun v\xE6re mellom 0 og 100 prosent.").nullable().transform(dt),volume:V.number({invalid_type_error:"Volum er ugyldig."}).max(100,"Volum kan kun v\xE6re mellom 0 og 100 liter.").min(0,"Volum kan kun v\xE6re mellom 0 og 100 liter.").nullable().transform(dt),bitterness:V.number({invalid_type_error:"Verdien er ugyldig."}).min(0,"Verdien til Bitterhet m\xE5 v\xE6re et tall mellom 0 og 12.").max(12,"Verdien til Bitterhet m\xE5 v\xE6re et tall mellom 0 og 12."),sweetness:V.number({invalid_type_error:"Verdien er ugyldig."}).min(0,"Verdien til S\xF8dme m\xE5 v\xE6re et tall mellom 0 og 12.").max(12,"Verdien til S\xF8dme m\xE5 v\xE6re et tall mellom 0 og 12."),freshness:V.number({invalid_type_error:"Verdien er ugyldig."}).min(0,"Verdien til Ferskhet m\xE5 v\xE6re et tall mellom 0 og 12.").max(12,"Verdien til Ferskhet m\xE5 v\xE6re et tall mellom 0 og 12."),fullness:V.number({invalid_type_error:"Verdien er ugyldig."}).min(0,"Verdien til Fylde m\xE5 v\xE6re et tall mellom 0 og 12.").max(12,"Verdien til Fylde m\xE5 v\xE6re et tall mellom 0 og 12."),tannins:V.number({invalid_type_error:"Verdien er ugyldig."}).min(0,"Verdien til Tanninsk m\xE5 v\xE6re et tall mellom 0 og 12.").max(12,"Verdien til Tanninsk m\xE5 v\xE6re et tall mellom 0 og 12."),country:V.string({invalid_type_error:"Land er ugyldig."}).trim().max(70,"Land kan max v\xE6re 70 bokstaver.").nullable(),region:V.string({invalid_type_error:"Distrikt er ugyldig."}).trim().max(70,"Distrikt kan max v\xE6re 70 bokstaver.").nullable(),subRegion:V.string({invalid_type_error:"Underdistrikt er ugyldig."}).trim().max(70,"Underdistrikt kan max v\xE6re 70 bokstaver.").nullable(),manufacturerName:V.string({invalid_type_error:"Produsent er ugyldig."}).trim().max(70,"Produsent kan max v\xE6re 70 bokstaver.").nullable(),storagePotential:V.string({invalid_type_error:"Lagringsgrad er ugyldig."}).trim().max(70,"Lagringsgrad kan max v\xE6re 70 bokstaver.").nullable(),productId:V.string({invalid_type_error:"Produktnummer er ugyldig."}).trim().max(70,"Produktnummer kan max v\xE6re 24 bokstaver.").nullable(),taste:V.string({invalid_type_error:"Smak er ugyldig."}).trim().max(500,"Smak kan max v\xE6re 500 bokstaver.").nullable(),grapes:V.array(V.string(),{invalid_type_error:"R\xE5stoff er ugyldig."}).nullable(),recommendedFood:V.array(V.string(),{invalid_type_error:"Passer til er ugyldig."}).nullable(),odour:V.string({invalid_type_error:"Duft er ugyldig."}).trim().max(500,"Duft kan max v\xE6re 500 bokstaver.").nullable(),colour:V.string({invalid_type_error:"Farge er ugyldig."}).trim().max(500,"Farge kan max v\xE6re 500 bokstaver.").nullable(),resetImage:V.boolean().default(!1).optional(),file:V.instanceof(File).nullable().optional().refine(e=>!e||(e==null?void 0:e.size)<=5e5,"Max filst\xF8rrelse er 5MB.").refine(e=>!e||["image/jpeg","image/jpg","image/png","image/webp"].includes(e==null?void 0:e.type),".jpg, .jpeg, .png and .webp filer er godkjent."),userDetails:V.object({quantity:V.number({required_error:"Antall er p\xE5krevd",invalid_type_error:"Antall er ugyldig."}).int("Antall m\xE5 v\xE6re et heltall").min(0,"Antall m\xE5 v\xE6re mellom 0 og 1000.").max(1e3,"Antall m\xE5 v\xE6re mellom 0 og 1000."),score:V.number({invalid_type_error:"Karakter er ugyldig."}).int("Karakter m\xE5 v\xE6re et heltall").min(50,"Karakter kan kun v\xE6re mellom 50 og 100.").max(100,"Karakter kan kun v\xE6re mellom 50 og 100.").nullable(),drinkingWindowMin:V.number({invalid_type_error:"drikkevindu-fra er ugyldig."}).min(0,"Drikkevindu m\xE5 v\xE6re mellom 0 og 3000.").max(3e3,"Drikkevindu m\xE5 v\xE6re mellom 0 og 3000.").nullable(),drinkingWindowMax:V.number({invalid_type_error:"Drikkevindu-til er ugyldig."}).min(0,"Drikkevindu-til m\xE5 v\xE6re h\xF8yere eller lik drikkevindu-fra.").max(3e3,"Drikkevindu m\xE5 v\xE6re mellom 0 og 3000.").nullable(),userRating:V.number({invalid_type_error:"Vurdering er ugyldig."}).int("Vurdering m\xE5 v\xE6re et heltall").min(0,"Vurdering m\xE5 v\xE6re ett tall mellom 0 og 10.").max(10,"Vurdering m\xE5 v\xE6re ett tall mellom 0 og 10.").nullable(),userNote:V.string({invalid_type_error:"Dine notater er ugyldig."}).trim().max(500,"Dine notater kan max v\xE6re 500 bokstaver.").nullable(),purchaseDate:V.date({invalid_type_error:"Kj\xF8psdato er ugyldig."}).nullable().refine(ho,`Kj\xF8psdato m\xE5 v\xE6re mindre enn ${ea(_t)}`),purchaseLocation:V.string({invalid_type_error:"Kj\xF8pested er ugyldig."}).trim().max(70,"Kj\xF8pested kan max v\xE6re 70 bokstaver.").nullable(),favorite:V.boolean().default(!1)}).refine(e=>Eo(e.drinkingWindowMin,e.drinkingWindowMax),{message:"Drikkevindu-til m\xE5 v\xE6re h\xF8yere eller lik drikkevindu-fra.",path:["drinkingWindowMax"]})});var H={exports:{}},wo="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Do=wo,Fo=Do;function wn(){}function Dn(){}Dn.resetWarningCache=wn;var Ao=function(){function e(n,o,i,u,s,p){if(p!==Fo){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function r(){return e}var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:Dn,resetWarningCache:wn};return t.PropTypes=t,t};H.exports=Ao();var _o=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function ot(e,r){var t=Lo(e);if(typeof t.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof r=="string"?r:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return t}function Lo(e){var r=e.name,t=r&&r.lastIndexOf(".")!==-1;if(t&&!e.type){var n=r.split(".").pop().toLowerCase(),o=_o.get(n);o&&Object.defineProperty(e,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return e}var Oo=[".DS_Store","Thumbs.db"];function Co(e){return He(this,void 0,void 0,function(){return Ke(this,function(r){return kt(e)&&So(e.dataTransfer)?[2,jo(e.dataTransfer,e.type)]:Ro(e)?[2,Po(e)]:Array.isArray(e)&&e.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,To(e)]:[2,[]]})})}function So(e){return kt(e)}function Ro(e){return kt(e)&&kt(e.target)}function kt(e){return typeof e=="object"&&e!==null}function Po(e){return er(e.target.files).map(function(r){return ot(r)})}function To(e){return He(this,void 0,void 0,function(){var r;return Ke(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return r=t.sent(),[2,r.map(function(n){return ot(n)})]}})})}function jo(e,r){return He(this,void 0,void 0,function(){var t,n;return Ke(this,function(o){switch(o.label){case 0:return e.items?(t=er(e.items).filter(function(i){return i.kind==="file"}),r!=="drop"?[2,t]:[4,Promise.all(t.map(Io))]):[3,2];case 1:return n=o.sent(),[2,Vr(Fn(n))];case 2:return[2,Vr(er(e.files).map(function(i){return ot(i)}))]}})})}function Vr(e){return e.filter(function(r){return Oo.indexOf(r.name)===-1})}function er(e){if(e===null)return[];for(var r=[],t=0;t<e.length;t++){var n=e[t];r.push(n)}return r}function Io(e){if(typeof e.webkitGetAsEntry!="function")return Nr(e);var r=e.webkitGetAsEntry();return r&&r.isDirectory?An(r):Nr(e)}function Fn(e){return e.reduce(function(r,t){return Er(Er([],kr(r),!1),kr(Array.isArray(t)?Fn(t):[t]),!1)},[])}function Nr(e){var r=e.getAsFile();if(!r)return Promise.reject("".concat(e," is not a File"));var t=ot(r);return Promise.resolve(t)}function Vo(e){return He(this,void 0,void 0,function(){return Ke(this,function(r){return[2,e.isDirectory?An(e):No(e)]})})}function An(e){var r=e.createReader();return new Promise(function(t,n){var o=[];function i(){var u=this;r.readEntries(function(s){return He(u,void 0,void 0,function(){var p,d,x;return Ke(this,function(y){switch(y.label){case 0:if(s.length)return[3,5];y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Promise.all(o)];case 2:return p=y.sent(),t(p),[3,4];case 3:return d=y.sent(),n(d),[3,4];case 4:return[3,6];case 5:x=Promise.all(s.map(Vo)),o.push(x),i(),y.label=6;case 6:return[2]}})})},function(s){n(s)})}i()})}function No(e){return He(this,void 0,void 0,function(){return Ke(this,function(r){return[2,new Promise(function(t,n){e.file(function(o){var i=ot(o,e.fullPath);t(i)},function(o){n(o)})})]})})}var Mo=function(e,r){if(e&&r){var t=Array.isArray(r)?r:r.split(","),n=e.name||"",o=(e.type||"").toLowerCase(),i=o.replace(/\/.*$/,"");return t.some(function(u){var s=u.trim().toLowerCase();return s.charAt(0)==="."?n.toLowerCase().endsWith(s):s.endsWith("/*")?i===s.replace(/\/.*$/,""):o===s})}return!0};function Mr(e){return Uo(e)||$o(e)||Ln(e)||Wo()}function Wo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $o(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Uo(e){if(Array.isArray(e))return tr(e)}function Wr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function $r(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Wr(Object(t),!0).forEach(function(n){_n(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Wr(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function _n(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Qe(e,r){return Ho(e)||Bo(e,r)||Ln(e,r)||zo()}function zo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ln(e,r){if(!!e){if(typeof e=="string")return tr(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return tr(e,r)}}function tr(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Bo(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,u,s;try{for(t=t.call(e);!(o=(u=t.next()).done)&&(n.push(u.value),!(r&&n.length===r));o=!0);}catch(p){i=!0,s=p}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw s}}return n}}function Ho(e){if(Array.isArray(e))return e}var Ko="file-invalid-type",qo="file-too-large",Zo="file-too-small",Yo="too-many-files",Go=function(r){r=Array.isArray(r)&&r.length===1?r[0]:r;var t=Array.isArray(r)?"one of ".concat(r.join(", ")):r;return{code:Ko,message:"File type must be ".concat(t)}},Ur=function(r){return{code:qo,message:"File is larger than ".concat(r," ").concat(r===1?"byte":"bytes")}},zr=function(r){return{code:Zo,message:"File is smaller than ".concat(r," ").concat(r===1?"byte":"bytes")}},Xo={code:Yo,message:"Too many files"};function On(e,r){var t=e.type==="application/x-moz-file"||Mo(e,r);return[t,t?null:Go(r)]}function Cn(e,r,t){if(Se(e.size))if(Se(r)&&Se(t)){if(e.size>t)return[!1,Ur(t)];if(e.size<r)return[!1,zr(r)]}else{if(Se(r)&&e.size<r)return[!1,zr(r)];if(Se(t)&&e.size>t)return[!1,Ur(t)]}return[!0,null]}function Se(e){return e!=null}function Jo(e){var r=e.files,t=e.accept,n=e.minSize,o=e.maxSize,i=e.multiple,u=e.maxFiles,s=e.validator;return!i&&r.length>1||i&&u>=1&&r.length>u?!1:r.every(function(p){var d=On(p,t),x=Qe(d,1),y=x[0],m=Cn(p,n,o),v=Qe(m,1),w=v[0],O=s?s(p):null;return y&&w&&!O})}function wt(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function ft(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(r){return r==="Files"||r==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Br(e){e.preventDefault()}function Qo(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function ei(e){return e.indexOf("Edge/")!==-1}function ti(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Qo(e)||ei(e)}function ve(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(n){for(var o=arguments.length,i=new Array(o>1?o-1:0),u=1;u<o;u++)i[u-1]=arguments[u];return r.some(function(s){return!wt(n)&&s&&s.apply(void 0,[n].concat(i)),wt(n)})}}function ri(){return"showOpenFilePicker"in window}function ni(e){if(Se(e)){var r=Object.entries(e).filter(function(t){var n=Qe(t,2),o=n[0],i=n[1],u=!0;return Sn(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),u=!1),(!Array.isArray(i)||!i.every(Rn))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),u=!1),u}).reduce(function(t,n){var o=Qe(n,2),i=o[0],u=o[1];return $r($r({},t),{},_n({},i,u))},{});return[{accept:r}]}return e}function ai(e){if(Se(e))return Object.entries(e).reduce(function(r,t){var n=Qe(t,2),o=n[0],i=n[1];return[].concat(Mr(r),[o],Mr(i))},[]).filter(function(r){return Sn(r)||Rn(r)}).join(",")}function oi(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function ii(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function Sn(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function Rn(e){return/^.*\.[\w]+$/.test(e)}var li=["children"],si=["open"],ui=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],ci=["refKey","onChange","onClick"];function di(e){return pi(e)||mi(e)||Pn(e)||fi()}function fi(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mi(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pi(e){if(Array.isArray(e))return rr(e)}function qt(e,r){return xi(e)||bi(e,r)||Pn(e,r)||gi()}function gi(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pn(e,r){if(!!e){if(typeof e=="string")return rr(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return rr(e,r)}}function rr(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function bi(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,u,s;try{for(t=t.call(e);!(o=(u=t.next()).done)&&(n.push(u.value),!(r&&n.length===r));o=!0);}catch(p){i=!0,s=p}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw s}}return n}}function xi(e){if(Array.isArray(e))return e}function Hr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function J(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Hr(Object(t),!0).forEach(function(n){nr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Hr(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function nr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Dt(e,r){if(e==null)return{};var t=yi(e,r),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],!(r.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(t[n]=e[n]))}return t}function yi(e,r){if(e==null)return{};var t={},n=Object.keys(e),o,i;for(i=0;i<n.length;i++)o=n[i],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}var vr=b.exports.forwardRef(function(e,r){var t=e.children,n=Dt(e,li),o=jn(n),i=o.open,u=Dt(o,si);return b.exports.useImperativeHandle(r,function(){return{open:i}},[i]),a.createElement(b.exports.Fragment,null,t(J(J({},u),{},{open:i})))});vr.displayName="Dropzone";var Tn={disabled:!1,getFilesFromEvent:Co,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};vr.defaultProps=Tn;vr.propTypes={children:H.exports.func,accept:H.exports.objectOf(H.exports.arrayOf(H.exports.string)),multiple:H.exports.bool,preventDropOnDocument:H.exports.bool,noClick:H.exports.bool,noKeyboard:H.exports.bool,noDrag:H.exports.bool,noDragEventsBubbling:H.exports.bool,minSize:H.exports.number,maxSize:H.exports.number,maxFiles:H.exports.number,disabled:H.exports.bool,getFilesFromEvent:H.exports.func,onFileDialogCancel:H.exports.func,onFileDialogOpen:H.exports.func,useFsAccessApi:H.exports.bool,autoFocus:H.exports.bool,onDragEnter:H.exports.func,onDragLeave:H.exports.func,onDragOver:H.exports.func,onDrop:H.exports.func,onDropAccepted:H.exports.func,onDropRejected:H.exports.func,onError:H.exports.func,validator:H.exports.func};var ar={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function jn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=J(J({},Tn),e),t=r.accept,n=r.disabled,o=r.getFilesFromEvent,i=r.maxSize,u=r.minSize,s=r.multiple,p=r.maxFiles,d=r.onDragEnter,x=r.onDragLeave,y=r.onDragOver,m=r.onDrop,v=r.onDropAccepted,w=r.onDropRejected,O=r.onFileDialogCancel,U=r.onFileDialogOpen,W=r.useFsAccessApi,T=r.autoFocus,j=r.preventDropOnDocument,L=r.noClick,D=r.noKeyboard,Y=r.noDrag,I=r.noDragEventsBubbling,R=r.onError,P=r.validator,q=b.exports.useMemo(function(){return ai(t)},[t]),_=b.exports.useMemo(function(){return ni(t)},[t]),S=b.exports.useMemo(function(){return typeof U=="function"?U:Kr},[U]),z=b.exports.useMemo(function(){return typeof O=="function"?O:Kr},[O]),N=b.exports.useRef(null),B=b.exports.useRef(null),se=b.exports.useReducer(vi,ar),M=qt(se,2),$=M[0],G=M[1],it=$.isFocused,lt=$.isFileDialogActive,Ne=b.exports.useRef(typeof window<"u"&&window.isSecureContext&&W&&ri()),st=function(){!Ne.current&&lt&&setTimeout(function(){if(B.current){var C=B.current.files;C.length||(G({type:"closeDialog"}),z())}},300)};b.exports.useEffect(function(){return window.addEventListener("focus",st,!1),function(){window.removeEventListener("focus",st,!1)}},[B,lt,z,Ne]);var xe=b.exports.useRef([]),Me=function(C){N.current&&N.current.contains(C.target)||(C.preventDefault(),xe.current=[])};b.exports.useEffect(function(){return j&&(document.addEventListener("dragover",Br,!1),document.addEventListener("drop",Me,!1)),function(){j&&(document.removeEventListener("dragover",Br),document.removeEventListener("drop",Me))}},[N,j]),b.exports.useEffect(function(){return!n&&T&&N.current&&N.current.focus(),function(){}},[N,T,n]);var Ae=b.exports.useCallback(function(h){R?R(h):console.error(h)},[R]),Lt=b.exports.useCallback(function(h){h.preventDefault(),h.persist(),_e(h),xe.current=[].concat(di(xe.current),[h.target]),ft(h)&&Promise.resolve(o(h)).then(function(C){if(!(wt(h)&&!I)){var te=C.length,ne=te>0&&Jo({files:C,accept:q,minSize:u,maxSize:i,multiple:s,maxFiles:p,validator:P}),ce=te>0&&!ne;G({isDragAccept:ne,isDragReject:ce,isDragActive:!0,type:"setDraggedFiles"}),d&&d(h)}}).catch(function(C){return Ae(C)})},[o,d,Ae,I,q,u,i,s,p,P]),Ot=b.exports.useCallback(function(h){h.preventDefault(),h.persist(),_e(h);var C=ft(h);if(C&&h.dataTransfer)try{h.dataTransfer.dropEffect="copy"}catch{}return C&&y&&y(h),!1},[y,I]),Ct=b.exports.useCallback(function(h){h.preventDefault(),h.persist(),_e(h);var C=xe.current.filter(function(ne){return N.current&&N.current.contains(ne)}),te=C.indexOf(h.target);te!==-1&&C.splice(te,1),xe.current=C,!(C.length>0)&&(G({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),ft(h)&&x&&x(h))},[N,x,I]),l=b.exports.useCallback(function(h,C){var te=[],ne=[];h.forEach(function(ce){var Ze=On(ce,q),We=qt(Ze,2),Pt=We[0],Tt=We[1],jt=Cn(ce,u,i),ct=qt(jt,2),It=ct[0],Vt=ct[1],Nt=P?P(ce):null;if(Pt&&It&&!Nt)te.push(ce);else{var Mt=[Tt,Vt];Nt&&(Mt=Mt.concat(Nt)),ne.push({file:ce,errors:Mt.filter(function(Vn){return Vn})})}}),(!s&&te.length>1||s&&p>=1&&te.length>p)&&(te.forEach(function(ce){ne.push({file:ce,errors:[Xo]})}),te.splice(0)),G({acceptedFiles:te,fileRejections:ne,type:"setFiles"}),m&&m(te,ne,C),ne.length>0&&w&&w(ne,C),te.length>0&&v&&v(te,C)},[G,s,q,u,i,p,m,v,w,P]),c=b.exports.useCallback(function(h){h.preventDefault(),h.persist(),_e(h),xe.current=[],ft(h)&&Promise.resolve(o(h)).then(function(C){wt(h)&&!I||l(C,h)}).catch(function(C){return Ae(C)}),G({type:"reset"})},[o,l,Ae,I]),f=b.exports.useCallback(function(){if(Ne.current){G({type:"openDialog"}),S();var h={multiple:s,types:_};window.showOpenFilePicker(h).then(function(C){return o(C)}).then(function(C){l(C,null),G({type:"closeDialog"})}).catch(function(C){oi(C)?(z(C),G({type:"closeDialog"})):ii(C)?(Ne.current=!1,B.current?(B.current.value=null,B.current.click()):Ae(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Ae(C)});return}B.current&&(G({type:"openDialog"}),S(),B.current.value=null,B.current.click())},[G,S,z,W,l,Ae,_,s]),k=b.exports.useCallback(function(h){!N.current||!N.current.isEqualNode(h.target)||(h.key===" "||h.key==="Enter"||h.keyCode===32||h.keyCode===13)&&(h.preventDefault(),f())},[N,f]),F=b.exports.useCallback(function(){G({type:"focus"})},[]),g=b.exports.useCallback(function(){G({type:"blur"})},[]),A=b.exports.useCallback(function(){L||(ti()?setTimeout(f,0):f())},[L,f]),K=function(C){return n?null:C},re=function(C){return D?null:K(C)},we=function(C){return Y?null:K(C)},_e=function(C){I&&C.stopPropagation()},St=b.exports.useMemo(function(){return function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=h.refKey,te=C===void 0?"ref":C,ne=h.role,ce=h.onKeyDown,Ze=h.onFocus,We=h.onBlur,Pt=h.onClick,Tt=h.onDragEnter,jt=h.onDragOver,ct=h.onDragLeave,It=h.onDrop,Vt=Dt(h,ui);return J(J(nr({onKeyDown:re(ve(ce,k)),onFocus:re(ve(Ze,F)),onBlur:re(ve(We,g)),onClick:K(ve(Pt,A)),onDragEnter:we(ve(Tt,Lt)),onDragOver:we(ve(jt,Ot)),onDragLeave:we(ve(ct,Ct)),onDrop:we(ve(It,c)),role:typeof ne=="string"&&ne!==""?ne:"presentation"},te,N),!n&&!D?{tabIndex:0}:{}),Vt)}},[N,k,F,g,A,Lt,Ot,Ct,c,D,Y,n]),ut=b.exports.useCallback(function(h){h.stopPropagation()},[]),Rt=b.exports.useMemo(function(){return function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=h.refKey,te=C===void 0?"ref":C,ne=h.onChange,ce=h.onClick,Ze=Dt(h,ci),We=nr({accept:q,multiple:s,type:"file",style:{display:"none"},onChange:K(ve(ne,c)),onClick:K(ve(ce,ut)),tabIndex:-1},te,B);return J(J({},We),Ze)}},[B,t,s,c,n]);return J(J({},$),{},{isFocused:it&&!n,getRootProps:St,getInputProps:Rt,rootRef:N,inputRef:B,open:K(f)})}function vi(e,r){switch(r.type){case"focus":return J(J({},e),{},{isFocused:!0});case"blur":return J(J({},e),{},{isFocused:!1});case"openDialog":return J(J({},ar),{},{isFileDialogActive:!0});case"closeDialog":return J(J({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return J(J({},e),{},{isDragActive:r.isDragActive,isDragAccept:r.isDragAccept,isDragReject:r.isDragReject});case"setFiles":return J(J({},e),{},{acceptedFiles:r.acceptedFiles,fileRejections:r.fileRejections});case"reset":return J({},ar);default:return e}}function Kr(){}const qr=1048576,hi=({onChange:e,value:r})=>{const t=b.exports.useCallback(d=>{e(d?d[0]:null)},[e]),{getRootProps:n,getInputProps:o,isDragActive:i,isDragReject:u,fileRejections:s}=jn({onDrop:t,multiple:!1,minSize:0,maxSize:qr,accept:{"image/*":[]}}),p=s.length>0&&s[0].file.size>qr;return a.createElement("div",null,r&&a.createElement("div",{className:"flex flex-wrap items-end justify-between gap-2"},a.createElement("button",{className:"btn-white w-auto",onClick:d=>{d.preventDefault(),e(null)}},"Fjern bilde"),(r==null?void 0:r.name)&&a.createElement("div",{className:"text-green-wine-500 dark:text-green-wine-200 flex flex-row items-center gap-x-2 text-sm"},a.createElement(ga,{size:"1.5rem",weight:"duotone"}),r.name)),a.createElement("div",{className:"my-2 cursor-pointer text-center text-sm",...n()},a.createElement("input",{...o()}),i?a.createElement("p",{className:`${i?"border-green-wine-500 border":""} text-green-wine-500 flex flex-col items-center rounded border  border-dashed bg-slate-50 p-4 py-4 font-medium shadow-lg `},u?"Denne filtypen st\xF8ttes ikke!":a.createElement(_r,{size:"1.75rem",className:"animate-bounce",weight:"duotone"})):a.createElement("div",{className:"rounded border border-dashed border-slate-300 bg-slate-50 p-4 py-4 text-center hover:border-slate-500 hover:bg-slate-100 dark:border-gray-700 dark:bg-gray-900"},a.createElement("div",{className:"flex flex-row items-center justify-center gap-2"},a.createElement(_r,{size:"1.75rem",weight:"duotone"}),"Trykk her, eller dra et bilde hit"),p&&a.createElement("p",{className:"text-wine-500"}," Filen er for stor!"))))},Ei=e=>{const{fieldState:r}=be({...e});return a.createElement("div",null,a.createElement("label",{className:"label",htmlFor:e.name},e.label),a.createElement(ke,{...e,render:({field:{ref:t,value:n,...o}})=>a.createElement(hi,{value:n,...o})}),a.createElement(Fe,{error:r.error}))},ki=({value:e,onChange:r})=>{const t=o=>{if(o.preventDefault(),!e){r(1);return}if(e>=10)return;const i=e+1;r(i)},n=o=>{if(o.preventDefault(),!e||e<=0)return;if(e===1){r(null);return}const i=e-1;r(i)};return a.createElement("div",{className:"flex flex-row items-center gap-2"},a.createElement("button",{type:"button",onClick:n,className:"btn-white flex h-10 w-10 items-center justify-center rounded-full"},"-"),a.createElement("div",{className:"relative flex items-center self-stretch"},a.createElement(sa,{stars:e||0,size:"1.75rem"}),a.createElement("span",{className:"absolute -top-2.5 w-full select-none text-center text-sm text-gray-500"},e&&e/2)),a.createElement("button",{type:"button",onClick:t,className:"btn-white flex h-10 w-10 items-center justify-center rounded-full"},"+"))},wi=e=>{const{fieldState:r}=be({...e});return a.createElement("div",null,a.createElement("label",{className:"label",htmlFor:e.name},e.label),a.createElement(ke,{...e,render:({field:{ref:t,...n}})=>a.createElement(ki,{...n})}),a.createElement(Fe,{error:r.error}))},Di=({isOpen:e,setIsOpen:r,getValues:t})=>{const[n,o]=b.exports.useState(t);return b.exports.useEffect(()=>{!e||(o(t()),console.log("Update values"))},[t,e]),n?a.createElement(ta,{title:"Forh\xE5ndsvisning av vin",description:n==null?void 0:n.name,isOpen:e,setIsOpen:r,xl:!0},a.createElement(oa,{wine:n})):null},Fi=({file:e,productId:r,wine:t,...n})=>{const[o,i]=b.exports.useState(null),{field:u}=be({...n});return b.exports.useEffect(()=>{const s=()=>{i(na(r,300))};e?i(URL.createObjectURL(e)):t.imageByUser&&!u.value?i(t.pictureUrl):u.value&&r||t.productId!==r?s():t.pictureUrl?i(t.pictureUrl):r&&s()},[t,r,e,u.value]),a.createElement("div",{className:"mb-4 select-none rounded bg-white p-2 shadow md:mb-0"},a.createElement("img",{className:"mx-auto h-64 w-64 object-scale-down",src:o||ra,alt:"Bilde av en vin."}),t.imageByUser&&r&&!e&&a.createElement(ke,{...n,render:({field:{value:s,onChange:p,...d}})=>a.createElement("div",{className:"mt-2 flex flex-row items-center gap-2"},a.createElement(en,{...d,checked:s,onChange:p,className:`${s?"bg-wine-500":"bg-slate-200 hover:bg-slate-300"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-100`},a.createElement("span",{className:`${s?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 rounded-full bg-white  transition ease-in-out`})),a.createElement("span",{className:"text-sm font-medium text-gray-700"},"Tilbakestill bilde"))}))},Ai=e=>{const{fieldState:r}=be({...e});return a.createElement("div",null,a.createElement("label",{className:"label",htmlFor:e.name},e.label),a.createElement(ke,{...e,render:({field:{value:t,onChange:n,...o}})=>a.createElement("div",{className:""},a.createElement(en,{...o,checked:t,onChange:n,className:`${t?"bg-wine-500 hover:bg-wine-600":"bg-slate-200 hover:bg-slate-300 dark:bg-gray-900 dark:hover:bg-gray-900/80"} relative inline-flex h-10 w-full rounded-full transition-colors duration-100`},a.createElement("span",{className:`${t?"translate-x-full":"translate-x-0"} inline-flex h-full w-1/2 items-center p-1 transition ease-in-out  `},a.createElement("p",{className:"flex w-full items-center justify-center gap-x-1 rounded-full bg-white py-1 dark:bg-gray-800"},t&&a.createElement(Xn,{size:"1.25rem",weight:"duotone",className:"text-wine-500"}),t?"Favoritt":"Ikke favoritt"))))}),a.createElement(Fe,{error:r.error}))},_i=e=>{const{fieldState:r}=be({...e});return a.createElement("div",null,a.createElement("label",{className:"label",htmlFor:e.name},e.label),a.createElement(ke,{...e,render:({field:{onChange:t,value:n}})=>a.createElement(ia,{hereafter:e.hereafter,onChange:t,value:n,text:e.text})}),a.createElement(Fe,{error:r.error}))},Li=({value:e,onChange:r,min:t,max:n,error:o})=>{var y;const[i,u]=b.exports.useState(""),[s,p]=b.exports.useState(null),d=m=>{if(m.code==="Enter"||m.code==="Comma"){m.preventDefault();const v=i.trim();if(v.length<t){p(`Verdien m\xE5 minst v\xE6re p\xE5 ${t} bokstaver.`);return}else if(e!=null&&e.some(w=>w.toLowerCase()===v.toLowerCase())){p("Verdien m\xE5 v\xE6re unik.");return}if(e){if(e.length>=n){p(`Listen kan max ha en lengde p\xE5 ${n}.`);return}r([...e,v])}else r([v]);p(null),u("")}},x=m=>{var v;r((v=e==null?void 0:e.filter(w=>w!==m))!=null?v:[])};return a.createElement("div",null,e&&a.createElement("ul",{className:"i-flex-row mb-1.5 flex-wrap gap-y-2"},e.map((m,v)=>a.createElement("li",{className:`bg-blue-wine-300 dark:bg-blue-wine-500 i-flex-row cursor-pointer rounded-full py-1
                px-3 text-sm font-medium text-white hover:opacity-70 ${(o==null?void 0:o.types)&&Object.values(o.types).some(w=>{if(!w)return!1;const O=w.toString(),U=O.slice(O.indexOf("'")+1,O.lastIndexOf("'"));return U===m?U:!1})?"bg-wine-400 animate-pulse":""}`,onClick:()=>x(m),key:v},m,a.createElement(qn,{size:"1.1rem"})))),a.createElement("div",{className:"relative"},a.createElement("input",{placeholder:"trykk enter eller komma for \xE5 legge til verdi til listen",value:i,onChange:m=>{u(m.target.value),p(null)},autoComplete:"off",type:"text",onKeyDown:m=>d(m),className:`text-input ${s||(o==null?void 0:o.types)?"border-wine-200 bg-wine-25 text-wine-900 placeholder:text-transparent":""}`}),s&&a.createElement("em",{className:"text-wine-500 dark:text-wine-300 block text-sm italic"},s),a.createElement("small",{className:"text-muted absolute right-0 -bottom-2/4 z-0 text-xs"},`${(y=e==null?void 0:e.length)!=null?y:0}/${n}`)))},Zr=e=>{const{fieldState:r}=be({...e});return a.createElement("div",null,a.createElement("label",{className:"label",htmlFor:e.name},e.label),a.createElement(ke,{...e,render:({field:{ref:t,...n}})=>a.createElement(Li,{...n,min:e.min,max:e.max,error:r.error})}),a.createElement(Fe,{error:r.error}))};var Yr=function(e,r,t){if(e&&"reportValidity"in e){var n=E(t,r);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},In=function(e,r){var t=function(o){var i=r.fields[o];i&&i.ref&&"reportValidity"in i.ref?Yr(i.ref,o,e):i.refs&&i.refs.forEach(function(u){return Yr(u,o,e)})};for(var n in r.fields)t(n)},Oi=function(e,r){r.shouldUseNativeValidation&&In(e,r);var t={};for(var n in e){var o=E(r.fields,n);Z(t,n,Object.assign(e[n],{ref:o&&o.ref}))}return t},Ci=function(e,r){for(var t={};e.length;){var n=e[0],o=n.code,i=n.message,u=n.path.join(".");if(!t[u])if("unionErrors"in n){var s=n.unionErrors[0].errors[0];t[u]={message:s.message,type:s.code}}else t[u]={message:i,type:o};if("unionErrors"in n&&n.unionErrors.forEach(function(x){return x.errors.forEach(function(y){return e.push(y)})}),r){var p=t[u].types,d=p&&p[n.code];t[u]=bn(u,r,t,o,d?[].concat(d,n.message):n.message)}e.shift()}return t},Si=function(e,r,t){return t===void 0&&(t={}),function(n,o,i){try{return Promise.resolve(function(u,s){try{var p=Promise.resolve(e[t.mode==="sync"?"parse":"parseAsync"](n,r)).then(function(d){return i.shouldUseNativeValidation&&In({},i),{errors:{},values:t.rawValues?n:d}})}catch(d){return s(d)}return p&&p.then?p.then(void 0,s):p}(0,function(u){return{values:{},errors:u.isEmpty?{}:Oi(Ci(u.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)}}))}catch(u){return Promise.reject(u)}}};const Ri=["name","type","volume","price","storagePotential","region","subRegion","year","alcoholContent","manufacturerName","country"],Pi=["freshness","fullness","bitterness","sweetness","tannins","grapes","colour","recommendedFood","odour","taste"],Ti=["quantity","purchaseDate","drinkingWindowMin","drinkingWindowMax","purchaseLocation","userNote","favorite","score","userRating"],Gr=[Ri,Pi,Ti],ji=["Vindetaljer","Smaksdetaljer","Brukerdetaljer"],Zt={hide:{opacity:0,translateY:-8,transition:{duration:.2,ease:"linear"}},show:{opacity:1,translateY:0,transition:{duration:.2,ease:"linear"}}},Hi=({onSubmit:e,serverErrors:r,wine:t,setDeleteModalIsOpen:n})=>{const{data:o,...i}=ua(),[u,s]=b.exports.useState(!1),[p,d]=b.exports.useState(!1),[x,y]=b.exports.useState(0),{handleSubmit:m,control:v,reset:w,setError:O,watch:U,getValues:W,setValue:T,formState:{isSubmitting:j,errors:L,isValid:D}}=bo({mode:"all",defaultValues:Ir,shouldUseNativeValidation:!1,resolver:Si(ko)}),Y=U("file",null);b.exports.useEffect(()=>{if(!!r){for(const[P,q]of Object.entries(r))if(P in Ir||P.includes("userDetails.")){let _=P;if(_.includes("userDetails.")){const S=_.charAt(_.indexOf(".")+1);_="userDetails."+S.toLowerCase()+_.split(`.${S}`)[1]}O(_,{types:{...q}})}}},[r,O]),b.exports.useEffect(()=>{if(!t)return;const P={...t,userDetails:{...t.userDetails,purchaseDate:t.userDetails.purchaseDate?new Date(t.userDetails.purchaseDate):null}};w(P)},[t,w]);const I=(P,q=!1)=>{const _=q?L.userDetails:L;if(!_||Object.keys(_).length===0)return 0;let S=0;return P.forEach(z=>_.hasOwnProperty(z)?S+=1:null),S},R=async P=>{var S,z;if(!o){await e(P);return}const q=((z=(S=o==null?void 0:o.find(N=>{var B,se;return((B=N.country)==null?void 0:B.toLowerCase())===((se=P.country)==null?void 0:se.toLowerCase())}))==null?void 0:S.countryId)==null?void 0:z.toLowerCase())||null,_={...P,countryId:q};await e(_)};return a.createElement(a.Fragment,null,a.createElement(Di,{setIsOpen:s,isOpen:u,getValues:W}),a.createElement(ca,{setIsOpen:d,productId:t==null?void 0:t.productId,isOpen:p,setValues:w,getValues:W,setValue:T}),a.createElement("div",{className:"block-less-muted mt-6 rounded-lg p-4 md:p-8 "},a.createElement(Oe.Group,{selectedIndex:x,onChange:y},a.createElement("div",{className:"mb-6 flex flex-col items-start justify-between gap-x-2 gap-y-4 lg:flex-row lg:items-center"},a.createElement(Oe.List,{className:"xts:flex-row inline-flex w-full max-w-lg flex-col gap-x-1 gap-y-2"},ji.map((P,q)=>a.createElement(Oe,{key:q,className:({selected:_})=>`relative rounded-t flex-1 border dark:border-gray-700 focus:outline-none focus:ring-0 md:px-8 px-4 py-4 text-sm select-none font-medium ${_?" text-wine-500 border-b-wine-500 dark:text-white bg-white dark:bg-gray-700/80 border-b-2 dark:border-b-wine-500":"text-gray-700 hover:border-gray-300 dark:bg-gray-800/70 bg-white dark:text-gray-300 dark:hover:text-gray-200 dark:hover:border-gray-600 dark:hover:bg-gray-800/60 hover:text-black "}`},!!I(Gr[q],q===2)&&a.createElement("div",{className:"text-wine-400 dark:text-wine-300 pointer-events-none absolute -top-4 left-0 w-full animate-bounce"},a.createElement("div",{className:"border-wine-400 inline-flex flex-row items-center justify-center gap-x-1 rounded bg-slate-200/40 py-2 px-4 backdrop-blur-sm dark:bg-gray-800/40"},a.createElement(ha,{size:"1.5rem",weight:"duotone"}),I(Gr[q],q===2))),P))),a.createElement("button",{onClick:()=>d(!0),className:"btn-secondary xs:w-auto flex h-12 w-full flex-row items-center justify-center gap-x-2 rounded-full"},a.createElement(ma,{size:"1.5rem"}),"Hent fra Vinmonopolet")),a.createElement("div",{className:"relative my-6 border-t border-slate-200 dark:border-gray-700"},W("productId")&&a.createElement("span",{className:"dark:bg-gray-950 bg-slate-25 absolute right-4 -top-3 px-1 text-sm text-slate-400"},a.createElement("span",{className:"select-none"},"produktId: "),W("productId"))),a.createElement("form",{autoComplete:"off",onSubmit:m(P=>R(P))},a.createElement(Oe.Panels,null,a.createElement(aa,{initial:!1},a.createElement(Oe.Panel,{key:0,as:Wt.div,initial:"hide",animate:"show",variants:Zt,className:"flex flex-col gap-y-4 sm:gap-y-6 lg:gap-y-8"},a.createElement("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2"},a.createElement(ae,{required:!0,control:v,name:"name",label:"Navn",placeholder:"navn p\xE5 vin"}),a.createElement(ae,{control:v,name:"storagePotential",label:"Lagringsgrad",placeholder:"lagringsgrad"})),a.createElement("div",{className:"flex-row items-center gap-4 md:flex"},a.createElement(Fi,{file:Y,wine:{pictureUrl:t==null?void 0:t.pictureUrl,imageByUser:t==null?void 0:t.imageByUser,productId:t==null?void 0:t.productId},productId:W("productId"),name:"resetImage",control:v}),a.createElement("div",{className:"grid flex-1 grid-cols-1 gap-4 sm:grid-cols-2 sm:gap-y-6 lg:grid-cols-3 lg:gap-y-8"},a.createElement(ae,{required:!0,control:v,name:"type",label:"Type",placeholder:"Vintype"}),a.createElement(Kt,{control:v,minValue:0,maxValue:3e3,dropDownMinValue:new Date().getFullYear()-10,dropDownMaxValue:new Date().getFullYear()+1,name:"year",label:"\xC5rgang",placeholder:"\xE5rgang"}),a.createElement(ae,{control:v,name:"volume",label:"Volum",numeric:!0,maxLength:10,definition:"liter",placeholder:"volum"}),a.createElement(ae,{control:v,name:"price",numeric:!0,maxLength:10,label:"Pris",definition:"kr",placeholder:"pris"}),a.createElement(ae,{control:v,name:"alcoholContent",numeric:!0,maxLength:10,label:"Alkoholdinnhold",definition:"%",placeholder:"alkoholinnhold"}),a.createElement(ae,{control:v,name:"manufacturerName",label:"Produsent",placeholder:"produsent"}),i.isLoading?a.createElement("div",{className:"flex flex-col items-center justify-center space-x-4"},a.createElement(Zn,{height:"2rem",width:"2.5rem",className:"mx-4",fill:"gray"}),a.createElement("span",{className:"text-sm text-slate-500"},"Laster land...")):a.createElement(a.Fragment,null,o?a.createElement(xo,{name:"country",label:"Land",control:v,list:o}):a.createElement(ae,{control:v,name:"country",label:"Land",placeholder:"land"})),a.createElement(ae,{control:v,name:"region",label:"Distrikt",placeholder:"distrikt"}),a.createElement(ae,{control:v,name:"subRegion",label:"Underdistrikt",placeholder:"underdistrikt"}))),a.createElement("div",null,a.createElement(Ei,{name:"file",label:"Velg bilde",control:v}))),a.createElement(Oe.Panel,{as:Wt.div,key:1,initial:"hide",animate:"show",variants:Zt,className:"flex flex-col gap-y-4 sm:gap-y-6 lg:gap-y-8"},a.createElement("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5"},a.createElement(Je,{control:v,name:"freshness",type:"freshness",label:"Ferskhet"}),a.createElement(Je,{label:"Fylde",type:"fullness",name:"fullness",control:v}),a.createElement(Je,{label:"Bitterhet",type:"bitterness",name:"bitterness",control:v}),a.createElement(Je,{label:"S\xF8dme",type:"sweetness",name:"sweetness",control:v}),a.createElement(Je,{label:"Tanninsk",type:"tannins",name:"tannins",control:v})),a.createElement(Zr,{label:"Passer til",min:3,max:12,name:"recommendedFood",control:v}),a.createElement(Zr,{label:"R\xE5stoff",min:5,max:12,name:"grapes",control:v}),a.createElement("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2"},a.createElement(ae,{textarea:!0,rows:4,maxLength:500,control:v,name:"colour",label:"Farge",placeholder:"farge"}),a.createElement(ae,{textarea:!0,rows:4,maxLength:500,control:v,name:"odour",label:"Duft",placeholder:"duft"})),a.createElement(ae,{textarea:!0,rows:4,maxLength:500,control:v,name:"taste",label:"Smak",placeholder:"smak"})),a.createElement(Oe.Panel,{as:Wt.div,key:2,initial:"hide",animate:"show",variants:Zt,className:"flex flex-col gap-y-4 sm:gap-y-6 lg:gap-y-8"},a.createElement("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2"},a.createElement(ae,{control:v,name:"userDetails.quantity",label:"Antall",numeric:!0,maxLength:4,placeholder:"antall"}),a.createElement(ae,{control:v,name:"userDetails.purchaseLocation",label:"Kj\xF8pested",placeholder:"kj\xF8pested"})),a.createElement("div",{className:"grid grid-cols-1 gap-4 gap-y-4 sm:grid-cols-2 sm:gap-y-6 lg:grid-cols-3 lg:gap-y-8"},a.createElement(ae,{control:v,name:"userDetails.score",numeric:!0,maxLength:3,label:"Karakter (50-100)",placeholder:"karakter"}),a.createElement(Kt,{control:v,minValue:0,maxValue:3e3,dropDownMinValue:new Date().getFullYear()-5,dropDownMaxValue:new Date().getFullYear()+5,name:"userDetails.drinkingWindowMin",label:"Drikkevindu (fra)",placeholder:"\xE5r fra"}),a.createElement(Kt,{control:v,minValue:0,maxValue:3e3,dropDownMinValue:new Date().getFullYear()-5,dropDownMaxValue:new Date().getFullYear()+10,name:"userDetails.drinkingWindowMax",label:"Drikkevindu (til)",placeholder:"\xE5r til"}),a.createElement(Ai,{control:v,name:"userDetails.favorite",label:"Favoritt?"}),a.createElement(wi,{control:v,name:"userDetails.userRating",label:"Din vurdering"}),a.createElement(_i,{control:v,name:"userDetails.purchaseDate",label:"Dato kj\xF8pt",text:"Velg dato",hereafter:!1})),a.createElement(ae,{textarea:!0,rows:5,maxLength:500,control:v,name:"userDetails.userNote",label:"Dine notater",placeholder:"notater"})))),a.createElement("div",{className:"my-6 border-t border-slate-200 dark:border-gray-700"}),a.createElement("div",{className:"flex flex-col gap-y-4 gap-x-2 sm:grid sm:grid-cols-2 md:flex md:flex-row"},a.createElement(Yn,{className:"btn-white i-flex-row disabled-btn w-auto justify-center rounded-full px-5",to:-1},a.createElement(Gn,{size:"1.5rem"}),"Avbryt"),a.createElement("button",{className:"btn-white i-flex-row disabled-btn w-auto justify-center rounded-full px-5",disabled:!D,type:"button",onClick:()=>s(!0)},a.createElement(xa,{size:"1.5rem"}),"Forh\xE5ndsvis"),a.createElement("i",{className:"hidden flex-1 md:block"}),n&&a.createElement(wr,{loading:j,isPrimary:!1,disabled:j,loadingText:"Sletter vin...",type:"button",className:"i-flex-row disabled-btn w-auto justify-center rounded-full px-5",onClick:()=>n(!0)},a.createElement(da,{size:"1.5rem"}),"Slett"),a.createElement(wr,{disabled:!D,loading:j,className:`justify-center ${t?"":"col-span-2"}`,loadingText:t?"Oppdaterer vin...":"Legger til vin...",type:"submit"},t?a.createElement(la,{size:"1.5rem"}):a.createElement(Jn,{size:"1.5rem"}),t?"Lagre endringer":"Legg til"))))))};export{Hi as C};
